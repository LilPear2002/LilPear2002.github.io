<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>seleniumå­¦ä¹ </title>
    <link href="/2025/12/10/selenium%E5%AD%A6%E4%B9%A0/"/>
    <url>/2025/12/10/selenium%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="Seleniumç‰¹ç‚¹"><a href="#Seleniumç‰¹ç‚¹" class="headerlink" title="Seleniumç‰¹ç‚¹"></a>Seleniumç‰¹ç‚¹</h1><ul><li><strong>è·¨æµè§ˆå™¨æ”¯æŒ</strong>ï¼šSelenium æ”¯æŒå¤šç§ä¸»æµæµè§ˆå™¨ï¼Œå¦‚ Chromeã€Firefoxã€Safariã€Internet Explorer ç­‰ï¼Œå¯ä»¥åœ¨ä¸åŒæµè§ˆå™¨ä¸­æ‰§è¡Œç›¸åŒçš„æµ‹è¯•è„šæœ¬ã€‚</li><li><strong>å¤šè¯­è¨€æ”¯æŒ</strong>ï¼šSelenium æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€ï¼Œå¼€å‘è€…å¯ä»¥ç”¨è‡ªå·±ç†Ÿæ‚‰çš„è¯­è¨€æ¥ç¼–å†™æµ‹è¯•è„šæœ¬ã€‚</li><li><strong>çµæ´»æ€§</strong>ï¼šSelenium å¯ä»¥ä¸å„ç§æµ‹è¯•æ¡†æ¶ç»“åˆä½¿ç”¨ï¼Œå¦‚ TestNGã€JUnitã€PyTest ç­‰ï¼Œæä¾›äº†ä¸°å¯Œçš„æµ‹è¯•åŠŸèƒ½ã€‚</li><li><strong>ä¸ CI&#x2F;CD é›†æˆ</strong>ï¼šSelenium å¯ä»¥ä¸ Jenkins ç­‰æŒç»­é›†æˆå·¥å…·é›†æˆï¼Œå¸®åŠ©å®ç°è‡ªåŠ¨åŒ–æµ‹è¯•å’ŒæŒç»­äº¤ä»˜ã€‚</li><li><strong>è‡ªåŠ¨åŒ–Webäº¤äº’</strong>ï¼šSelenium å¯ä»¥æ¨¡æ‹ŸçœŸå®ç”¨æˆ·çš„æ“ä½œï¼Œå¦‚ç‚¹å‡»ã€æ»šåŠ¨ã€é”®ç›˜è¾“å…¥ç­‰</li></ul><hr><h1 id="Selenium-WebDriver"><a href="#Selenium-WebDriver" class="headerlink" title="Selenium WebDriver"></a>Selenium WebDriver</h1><p>Selenium WebDriver æ˜¯ Selenium çš„æ ¸å¿ƒç»„ä»¶ï¼Œå®ƒæä¾›äº†ä¸æµè§ˆå™¨äº¤äº’çš„ APIï¼Œå…è®¸å¼€å‘è€…é€šè¿‡ç¼–ç¨‹è¯­è¨€æ§åˆ¶æµè§ˆå™¨å¹¶æ‰§è¡Œå„ç§æ“ä½œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å¯¼å…¥æ‰€éœ€æ¨¡å—</span><br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><span class="hljs-keyword">from</span> selenium.webdriver.chrome.service <span class="hljs-keyword">import</span> Service <span class="hljs-keyword">as</span> ChromeService<br><br><span class="hljs-comment"># åˆ›å»º ChromeService å¯¹è±¡ï¼ŒæŒ‡å®š ChromeDriver çš„è·¯å¾„ã€‚</span><br>service = ChromeService(executable_path=<span class="hljs-string">&quot;./chromedriver-mac-arm64/chromedriver&quot;</span>)<br><span class="hljs-comment"># åˆ›å»º ChromeOptions å¯¹è±¡ï¼Œç”¨äºé…ç½®æµè§ˆå™¨çš„å¯åŠ¨é€‰é¡¹</span><br>options = webdriver.ChromeOptions()<br><span class="hljs-comment"># ä½¿ç”¨ webdriver.Chrome() å¯åŠ¨ Chrome æµè§ˆå™¨ï¼Œå¹¶ä¼ å…¥ service å’Œ options å‚æ•°</span><br>driver = webdriver.Chrome(service=service, options=options)<br><br><span class="hljs-comment"># ä½¿ç”¨ get() æ–¹æ³•æ‰“å¼€æŒ‡å®šçš„ URL</span><br>driver.get(<span class="hljs-string">&quot;https://www.runoob.com&quot;</span>)<br><br><span class="hljs-comment"># æœ€å¤§åŒ–çª—å£</span><br>driver.maximize_window()<br><br><span class="hljs-comment"># è·å–é¡µé¢æ ‡é¢˜å’Œ URL</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;é¡µé¢æ ‡é¢˜:&quot;</span>, driver.title)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å½“å‰ URL:&quot;</span>, driver.current_url)<br><br><span class="hljs-comment"># å¯¼èˆªåˆ°å¦ä¸€ä¸ªé¡µé¢</span><br>driver.get(<span class="hljs-string">&quot;https://www.jyshare.com&quot;</span>)<br><br><span class="hljs-comment"># è¿”å›ä¸Šä¸€ä¸ªé¡µé¢</span><br>driver.back()<br><br><span class="hljs-comment"># åˆ·æ–°é¡µé¢</span><br>driver.refresh()<br><br><span class="hljs-comment"># å…³é—­æµè§ˆå™¨</span><br>driver.quit()<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.openqa.selenium.WebDriver;<br><span class="hljs-keyword">import</span> org.openqa.selenium.chrome.ChromeDriver;<br><span class="hljs-keyword">import</span> org.openqa.selenium.chrome.ChromeOptions;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SeleniumExample</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// è®¾ç½® ChromeDriver è·¯å¾„ï¼ˆæ–¹å¼1ï¼šé€šè¿‡ç³»ç»Ÿå±æ€§ï¼‰</span><br>        System.setProperty(<span class="hljs-string">&quot;webdriver.chrome.driver&quot;</span>, <span class="hljs-string">&quot;./chromedriver-mac-arm64/chromedriver&quot;</span>);<br>        <br>        <span class="hljs-comment">// åˆ›å»º ChromeOptions å¯¹è±¡ï¼Œç”¨äºé…ç½®æµè§ˆå™¨çš„å¯åŠ¨é€‰é¡¹</span><br>        <span class="hljs-type">ChromeOptions</span> <span class="hljs-variable">options</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ChromeOptions</span>();<br>        <br>        <span class="hljs-comment">// åˆ›å»º ChromeDriver å¯¹è±¡ï¼Œå¯åŠ¨ Chrome æµè§ˆå™¨</span><br>        <span class="hljs-type">WebDriver</span> <span class="hljs-variable">driver</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ChromeDriver</span>(options);<br>        <br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">// ä½¿ç”¨ get() æ–¹æ³•æ‰“å¼€æŒ‡å®šçš„ URL</span><br>            driver.get(<span class="hljs-string">&quot;https://www.runoob.com&quot;</span>);<br>            <br>            <span class="hljs-comment">// æœ€å¤§åŒ–çª—å£</span><br>            driver.manage().window().maximize();<br>            <br>            <span class="hljs-comment">// è·å–é¡µé¢æ ‡é¢˜å’Œ URL</span><br>            System.out.println(<span class="hljs-string">&quot;é¡µé¢æ ‡é¢˜: &quot;</span> + driver.getTitle());<br>            System.out.println(<span class="hljs-string">&quot;å½“å‰ URL: &quot;</span> + driver.getCurrentUrl());<br>            <br>            <span class="hljs-comment">// å¯¼èˆªåˆ°å¦ä¸€ä¸ªé¡µé¢</span><br>            driver.get(<span class="hljs-string">&quot;https://www.jyshare.com&quot;</span>);<br>            <br>            <span class="hljs-comment">// è¿”å›ä¸Šä¸€ä¸ªé¡µé¢</span><br>            driver.navigate().back();<br>            <br>            <span class="hljs-comment">// åˆ·æ–°é¡µé¢</span><br>            driver.navigate().refresh();<br>            <br>        &#125; <span class="hljs-keyword">finally</span> &#123;<br>            <span class="hljs-comment">// å…³é—­æµè§ˆå™¨</span><br>            driver.quit();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><hr><h1 id="å…ƒç´ å®šä½"><a href="#å…ƒç´ å®šä½" class="headerlink" title="å…ƒç´ å®šä½"></a>å…ƒç´ å®šä½</h1><h2 id="1-IDå®šä½"><a href="#1-IDå®šä½" class="headerlink" title="1.IDå®šä½"></a>1.IDå®šä½</h2><p>idæ˜¯æ ‡ç­¾çš„å”¯ä¸€å±æ€§,å¯ä»¥é€šè¿‡idå±æ€§æ¥å”¯ä¸€å®šä½ä¸€ä¸ªå…ƒç´ (å”¯ä¸€ä¸”æœ€å¿«ï¼Œå¦‚æœæœ‰IDå…ˆç”¨ID)</p><img src="/2025/12/10/selenium%E5%AD%A6%E4%B9%A0/image1.png" class="" title="IDå®šä½"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">driver.find_element(By.ID,<span class="hljs-string">&quot; &quot;</span>)<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">driver.findElement(By.id(<span class="hljs-string">&quot;&quot;</span>))<br></code></pre></td></tr></table></figure><h2 id="2-nameå®šä½"><a href="#2-nameå®šä½" class="headerlink" title="2.nameå®šä½"></a>2.nameå®šä½</h2><p>å¤‡èƒã€‚å®¹æ˜“é‡å¤ï¼Œä¸æ¨èä½œä¸ºé¦–é€‰</p><img src="/2025/12/10/selenium%E5%AD%A6%E4%B9%A0/image2.png" class="" title="nameå®šä½"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">driver.find_element(By.Name,<span class="hljs-string">&quot; &quot;</span>))<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">driver.findElement(By.name(<span class="hljs-string">&quot;&quot;</span>))<br></code></pre></td></tr></table></figure><h2 id="3-ClassNameå®šä½"><a href="#3-ClassNameå®šä½" class="headerlink" title="3.ClassNameå®šä½"></a>3.ClassNameå®šä½</h2><p>å¤‡èƒã€‚å®¹æ˜“é‡å¤ï¼Œä¸æ¨èä½œä¸ºé¦–é€‰</p><img src="/2025/12/10/selenium%E5%AD%A6%E4%B9%A0/image3.png" class="" title="ClassNameå®šä½"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">driver.find_element( By.CLASS_NAME,<span class="hljs-string">&quot; &quot;</span>)<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">driver.findElement(By.className(<span class="hljs-string">&quot;&quot;</span>))<br></code></pre></td></tr></table></figure><p>å‘ï¼šå¦‚æœ HTML æ˜¯ <button class="btn btn-primary">ï¼Œä½ ä¸èƒ½ç›´æ¥å†™ â€œbtn btn-primaryâ€ã€‚å› ä¸ºä¸­é—´æœ‰ç©ºæ ¼ï¼ŒSelenium ä¼šè®¤ä¸ºè¿™æ˜¯ä¸¤ä¸ªç±»åï¼Œä¼šæŠ¥é”™ã€‚æ‰€ä»¥åªå–å…¶ä¸­ä¸€ä¸ªå”¯ä¸€çš„ç±»åï¼Œæˆ–è€…æ”¹ç”¨ CSS Selectorã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># âŒ é”™è¯¯å†™æ³•</span><br>driver.find_element(By.CLASS_NAME, <span class="hljs-string">&quot;btn btn-primary&quot;</span>)<br><br><span class="hljs-comment"># âœ… æ­£ç¡®å†™æ³• (åªå–å…¶ä¸­ä¸€æ®µ)</span><br>driver.find_element(By.CLASS_NAME, <span class="hljs-string">&quot;btn-primary&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="4-tagNameå®šä½"><a href="#4-tagNameå®šä½" class="headerlink" title="4.tagNameå®šä½"></a>4.<strong>tagName</strong>å®šä½</h2><p>å¤‡èƒã€‚å®¹æ˜“é‡å¤ï¼Œä¸æ¨èä½œä¸ºé¦–é€‰</p><img src="/2025/12/10/selenium%E5%AD%A6%E4%B9%A0/image4.png" class="" title="tagNameå®šä½"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">driver.find_element( By.TAG_NAME,<span class="hljs-string">&quot; &quot;</span>)<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">driver.findElement(By.tagName(<span class="hljs-string">&quot;&quot;</span>))<br></code></pre></td></tr></table></figure><h2 id="5-cssSelectorå®šä½"><a href="#5-cssSelectorå®šä½" class="headerlink" title="5.cssSelectorå®šä½"></a>5.<strong>cssSelector</strong>å®šä½</h2><p>è¯­æ³•ç®€æ´ï¼Œæ¸²æŸ“é€Ÿåº¦æ¯” XPath å¿«ï¼Œé€‚åˆæ²¡æœ‰ ID ä½†æœ‰ç‰¹å®šå±æ€§çš„å…ƒç´ </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">driver.find_element( By.CSS_SELECTOR,<span class="hljs-string">&quot; &quot;</span>)<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">driver.findElement(By.cssSelector(<span class="hljs-string">&quot;&quot;</span>))<br></code></pre></td></tr></table></figure><h3 id="åŸºç¡€é€‰æ‹©å™¨"><a href="#åŸºç¡€é€‰æ‹©å™¨" class="headerlink" title="åŸºç¡€é€‰æ‹©å™¨"></a>åŸºç¡€é€‰æ‹©å™¨</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 1ï¼‰idé€‰æ‹©å™¨å®šä½</span><br>driver.find_element(By.CSS_SELECTOR, <span class="hljs-string">&quot;#kw&quot;</span>)<br><br><span class="hljs-comment"># 2ï¼‰ç±»é€‰æ‹©å™¨å®šä½</span><br>driver.find_element(By.CSS_SELECTOR, <span class="hljs-string">&quot;.s_ipt&quot;</span>)<br><br><span class="hljs-comment"># 3ï¼‰æ ‡ç­¾é€‰æ‹©å™¨</span><br>driver.find_element(By.CSS_SELECTOR, <span class="hljs-string">&quot;input&quot;</span>)  <span class="hljs-comment"># æŸ¥æ‰¾ç¬¬ä¸€ä¸ª&lt;input&gt;æ ‡ç­¾</span><br></code></pre></td></tr></table></figure><h3 id="å±æ€§é€‰æ‹©å™¨"><a href="#å±æ€§é€‰æ‹©å™¨" class="headerlink" title="å±æ€§é€‰æ‹©å™¨"></a>å±æ€§é€‰æ‹©å™¨</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 1ï¼‰å•ä¸ªå±æ€§å®šä½</span><br>driver.find_element(By.CSS_SELECTOR, <span class="hljs-string">&quot;[id=&#x27;chat-textarea&#x27;]&quot;</span>)<br><br><span class="hljs-comment"># 2ï¼‰å¤šä¸ªå±æ€§å®šä½</span><br>driver.find_element(By.CSS_SELECTOR, <span class="hljs-string">&quot;[rows=&#x27;1&#x27;][autocomplete=&#x27;off&#x27;][id=&#x27;chat-textarea&#x27;]&quot;</span>)<br><br><span class="hljs-comment"># 3ï¼‰æ ‡ç­¾å+å±æ€§é€‰æ‹©å™¨ç»„åˆå®šä½</span><br>driver.find_element(By.CSS_SELECTOR, <span class="hljs-string">&quot;textarea[id=&#x27;chat-textarea&#x27;]&quot;</span>)<br><br><span class="hljs-comment"># 4ï¼‰é€šè¿‡æ ‡ç­¾å+IDé€‰æ‹©å™¨ç»„åˆå®šä½</span><br>driver.find_element(By.CSS_SELECTOR, <span class="hljs-string">&quot;textarea#chat-textarea&quot;</span>)<br><br><span class="hljs-comment"># 5ï¼‰é€šè¿‡æ ‡ç­¾å+ç±»é€‰æ‹©å™¨ç»„åˆå®šä½</span><br>driver.find_element(By.CSS_SELECTOR, <span class="hljs-string">&quot;textarea.chat-input-textarea&quot;</span>)<br><br><span class="hljs-comment"># 6ï¼‰é€šè¿‡æ ‡ç­¾å±‚çº§å®šä½</span><br>driver.find_element(By.CSS_SELECTOR, <span class="hljs-string">&quot;form&gt;span&gt;input&quot;</span>)<br>driver.find_element(By.CSS_SELECTOR, <span class="hljs-string">&quot;div&gt;div:nth-child(2)&gt;div:nth-child(2)&gt;a:nth-child(3)&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="6-link-textå®šä½"><a href="#6-link-textå®šä½" class="headerlink" title="6.link_textå®šä½"></a>6.<strong>link_text</strong>å®šä½</h2><img src="/2025/12/10/selenium%E5%AD%A6%E4%B9%A0/image5.png" class="" title="link_textå®šä½"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">driver.find_element( By.LINK_TEXT,<span class="hljs-string">&quot; &quot;</span>)<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">driver.findElement(By.linkText(<span class="hljs-string">&quot;åœ°å›¾&quot;</span>))<br></code></pre></td></tr></table></figure><h2 id="7-partialLinkTextå®šä½"><a href="#7-partialLinkTextå®šä½" class="headerlink" title="7.partialLinkTextå®šä½"></a>7.<strong>partialLinkText</strong>å®šä½</h2><img src="/2025/12/10/selenium%E5%AD%A6%E4%B9%A0/image6.png" class="" title="partialLinkTextå®šä½"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">driver.find_element( By.PARTIAL_LINK_TEXT,<span class="hljs-string">&quot; &quot;</span>)<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">driver.findElement(By.partialLinkText(<span class="hljs-string">&quot;æ›´&quot;</span>))<br></code></pre></td></tr></table></figure><h2 id="8-Xpathå®šä½"><a href="#8-Xpathå®šä½" class="headerlink" title="8.Xpathå®šä½"></a>8.Xpathå®šä½</h2><p><strong>åŠŸèƒ½æœ€å¼ºï¼ˆèƒ½é€šè¿‡æ–‡æœ¬å®šä½ã€èƒ½æ‰¾çˆ¶èŠ‚ç‚¹ï¼‰ï¼Œä½†é€Ÿåº¦ç¨æ…¢ï¼Œè¯­æ³•å•°å—¦</strong>ã€‚ä½†Xpathæ˜¯ä¸‡èƒ½çš„</p><h3 id="ç»å¯¹è·¯å¾„å®šä½"><a href="#ç»å¯¹è·¯å¾„å®šä½" class="headerlink" title="ç»å¯¹è·¯å¾„å®šä½"></a>ç»å¯¹è·¯å¾„å®šä½</h3><p><strong>ç‰¹ç‚¹ï¼š</strong> ä» HTML æ ¹èŠ‚ç‚¹ä¸€å±‚å±‚å¾€ä¸‹æ‰¾ï¼Œæå…¶è„†å¼±ã€‚å‰ç«¯ç¨å¾®åŠ ä¸ª <code>div</code> ä½ çš„ä»£ç å°±æŒ‚äº†ã€‚ <strong>è¯­æ³•ï¼š</strong> å•æ–œæ  <code>/</code> å¼€å¤´ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># éå¸¸ä¸å»ºè®®ç”¨</span><br>driver.find_element(By.XPATH, <span class="hljs-string">&quot;/html/body/div[1]/div[2]/div/div[1]/input&quot;</span>)<br></code></pre></td></tr></table></figure><h3 id="ç›¸å¯¹è·¯å¾„å®šä½"><a href="#ç›¸å¯¹è·¯å¾„å®šä½" class="headerlink" title="ç›¸å¯¹è·¯å¾„å®šä½"></a>ç›¸å¯¹è·¯å¾„å®šä½</h3><p><strong>ç‰¹ç‚¹ï¼š</strong> å¿½ç•¥å±‚çº§ï¼Œåœ¨æ•´ä¸ªé¡µé¢ä¸­æŸ¥æ‰¾ã€‚ <strong>è¯­æ³•ï¼š</strong> åŒæ–œæ  <code>//</code> å¼€å¤´ + æ ‡ç­¾å</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åœ¨æ•´ä¸ªé¡µé¢æ‰¾ input æ ‡ç­¾ï¼ˆå¦‚æœæœ‰å¾ˆå¤š inputï¼Œé»˜è®¤è¿”å›ç¬¬ä¸€ä¸ªï¼‰</span><br>driver.find_element(By.XPATH, <span class="hljs-string">&quot;//input&quot;</span>) <br><br><span class="hljs-comment"># æ‰¾é¡µé¢æ‰€æœ‰çš„ div ä¸‹é¢çš„ form æ ‡ç­¾</span><br>driver.find_element(By.XPATH, <span class="hljs-string">&quot;//div//form&quot;</span>)<br></code></pre></td></tr></table></figure><h3 id="å…ƒç´ å±æ€§å®šä½"><a href="#å…ƒç´ å±æ€§å®šä½" class="headerlink" title="å…ƒç´ å±æ€§å®šä½"></a>å…ƒç´ å±æ€§å®šä½</h3><p><strong>ç‰¹ç‚¹ï¼š</strong> ç»“åˆ <code>@å±æ€§å</code> ç²¾å‡†å®šä½ã€‚ <strong>è¯­æ³•ï¼š</strong> <code>//æ ‡ç­¾å[@å±æ€§=&#39;å€¼&#39;]</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># é€šè¿‡ id å±æ€§å®šä½</span><br>driver.find_element(By.XPATH, <span class="hljs-string">&quot;//input[@id=&#x27;kw&#x27;]&quot;</span>) <br><br><span class="hljs-comment"># é€šè¿‡ name å±æ€§å®šä½</span><br>driver.find_element(By.XPATH, <span class="hljs-string">&quot;//input[@name=&#x27;wd&#x27;]&quot;</span>) <br><br><span class="hljs-comment"># é€šè¿‡ class å±æ€§å®šä½</span><br>driver.find_element(By.XPATH, <span class="hljs-string">&quot;//input[@class=&#x27;s_ipt&#x27;]&quot;</span>) <br><br><span class="hljs-comment"># ç»“åˆæ ‡ç­¾å±‚çº§ï¼šæ‰¾åˆ° form æ ‡ç­¾ä¸‹çš„ input æ ‡ç­¾ï¼Œä¸”è¯¥ input æœ‰ id=&#x27;kw&#x27;</span><br>driver.find_element(By.XPATH, <span class="hljs-string">&quot;//form//input[@id=&#x27;kw&#x27;]&quot;</span>)<br></code></pre></td></tr></table></figure><h3 id="é€»è¾‘è¿ç®—ç¬¦å®šä½"><a href="#é€»è¾‘è¿ç®—ç¬¦å®šä½" class="headerlink" title="é€»è¾‘è¿ç®—ç¬¦å®šä½"></a>é€»è¾‘è¿ç®—ç¬¦å®šä½</h3><p><strong>ç‰¹ç‚¹ï¼š</strong> å½“ä¸€ä¸ªå±æ€§æ— æ³•å”¯ä¸€å®šä½æ—¶ï¼Œç”¨ <code>and</code> æˆ– <code>or</code> ç»„åˆå¤šä¸ªå±æ€§ã€‚ <strong>è¯­æ³•ï¼š</strong> <code>[@å±æ€§1=&#39;å€¼&#39; and @å±æ€§2=&#39;å€¼&#39;]</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åŒæ—¶æ»¡è¶³ name=&#x27;wd&#x27; ä¸” class=&#x27;s_ipt&#x27; çš„ input æ ‡ç­¾</span><br>driver.find_element(By.XPATH, <span class="hljs-string">&quot;//input[@name=&#x27;wd&#x27; and @class=&#x27;s_ipt&#x27;]&quot;</span>) <br><br><span class="hljs-comment"># åªè¦æ»¡è¶³ id=&#x27;kw&#x27; æˆ–è€… name=&#x27;wd&#x27; ä»»æ„ä¸€ä¸ªå³å¯</span><br>driver.find_element(By.XPATH, <span class="hljs-string">&quot;//input[@id=&#x27;kw&#x27; or @name=&#x27;wd&#x27;]&quot;</span>)<br></code></pre></td></tr></table></figure><h3 id="æ–‡æœ¬å†…å®¹å®šä½"><a href="#æ–‡æœ¬å†…å®¹å®šä½" class="headerlink" title="æ–‡æœ¬å†…å®¹å®šä½"></a>æ–‡æœ¬å†…å®¹å®šä½</h3><p><strong>ç‰¹ç‚¹ï¼š</strong> å¾ˆå¤šé“¾æ¥ï¼ˆ<code>&lt;a&gt;</code>ï¼‰æˆ–æŒ‰é’®ï¼ˆ<code>&lt;button&gt;</code>ï¼‰æ²¡æœ‰ IDï¼Œåªæœ‰æ–‡å­—ã€‚ <strong>è¯­æ³•ï¼š</strong> <code>text()=&#39;å®Œæ•´æ–‡å­—&#39;</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å®šä½æ–‡æœ¬å®Œå…¨ç­‰äº &quot;æ–°é—»&quot; çš„ a æ ‡ç­¾</span><br>driver.find_element(By.XPATH, <span class="hljs-string">&quot;//a[text()=&#x27;æ–°é—»&#x27;]&quot;</span>) <br><br><span class="hljs-comment"># å®šä½æ–‡æœ¬å®Œå…¨ç­‰äº &quot;ç™»å½•&quot; çš„ button æŒ‰é’®</span><br>driver.find_element(By.XPATH, <span class="hljs-string">&quot;//button[text()=&#x27;ç™»å½•&#x27;]&quot;</span>)<br></code></pre></td></tr></table></figure><h3 id="éƒ¨åˆ†æ–‡æœ¬-å±æ€§å®šä½-æ¨¡ç³ŠåŒ¹é…"><a href="#éƒ¨åˆ†æ–‡æœ¬-å±æ€§å®šä½-æ¨¡ç³ŠåŒ¹é…" class="headerlink" title="éƒ¨åˆ†æ–‡æœ¬&#x2F;å±æ€§å®šä½-æ¨¡ç³ŠåŒ¹é…"></a>éƒ¨åˆ†æ–‡æœ¬&#x2F;å±æ€§å®šä½-æ¨¡ç³ŠåŒ¹é…</h3><p><strong>ç‰¹ç‚¹ï¼š</strong> å¤„ç†åŠ¨æ€å˜åŒ–çš„å…ƒç´ ï¼ˆä¾‹å¦‚ï¼š<code>id=&quot;user_123&quot;</code>, <code>id=&quot;user_456&quot;</code>ï¼‰æˆ–é•¿æ–‡æœ¬ã€‚ <strong>è¯­æ³•ï¼š</strong> <code>contains(@å±æ€§æˆ–text(), &#39;éƒ¨åˆ†å€¼&#39;)</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ–‡æœ¬åŒ…å« &quot;ç™¾åº¦&quot; çš„æ‰€æœ‰é“¾æ¥ï¼ˆèƒ½åŒ¹é… &quot;ç™¾åº¦ä¸€ä¸‹&quot;ã€&quot;å…³äºç™¾åº¦&quot; ç­‰ï¼‰</span><br>driver.find_element(By.XPATH, <span class="hljs-string">&quot;//a[contains(text(), &#x27;ç™¾åº¦&#x27;)]&quot;</span>) <br><br><span class="hljs-comment"># id å±æ€§ä¸­åŒ…å« &quot;user_name&quot; çš„ input (èƒ½åŒ¹é… id=&quot;my_user_name_input&quot;)</span><br>driver.find_element(By.XPATH, <span class="hljs-string">&quot;//input[contains(@id, &#x27;user_name&#x27;)]&quot;</span>)<br></code></pre></td></tr></table></figure><h3 id="ä½¿ç”¨å‡½æ•°å®šä½"><a href="#ä½¿ç”¨å‡½æ•°å®šä½" class="headerlink" title="ä½¿ç”¨å‡½æ•°å®šä½"></a>ä½¿ç”¨å‡½æ•°å®šä½</h3><p><strong>ç‰¹ç‚¹ï¼š</strong> åŒ¹é…ä»¥ç‰¹å®šå­—ç¬¦å¼€å¤´çš„å†…å®¹ã€‚ <strong>è¯­æ³•ï¼š</strong> <code>starts-with(@å±æ€§, &#39;å¼€å¤´å€¼&#39;)</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åŒ¹é… id ä»¥ &quot;ctrl_7&quot; å¼€å¤´çš„ input å…ƒç´  (å¸¸ç”¨äº ExtJS ç­‰è‡ªåŠ¨ç”Ÿæˆ ID çš„æ¡†æ¶)</span><br>driver.find_element(By.XPATH, <span class="hljs-string">&quot;//input[starts-with(@id, &#x27;ctrl_7&#x27;)]&quot;</span>) <br><br><span class="hljs-comment"># åŒ¹é…æ–‡æœ¬ä»¥ &quot;æ¬¢è¿&quot; å¼€å¤´çš„ div</span><br>driver.find_element(By.XPATH, <span class="hljs-string">&quot;//div[starts-with(text(), &#x27;æ¬¢è¿&#x27;)]&quot;</span>)<br></code></pre></td></tr></table></figure><p>é—®ï¼šé‡åˆ°ä¸€ä¸ªéå¸¸éš¾å®šä½çš„å…ƒç´ ï¼Œä½ ä¼šæ€ä¹ˆå†™ XPathï¼Ÿ</p><p>å¦‚æœæ˜¯é™æ€å±æ€§ï¼Œæˆ‘ä¼˜å…ˆç”¨ <strong>å±æ€§å®šä½</strong> (<code>//tag[@id=&#39;...&#39;]</code>)ï¼›å¦‚æœæ˜¯é“¾æ¥æˆ–æŒ‰é’®ï¼Œæˆ‘ä¼šç”¨ <strong>æ–‡æœ¬å®šä½</strong> (<code>//a[text()=&#39;...&#39;]</code>)ï¼›å¦‚æœæ˜¯åŠ¨æ€ ID æˆ–å¤æ‚åœºæ™¯ï¼Œæˆ‘ä¼šç”¨ <strong>contains æ¨¡ç³ŠåŒ¹é…</strong> (<code>//div[contains(@class, &#39;...&#39;)]</code>)ï¼Œæˆ–è€…ç»“åˆ <strong>çˆ¶å­å±‚çº§å…³ç³»</strong> æ¥å†™</p><h2 id="åŸºç¡€å®šä½ç»ƒä¹ -SauceDemo"><a href="#åŸºç¡€å®šä½ç»ƒä¹ -SauceDemo" class="headerlink" title="åŸºç¡€å®šä½ç»ƒä¹ -SauceDemo"></a>åŸºç¡€å®šä½ç»ƒä¹ -<strong>SauceDemo</strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><span class="hljs-keyword">from</span> selenium.webdriver.chrome.service <span class="hljs-keyword">import</span> Service <span class="hljs-keyword">as</span> ChromeService<br><span class="hljs-keyword">from</span> selenium.webdriver.common.by <span class="hljs-keyword">import</span> By<br><br><br><span class="hljs-comment"># åˆ›å»º ChromeService å¯¹è±¡ï¼ŒæŒ‡å®š ChromeDriver çš„è·¯å¾„ã€‚</span><br>service = ChromeService(executable_path=<span class="hljs-string">&quot;D:\\develop\\chromedriver-win64\\chromedriver.exe&quot;</span>)<br><span class="hljs-comment"># åˆ›å»º ChromeOptions å¯¹è±¡ï¼Œç”¨äºé…ç½®æµè§ˆå™¨çš„å¯åŠ¨é€‰é¡¹</span><br>options = webdriver.ChromeOptions()<br><span class="hljs-comment"># ä½¿ç”¨ webdriver.Chrome() å¯åŠ¨ Chrome æµè§ˆå™¨ï¼Œå¹¶ä¼ å…¥ service å’Œ options å‚æ•°</span><br>driver = webdriver.Chrome(service=service, options=options)<br><br>driver.implicitly_wait(<span class="hljs-number">10</span>)<br>driver.get(<span class="hljs-string">&quot;https://www.saucedemo.com/&quot;</span>)<br>driver.maximize_window()<br>time.sleep(<span class="hljs-number">1</span>)<br><br>user_input = driver.find_element(By.ID, <span class="hljs-string">&quot;user-name&quot;</span>)<br>user_input.send_keys(<span class="hljs-string">&quot;standard_user&quot;</span>)<br>password_input = driver.find_element(By.XPATH, <span class="hljs-string">&quot;//input[@name=&#x27;password&#x27;]&quot;</span>)<br>password_input.send_keys(<span class="hljs-string">&quot;secret_sauce&quot;</span>)<br><br><span class="hljs-comment"># login_btn = driver.find_element(By.CSS_SELECTOR, &quot;input.btn_action&quot;)</span><br>login_btn = driver.find_element(By.CSS_SELECTOR, <span class="hljs-string">&quot;#login-button&quot;</span>)<br>login_btn.click()<br><br><span class="hljs-comment"># æ–­è¨€æ˜¯å¦ç™»å½•æˆåŠŸ</span><br><span class="hljs-comment"># time.sleep(2)</span><br><span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;inventory.html&quot;</span> <span class="hljs-keyword">in</span> driver.current_url<br><span class="hljs-comment"># åˆ¤æ–­Swag Labsæ˜¯å¦é¢„æœŸ</span><br>page_title = driver.find_element(By.XPATH, <span class="hljs-string">&quot;//div[@class=&#x27;app_logo&#x27;]&quot;</span>).text<br><span class="hljs-keyword">assert</span> page_title == <span class="hljs-string">&quot;Swag Labs&quot;</span><br><br><span class="hljs-comment"># time.sleep(1)</span><br><br><span class="hljs-comment"># add_to_cart_btn = driver.find_element(By.XPATH, &quot;//button[text()=&#x27;Add to cart&#x27;]&quot;)</span><br>add_to_cart_btn = driver.find_element(By.XPATH, <span class="hljs-string">&quot;//button[contains(text(),&#x27;Add to cart&#x27;)]&quot;</span>)<br>add_to_cart_btn.click()<br><br><span class="hljs-comment"># time.sleep(1)</span><br><span class="hljs-comment"># éªŒè¯è´­ç‰©è½¦å›¾æ ‡ä¸Šçš„æ•°é‡æ˜¯å¦ä¸º1</span><br>cart_badge = driver.find_element(By.XPATH, <span class="hljs-string">&quot;//span[@class=&#x27;shopping_cart_badge&#x27;]&quot;</span>).text<br><span class="hljs-keyword">assert</span> cart_badge == <span class="hljs-string">&quot;1&quot;</span><br><br><span class="hljs-comment"># driver.close()</span><br>driver.quit()<br></code></pre></td></tr></table></figure><h2 id="å…ƒç´ å®šä½ä¸åˆ°"><a href="#å…ƒç´ å®šä½ä¸åˆ°" class="headerlink" title="å…ƒç´ å®šä½ä¸åˆ°"></a>å…ƒç´ å®šä½ä¸åˆ°</h2><img src="/2025/12/10/selenium%E5%AD%A6%E4%B9%A0/image7.png" class="" title="å…ƒç´ å®šä½ä¸åˆ°"><hr><h1 id="WebDriverå¸¸ç”¨æ–¹æ³•"><a href="#WebDriverå¸¸ç”¨æ–¹æ³•" class="headerlink" title="WebDriverå¸¸ç”¨æ–¹æ³•"></a>WebDriverå¸¸ç”¨æ–¹æ³•</h1><h2 id="å¯¼èˆªæ–¹æ³•"><a href="#å¯¼èˆªæ–¹æ³•" class="headerlink" title="å¯¼èˆªæ–¹æ³•"></a>å¯¼èˆªæ–¹æ³•</h2><img src="/2025/12/10/selenium%E5%AD%A6%E4%B9%A0/image8.png" class="" title="å¯¼èˆªæ–¹æ³•"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><br><span class="hljs-comment"># 1. å¯åŠ¨æµè§ˆå™¨</span><br>driver = webdriver.Chrome()<br>driver.implicitly_wait(<span class="hljs-number">5</span>)  <span class="hljs-comment"># åŠ ä¸Šéšå¼ç­‰å¾…</span><br><br><span class="hljs-comment"># --- åŠ¨ä½œ 1: æ‰“å¼€ç¬¬ä¸€ä¸ªç½‘é¡µ (ç™¾åº¦) ---</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;1. æ­£åœ¨æ‰“å¼€ç™¾åº¦...&quot;</span>)<br>driver.get(<span class="hljs-string">&quot;https://www.baidu.com&quot;</span>)<br>time.sleep(<span class="hljs-number">2</span>) <span class="hljs-comment"># å¼ºåˆ¶ç­‰å¾…æ˜¯ä¸ºäº†çœ‹æ¸…æ•ˆæœ å®é™…æœ€å¥½åˆ«ç”¨</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å½“å‰æ ‡é¢˜: <span class="hljs-subst">&#123;driver.title&#125;</span>&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å½“å‰URL: <span class="hljs-subst">&#123;driver.current_url&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># --- åŠ¨ä½œ 2: æ‰“å¼€ç¬¬äºŒä¸ªç½‘é¡µ (Bç«™) ---</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n2. æ­£åœ¨è·³è½¬åˆ° Bilibili...&quot;</span>)<br>driver.get(<span class="hljs-string">&quot;https://www.bilibili.com&quot;</span>)<br>time.sleep(<span class="hljs-number">2</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å½“å‰æ ‡é¢˜: <span class="hljs-subst">&#123;driver.title&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># --- åŠ¨ä½œ 3: åé€€ (Back) ---</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n3. æ‰§è¡Œåé€€æ“ä½œ (å›åˆ°ç™¾åº¦)...&quot;</span>)<br>driver.back()<br>time.sleep(<span class="hljs-number">2</span>)<br><span class="hljs-comment"># éªŒè¯ä¸€ä¸‹æ˜¯ä¸æ˜¯å›åˆ°äº†ç™¾åº¦</span><br><span class="hljs-keyword">if</span> <span class="hljs-string">&quot;ç™¾åº¦&quot;</span> <span class="hljs-keyword">in</span> driver.title:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;âœ… åé€€æˆåŠŸï¼&quot;</span>)<br><br><span class="hljs-comment"># --- åŠ¨ä½œ 4: å‰è¿› (Forward) ---</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n4. æ‰§è¡Œå‰è¿›æ“ä½œ (å›åˆ° Bilibili)...&quot;</span>)<br>driver.forward()<br>time.sleep(<span class="hljs-number">2</span>)<br><span class="hljs-keyword">if</span> <span class="hljs-string">&quot;å“”å“©å“”å“©&quot;</span> <span class="hljs-keyword">in</span> driver.title:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;âœ… å‰è¿›æˆåŠŸï¼&quot;</span>)<br><br><span class="hljs-comment"># --- åŠ¨ä½œ 5: åˆ·æ–° (Refresh) ---</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n5. æ‰§è¡Œåˆ·æ–°å½“å‰é¡µé¢...&quot;</span>)<br>driver.refresh()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;âœ… é¡µé¢åˆ·æ–°å®Œæ¯•&quot;</span>)<br><br>time.sleep(<span class="hljs-number">2</span>)<br>driver.quit()<br></code></pre></td></tr></table></figure><h2 id="å…ƒç´ æ“ä½œ"><a href="#å…ƒç´ æ“ä½œ" class="headerlink" title="å…ƒç´ æ“ä½œ"></a>å…ƒç´ æ“ä½œ</h2><img src="/2025/12/10/selenium%E5%AD%A6%E4%B9%A0/image9.png" class="" title="å…ƒç´ æ“ä½œ"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><span class="hljs-keyword">from</span> selenium.webdriver.common.by <span class="hljs-keyword">import</span> By<br><br><span class="hljs-comment"># 1. å¯åŠ¨æµè§ˆå™¨</span><br>driver = webdriver.Chrome()<br>driver.implicitly_wait(<span class="hljs-number">10</span>) <span class="hljs-comment"># å…¨å±€éšå¼ç­‰å¾…</span><br><br><span class="hljs-comment"># 2. æ‰“å¼€ç»ƒä¹ é¶åœº</span><br>url = <span class="hljs-string">&quot;https://the-internet.herokuapp.com/login&quot;</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;æ­£åœ¨æ‰“å¼€: <span class="hljs-subst">&#123;url&#125;</span>&quot;</span>)<br>driver.get(url)<br><br><span class="hljs-comment"># --- å®šä½å…ƒç´  ---</span><br>username_input = driver.find_element(By.ID, <span class="hljs-string">&quot;username&quot;</span>)<br>password_input = driver.find_element(By.ID, <span class="hljs-string">&quot;password&quot;</span>)<br>login_btn = driver.find_element(By.CSS_SELECTOR, <span class="hljs-string">&quot;button.radius&quot;</span>)<br><br><span class="hljs-comment"># --- æ¼”ç¤º 1: çŠ¶æ€åˆ¤æ–­ (is_displayed) ---</span><br><span class="hljs-keyword">if</span> username_input.is_displayed():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;âœ… ç”¨æˆ·åè¾“å…¥æ¡†å¯è§ï¼Œå‡†å¤‡æ“ä½œ...&quot;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;âŒ æ‰¾ä¸åˆ°è¾“å…¥æ¡†ï¼&quot;</span>)<br><br><span class="hljs-comment"># --- æ¼”ç¤º 2: è¾“å…¥ä¸æ¸…ç©º (send_keys + clear) ---</span><br><span class="hljs-comment"># æ¨¡æ‹Ÿæ‰‹è¯¯ï¼šè¾“å…¥äº†é”™è¯¯çš„ç”¨æˆ·å</span><br>username_input.send_keys(<span class="hljs-string">&quot;wrong_user_123&quot;</span>)<br>time.sleep(<span class="hljs-number">1</span>) <span class="hljs-comment"># æš‚åœä¸€ä¸‹è®©ä½ çœ‹åˆ°è¾“å…¥äº†é”™è¯¯çš„å†…å®¹</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å·²è¾“å…¥é”™è¯¯ç”¨æˆ·å&quot;</span>)<br><br><span class="hljs-comment"># å‘ç°é”™äº†ï¼Œæ¸…ç©ºï¼</span><br>username_input.clear()<br>time.sleep(<span class="hljs-number">1</span>) <span class="hljs-comment"># æš‚åœä¸€ä¸‹è®©ä½ çœ‹åˆ°æ¸…ç©ºçš„æ•ˆæœ</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å·²æ¸…ç©ºè¾“å…¥æ¡†&quot;</span>)<br><br><span class="hljs-comment"># è¾“å…¥æ­£ç¡®çš„ç”¨æˆ·å</span><br>username_input.send_keys(<span class="hljs-string">&quot;tomsmith&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å·²è¾“å…¥æ­£ç¡®ç”¨æˆ·å: tomsmith&quot;</span>)<br><br><span class="hljs-comment"># --- æ¼”ç¤º 3: è·å–å±æ€§ (get_attribute) â€”â€” å®‰å…¨æµ‹è¯•å¸¸ç”¨ ---</span><br><br><span class="hljs-comment"># é¢è¯•é¢˜ï¼šä½ æ€ä¹ˆéªŒè¯å¯†ç æ¡†é‡Œçš„å¯†ç æ˜¯æ©ç æ˜¾ç¤ºçš„ï¼ˆå³æ˜¾ç¤ºä¸ºåœ†ç‚¹æˆ–æ˜Ÿå·ï¼‰ï¼Ÿ</span><br><span class="hljs-comment"># ç­”æ¡ˆï¼šè·å–å®ƒçš„ type å±æ€§ï¼Œçœ‹æ˜¯ä¸æ˜¯ç­‰äº &quot;password&quot;</span><br><span class="hljs-comment"># type_attr = password_input.get_attribute(&quot;type&quot;)</span><br>type_attr = password_input.get_dom_attribute(<span class="hljs-string">&quot;type&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å¯†ç æ¡†çš„ type å±æ€§æ˜¯: <span class="hljs-subst">&#123;type_attr&#125;</span>&quot;</span>)<br><br><span class="hljs-keyword">if</span> type_attr == <span class="hljs-string">&quot;password&quot;</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;âœ… å®‰å…¨æ£€æŸ¥é€šè¿‡ï¼šå¯†ç æ¡†æ˜¯åŠ å¯†æ˜¾ç¤ºçš„&quot;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;âŒ å®‰å…¨æ¼æ´ï¼šå¯†ç æ¡†æ˜¯æ˜æ–‡æ˜¾ç¤ºçš„ï¼&quot;</span>)<br><br><span class="hljs-comment"># è¾“å…¥å¯†ç </span><br>password_input.send_keys(<span class="hljs-string">&quot;SuperSecretPassword!&quot;</span>)<br><br><span class="hljs-comment"># --- æ¼”ç¤º 4: ç‚¹å‡»ç™»å½• (click) ---</span><br>login_btn.click()<br><br><span class="hljs-comment"># --- éªŒè¯ç»“æœ ---</span><br><span class="hljs-comment"># ç™»å½•æˆåŠŸåï¼Œé¡µé¢ä¼šå‡ºç°ä¸€ä¸ªç»¿è‰²çš„æç¤ºæ¡</span><br>success_msg = driver.find_element(By.ID, <span class="hljs-string">&quot;flash&quot;</span>).text<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;é¡µé¢æç¤ºä¿¡æ¯: <span class="hljs-subst">&#123;success_msg&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># æ–­è¨€ï¼šéªŒè¯æç¤ºä¿¡æ¯é‡ŒåŒ…å« &#x27;You logged into a secure area&#x27;</span><br><span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;You logged into a secure area&quot;</span> <span class="hljs-keyword">in</span> success_msg<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ğŸ‰ æµ‹è¯•é€šè¿‡ï¼æˆåŠŸç™»å½•ã€‚&quot;</span>)<br><br><span class="hljs-comment"># è·å–å½“å‰é¡µé¢çš„URL</span><br>current_url = driver.current_url<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å½“å‰é¡µé¢URL: <span class="hljs-subst">&#123;current_url&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># è·å–å½“å‰é¡µé¢çš„æ ‡é¢˜</span><br>current_title = driver.title<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å½“å‰é¡µé¢æ ‡é¢˜: <span class="hljs-subst">&#123;current_title&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># è·å–å½“å‰é¡µé¢çš„HTMLæºä»£ç </span><br>page_source = driver.page_source<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å½“å‰é¡µé¢HTMLæºä»£ç é•¿åº¦: <span class="hljs-subst">&#123;<span class="hljs-built_in">len</span>(page_source)&#125;</span> å­—ç¬¦&quot;</span>)<br><br>time.sleep(<span class="hljs-number">3</span>)<br>driver.quit()<br></code></pre></td></tr></table></figure><ul><li><strong>get_dom_attribute(name)</strong>ï¼š<ul><li><strong>ç”¨é€”</strong>ï¼šè·å– <strong>HTML æºä»£ç é‡Œå†™æ­»çš„å±æ€§</strong>ã€‚</li><li><strong>åœºæ™¯</strong>ï¼šè·å– idã€nameã€typeã€hrefã€classã€‚</li><li><strong>ä¾‹å­</strong>ï¼š<input value="123"> -&gt; æ°¸è¿œè¿”å› â€œ123â€ã€‚</li></ul></li><li><strong>get_property(name)</strong>ï¼š<ul><li><strong>ç”¨é€”</strong>ï¼šè·å– <strong>æµè§ˆå™¨è¿è¡Œæ—¶äº§ç”Ÿçš„å±æ€§</strong>ï¼ˆå³ç”¨æˆ·æ“ä½œåçš„çŠ¶æ€ï¼‰ã€‚</li><li><strong>åœºæ™¯</strong>ï¼šè·å–ç”¨æˆ·<strong>è¾“å…¥æ¡†é‡Œæ•²è¿›å»çš„å­—</strong> (value)ã€å¤é€‰æ¡†æ˜¯å¦è¢«å‹¾é€‰ (checked)ã€‚</li><li><strong>ä¾‹å­</strong>ï¼š<input value="123">ï¼Œç”¨æˆ·åˆ æ‰ 123 è¾“å…¥äº† abc -&gt; get_property(â€˜valueâ€™) è¿”å› â€œabcâ€ã€‚</li></ul></li></ul><h2 id="çª—å£å’Œæ ‡ç­¾é¡µæ“ä½œ"><a href="#çª—å£å’Œæ ‡ç­¾é¡µæ“ä½œ" class="headerlink" title="çª—å£å’Œæ ‡ç­¾é¡µæ“ä½œ"></a>çª—å£å’Œæ ‡ç­¾é¡µæ“ä½œ</h2><img src="/2025/12/10/selenium%E5%AD%A6%E4%B9%A0/image10.png" class="" title="çª—å£å’Œæ ‡ç­¾é¡µæ“ä½œ"><h3 id="å¥æŸ„"><a href="#å¥æŸ„" class="headerlink" title="å¥æŸ„"></a>å¥æŸ„</h3><p>æŠŠå¥æŸ„æƒ³è±¡æˆ<strong>çª—å£çš„èº«ä»½è¯å·</strong>ã€‚</p><ul><li>æ¯ä¸ªæ ‡ç­¾é¡µï¼ˆTabï¼‰æˆ–çª—å£éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„å­—ç¬¦ä¸² IDã€‚</li><li>Selenium é€šè¿‡è¿™ä¸ª ID æ¥å†³å®šæ§åˆ¶å“ªä¸ªçª—å£ã€‚</li></ul><p><strong>æ ¸å¿ƒæ–¹æ³• ï¼š</strong></p><ol><li>driver.current_window_handle: è·å–<strong>å½“å‰</strong>çª—å£çš„å¥æŸ„ã€‚</li><li>driver.window_handles: è·å–æµè§ˆå™¨é‡Œ<strong>æ‰€æœ‰</strong>çª—å£çš„å¥æŸ„ï¼ˆè¿”å›ä¸€ä¸ªåˆ—è¡¨ Listï¼‰ã€‚</li><li>driver.switch_to.window(handle): åˆ‡æ¢åˆ°æŒ‡å®šå¥æŸ„çš„çª—å£ã€‚</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><span class="hljs-keyword">from</span> selenium.webdriver.common.by <span class="hljs-keyword">import</span> By<br><br>driver = webdriver.Chrome()<br>driver.implicitly_wait(<span class="hljs-number">10</span>)<br><br><span class="hljs-comment"># 1. æ‰“å¼€ä¸»é¡µé¢</span><br>url = <span class="hljs-string">&quot;https://the-internet.herokuapp.com/windows&quot;</span><br>driver.get(url)<br><br><span class="hljs-comment"># è·å–å½“å‰ä¸»çª—å£çš„å¥æŸ„ (ç›¸å½“äºè®°ä¸‹ï¼šè¿™æ˜¯&quot;è€å®¶&quot;)</span><br>original_window = driver.current_window_handle<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ä¸»çª—å£å¥æŸ„: <span class="hljs-subst">&#123;original_window&#125;</span>&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ä¸»çª—å£æ ‡é¢˜: <span class="hljs-subst">&#123;driver.title&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># 2. ç‚¹å‡»é“¾æ¥ï¼Œæ‰“å¼€æ–°çª—å£</span><br>driver.find_element(By.LINK_TEXT, <span class="hljs-string">&quot;Click Here&quot;</span>).click()<br><br><span class="hljs-comment"># --- å…³é”®æ—¶åˆ»ï¼šåˆ‡æ¢çª—å£ ---</span><br><br><span class="hljs-comment"># æ­¤æ—¶è™½ç„¶æ–°çª—å£å¼¹å‡ºæ¥äº†ï¼Œä½† driver è¿˜åœ¨è€çª—å£</span><br><span class="hljs-comment"># æˆ‘ä»¬è·å–æ‰€æœ‰çª—å£çš„å¥æŸ„åˆ—è¡¨</span><br>all_handles = driver.window_handles<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å½“å‰æ‰€æœ‰å¥æŸ„: <span class="hljs-subst">&#123;all_handles&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># éå†åˆ—è¡¨ï¼Œæ‰¾åˆ°é‚£ä¸ªâ€œä¸æ˜¯è€å®¶â€çš„å¥æŸ„ï¼Œå°±æ˜¯æ–°çª—å£</span><br><span class="hljs-keyword">for</span> handle <span class="hljs-keyword">in</span> all_handles:<br>    <span class="hljs-keyword">if</span> handle != original_window:<br>        <span class="hljs-comment"># æ‰¾åˆ°äº†æ–°çª—å£ï¼Œåˆ‡æ¢è¿‡å»ï¼</span><br>        driver.switch_to.window(handle)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ğŸ”€ å·²åˆ‡æ¢åˆ°æ–°çª—å£ï¼&quot;</span>)<br>        <span class="hljs-keyword">break</span><br><br><span class="hljs-comment"># --- 3. åœ¨æ–°çª—å£æ“ä½œ ---</span><br><span class="hljs-comment"># åªæœ‰åˆ‡æ¢æˆåŠŸäº†ï¼Œè¿™è¡Œä»£ç æ‰èƒ½æ‰¾åˆ°å…ƒç´ ï¼Œå¦åˆ™ä¼šæŠ¥é”™</span><br>new_text = driver.find_element(By.TAG_NAME, <span class="hljs-string">&quot;h3&quot;</span>).text<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;æ–°çª—å£é‡Œçš„æ–‡å­—æ˜¯: <span class="hljs-subst">&#123;new_text&#125;</span>&quot;</span>)<br><span class="hljs-keyword">assert</span> new_text == <span class="hljs-string">&quot;New Window&quot;</span><br><br><span class="hljs-comment"># --- 4. å…³é—­æ–°çª—å£ï¼Œåˆ‡å›ä¸»çª—å£ ---</span><br><span class="hljs-comment"># close() åªå…³é—­å½“å‰æ ‡ç­¾é¡µ</span><br>driver.close() <br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å·²å…³é—­æ–°çª—å£&quot;</span>)<br><br><span class="hljs-comment"># âš ï¸ æ³¨æ„ï¼šå…³æ‰æ–°çª—å£åï¼Œdriver æ­¤æ—¶å¤„äºâ€œå¤±é‡â€çŠ¶æ€ï¼Œè°ä¹Ÿæ²¡æ§åˆ¶</span><br><span class="hljs-comment"># å¿…é¡»ç«‹åˆ»åˆ‡å›ä¸»çª—å£ï¼Œå¦åˆ™åç»­æ“ä½œä¼šæŠ¥é”™</span><br>driver.switch_to.window(original_window)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ğŸ”€ å·²åˆ‡å›ä¸»çª—å£: <span class="hljs-subst">&#123;driver.title&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># éªŒè¯ä¸€ä¸‹æ˜¯ä¸æ˜¯çœŸçš„å›æ¥äº†</span><br><span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;The Internet&quot;</span> <span class="hljs-keyword">in</span> driver.title<br><br>time.sleep(<span class="hljs-number">2</span>)<br>driver.quit()<br></code></pre></td></tr></table></figure><h3 id="Iframe"><a href="#Iframe" class="headerlink" title="Iframe"></a>Iframe</h3><h4 id="1-ä»€ä¹ˆæ˜¯-Iframeï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯-Iframeï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯ Iframeï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯ Iframeï¼Ÿ</h4><p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯<strong>ç½‘é¡µé‡Œå¥—ç½‘é¡µ</strong>ã€‚<br>æƒ³è±¡ä¸€ä¸‹ï¼Œèµ°è¿›ä¸€ä¸ªå¤§æˆ¿å­ï¼ˆä¸»é¡µé¢ï¼‰ï¼Œå¢™ä¸ŠæŒ‚ç€ä¸€å°ç”µè§†æœºï¼ˆIframeï¼‰ã€‚ç”µè§†æœºé‡Œåœ¨æ’­æ”¾å¦ä¸€ä¸ªç”»é¢ã€‚</p><ul><li>Selenium é»˜è®¤åªèƒ½æ“ä½œâ€œå¤§æˆ¿å­â€é‡Œçš„ä¸œè¥¿ã€‚</li><li>å¦‚æœä½ æƒ³æ“ä½œâ€œç”µè§†æœºâ€é‡Œçš„èœå•ï¼Œä½ å¿…é¡»å…ˆ<strong>æŠŠé¥æ§å™¨å¯¹å‡†ç”µè§†æœº</strong>ï¼ˆåˆ‡æ¢è¿›å»ï¼‰ã€‚</li><li>æ“ä½œå®Œåï¼Œå¿…é¡»<strong>æŠŠè§†çº¿ç§»å›å¤§æˆ¿å­</strong>ï¼ˆåˆ‡æ¢å‡ºæ¥ï¼‰ï¼Œå¦åˆ™æ‰¾ä¸åˆ°æˆ¿å­é‡Œçš„å…¶ä»–å®¶å…·ã€‚</li></ul><p><strong>ç—‡çŠ¶</strong>ï¼š<br>åœ¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰é‡Œæ˜æ˜èƒ½çœ‹åˆ°è¿™ä¸ªå…ƒç´ ï¼ŒXPath å†™å¾—ä¹Ÿå¯¹ï¼Œä½†ä»£ç è¿è¡Œå°±æ˜¯æŠ¥ NoSuchElementExceptionã€‚è¿™æ—¶å€™ï¼Œ<strong>99% æ˜¯å› ä¸ºå…ƒç´ åœ¨ Iframe é‡Œ</strong>ã€‚</p><hr><h4 id="2-æ€ä¹ˆè¯†åˆ«-Iframeï¼Ÿ"><a href="#2-æ€ä¹ˆè¯†åˆ«-Iframeï¼Ÿ" class="headerlink" title="2. æ€ä¹ˆè¯†åˆ« Iframeï¼Ÿ"></a>2. æ€ä¹ˆè¯†åˆ« Iframeï¼Ÿ</h4><p>åœ¨ F12 å¼€å‘è€…å·¥å…·é‡Œï¼Œå¦‚æœä½ çœ‹åˆ°å…ƒç´ çš„çˆ¶çº§æ ‡ç­¾æœ‰ <iframe> æˆ– <frame>ï¼Œé‚£å°±æ˜¯å®ƒäº†ã€‚</p><hr><h4 id="3-æ ¸å¿ƒæ“ä½œæ–¹æ³•"><a href="#3-æ ¸å¿ƒæ“ä½œæ–¹æ³•" class="headerlink" title="3. æ ¸å¿ƒæ“ä½œæ–¹æ³•"></a>3. æ ¸å¿ƒæ“ä½œæ–¹æ³•</h4><h5 id="A-åˆ‡æ¢è¿›å»-switch-to-frame"><a href="#A-åˆ‡æ¢è¿›å»-switch-to-frame" class="headerlink" title="A. åˆ‡æ¢è¿›å» (switch_to.frame)"></a>A. åˆ‡æ¢è¿›å» (switch_to.frame)</h5><p>æœ‰ 3 ç§æ–¹å¼å¯ä»¥åˆ‡æ¢è¿›å»ï¼š</p><ol><li><p><strong>é€šè¿‡ ID æˆ– Name (æœ€ç®€å•)</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">driver.switch_to.frame(<span class="hljs-string">&quot;iframe_id&quot;</span>)<br>driver.switch_to.frame(<span class="hljs-string">&quot;iframe_name&quot;</span>)<br></code></pre></td></tr></table></figure></li><li><p><strong>é€šè¿‡ WebElement å¯¹è±¡ (æœ€ç¨³ï¼Œæ¨è)</strong>ï¼š<br>å¦‚æœ Iframe æ²¡æœ‰ IDï¼Œæˆ–è€… ID æ˜¯åŠ¨æ€çš„ã€‚ä½ å¯ä»¥å…ˆç”¨ find_element æ‰¾åˆ°è¿™ä¸ª iframe æ ‡ç­¾ï¼Œå†åˆ‡è¿›å»ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">iframe_element = driver.find_element(By.XPATH, <span class="hljs-string">&quot;//iframe[@class=&#x27;...&#x27;]&quot;</span>)<br>driver.switch_to.frame(iframe_element)<br></code></pre></td></tr></table></figure></li><li><p><strong>é€šè¿‡ç´¢å¼• (Index)</strong>ï¼š<br>driver.switch_to.frame(0) (åˆ‡åˆ°ç¬¬1ä¸ª iframe)ã€‚<em>ä¸æ¨èï¼Œå› ä¸ºé¡µé¢å˜åŠ¨å®¹æ˜“æŒ‚ã€‚</em></p></li></ol><h4 id="B-åˆ‡æ¢å‡ºæ¥-switch-to-default-content"><a href="#B-åˆ‡æ¢å‡ºæ¥-switch-to-default-content" class="headerlink" title="B. åˆ‡æ¢å‡ºæ¥ (switch_to.default_content)"></a>B. åˆ‡æ¢å‡ºæ¥ (switch_to.default_content)</h4><p>æ“ä½œå®Œ Iframe é‡Œçš„ä¸œè¥¿ï¼Œ<strong>ä¸€å®šè¦åˆ‡å›æ¥ï¼</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å›åˆ°æœ€å¤–å±‚çš„ä¸»é¡µé¢</span><br>driver.switch_to.default_content()<br><span class="hljs-comment"># (é€‰å­¦) å¦‚æœæ˜¯åµŒå¥— Iframe (Aå¥—Bï¼ŒBå¥—C)ï¼Œæƒ³ä» C å›åˆ° Bï¼š</span><br>driver.switch_to.parent_frame()<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><span class="hljs-keyword">from</span> selenium.webdriver.common.by <span class="hljs-keyword">import</span> By<br><br>driver = webdriver.Chrome()<br>driver.implicitly_wait(<span class="hljs-number">10</span>)<br><br><span class="hljs-comment"># 1. æ‰“å¼€é¡µé¢</span><br>driver.get(<span class="hljs-string">&quot;https://the-internet.herokuapp.com/iframe&quot;</span>)<br><br><span class="hljs-comment"># --- å…³é”®æ­¥éª¤ï¼šåˆ‡æ¢è¿› Iframe ---</span><br><span class="hljs-comment"># è¿™é‡Œçš„ iframe æœ‰ä¸ª id å« &#x27;mce_0_ifr&#x27;</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ­£åœ¨åˆ‡æ¢è¿› Iframe...&quot;</span>)<br>driver.switch_to.frame(<span class="hljs-string">&quot;mce_0_ifr&quot;</span>)<br><br><span class="hljs-comment"># --- 2. åœ¨ Iframe å†…éƒ¨æ“ä½œ ---</span><br><span class="hljs-comment"># æ³¨æ„ï¼šåˆ‡è¿›æ¥åï¼Œæˆ‘ä»¬æ‰¾çš„æ˜¯ iframe é‡Œé¢çš„ body æ ‡ç­¾</span><br>editor_body = driver.find_element(By.ID, <span class="hljs-string">&quot;tinymce&quot;</span>)<br><br><span class="hljs-comment"># æ¸…ç©ºåŸæœ‰å†…å®¹</span><br>editor_body.clear()<br>time.sleep(<span class="hljs-number">1</span>)<br><br><span class="hljs-comment"># è¾“å…¥æ–°å†…å®¹</span><br>editor_body.send_keys(<span class="hljs-string">&quot;ä½ å¥½ï¼Œæˆ‘æ˜¯ Selenium ç»ƒä¹ ç”Ÿï¼&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å·²åœ¨ç¼–è¾‘å™¨ä¸­è¾“å…¥å†…å®¹&quot;</span>)<br><br><span class="hljs-comment"># --- å…³é”®æ­¥éª¤ï¼šåˆ‡æ¢å›ä¸»é¡µé¢ ---</span><br><span class="hljs-comment"># å¦‚æœä¸å†™è¿™å¥ï¼Œä¸‹é¢æ‰¾æ ‡é¢˜ä¼šæŠ¥é”™ï¼Œå› ä¸ºæ ‡é¢˜åœ¨ iframe å¤–é¢</span><br>driver.switch_to.default_content()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å·²åˆ‡å›ä¸»é¡µé¢&quot;</span>)<br><br><span class="hljs-comment"># --- 3. åœ¨ä¸»é¡µé¢æ“ä½œ ---</span><br><span class="hljs-comment"># è·å–é¡µé¢ä¸Šæ–¹çš„å¤§æ ‡é¢˜</span><br>h3_text = driver.find_element(By.TAG_NAME, <span class="hljs-string">&quot;h3&quot;</span>).text<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ä¸»é¡µé¢æ ‡é¢˜: <span class="hljs-subst">&#123;h3_text&#125;</span>&quot;</span>)<br><br><span class="hljs-keyword">assert</span> h3_text == <span class="hljs-string">&quot;An iFrame containing the TinyMCE WYSIWYG Editor&quot;</span><br><br>time.sleep(<span class="hljs-number">2</span>)<br>driver.quit()<br></code></pre></td></tr></table></figure><h2 id="æµè§ˆå™¨ç®¡ç†ä¸æ‰§è¡ŒJS"><a href="#æµè§ˆå™¨ç®¡ç†ä¸æ‰§è¡ŒJS" class="headerlink" title="æµè§ˆå™¨ç®¡ç†ä¸æ‰§è¡ŒJS"></a>æµè§ˆå™¨ç®¡ç†ä¸æ‰§è¡ŒJS</h2><img src="/2025/12/10/selenium%E5%AD%A6%E4%B9%A0/image11.png" class="" title="æµè§ˆå™¨ç®¡ç†"><img src="/2025/12/10/selenium%E5%AD%A6%E4%B9%A0/image12.png" class="" title="æ‰§è¡ŒJS"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><span class="hljs-keyword">from</span> selenium.webdriver.common.by <span class="hljs-keyword">import</span> By<br><br>driver = webdriver.Chrome()<br>driver.implicitly_wait(<span class="hljs-number">5</span>)<br><br><span class="hljs-comment"># 1. æ‰“å¼€äº¬ä¸œ</span><br>driver.get(<span class="hljs-string">&quot;https://www.jd.com&quot;</span>)<br><br><span class="hljs-comment"># --- æµè§ˆå™¨ç®¡ç†æ¼”ç¤º ---</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ­£åœ¨æœ€å¤§åŒ–çª—å£...&quot;</span>)<br>driver.maximize_window()<br><br><span class="hljs-comment"># --- JS æ‰§è¡Œæ¼”ç¤ºï¼šæ»šåŠ¨æ¡ ---</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å‡†å¤‡æ»šåŠ¨åˆ°åº•éƒ¨...&quot;</span>)<br>time.sleep(<span class="hljs-number">2</span>) <span class="hljs-comment"># åœé¡¿ä¸€ä¸‹è®©ä½ çœ‹æ¸…</span><br><br><span class="hljs-comment"># æ‰§è¡Œ JS æ»šåŠ¨åˆ°åº•éƒ¨</span><br><span class="hljs-comment"># document.body.scrollHeight æ˜¯è·å–é¡µé¢æ€»é«˜åº¦</span><br>driver.execute_script(<span class="hljs-string">&quot;window.scrollTo(0, document.body.scrollHeight);&quot;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å·²æ»šåŠ¨åˆ°åº•éƒ¨ï¼Œç­‰å¾…å›¾ç‰‡æ‡’åŠ è½½...&quot;</span>)<br>time.sleep(<span class="hljs-number">3</span>) <span class="hljs-comment"># ç­‰å¾…é¡µé¢åŠ è½½æ›´å¤šå†…å®¹</span><br><br><span class="hljs-comment"># --- æˆªå›¾æ¼”ç¤º ---</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ­£åœ¨æˆªå›¾...&quot;</span>)<br><span class="hljs-comment"># æˆªå›¾ä¼šä¿å­˜åœ¨å½“å‰ä»£ç çš„ç›®å½•ä¸‹</span><br>driver.get_screenshot_as_file(<span class="hljs-string">&quot;jd_bottom.png&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;âœ… æˆªå›¾å·²ä¿å­˜ä¸º jd_bottom.png&quot;</span>)<br><br><span class="hljs-comment"># --- Cookie æ¼”ç¤º ---</span><br>cookies = driver.get_cookies()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å½“å‰è·å–åˆ°äº† <span class="hljs-subst">&#123;<span class="hljs-built_in">len</span>(cookies)&#125;</span> ä¸ª Cookie&quot;</span>)<br><span class="hljs-comment"># éšä¾¿æ‰“å°ç¬¬ä¸€ä¸ªçœ‹çœ‹é•¿ä»€ä¹ˆæ ·</span><br><span class="hljs-keyword">if</span> cookies:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ç¬¬ä¸€ä¸ª Cookie: <span class="hljs-subst">&#123;cookies[<span class="hljs-number">0</span>]&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># --- JS è¿›é˜¶ï¼šä¿®æ”¹é¡µé¢æ ‡é¢˜ (å¥½ç©çš„æ“ä½œ) ---</span><br><span class="hljs-comment"># ä½ ç”šè‡³å¯ä»¥ç”¨ JS ä¿®æ”¹ç½‘é¡µæ˜¾ç¤ºçš„å†…å®¹</span><br>driver.execute_script(<span class="hljs-string">&quot;document.title = &#x27;è¿™æ˜¯æˆ‘ç”¨ Selenium æ”¹çš„æ ‡é¢˜ï¼&#x27;;&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ä¿®æ”¹åçš„æ ‡é¢˜: <span class="hljs-subst">&#123;driver.title&#125;</span>&quot;</span>)<br><br>time.sleep(<span class="hljs-number">3</span>)<br>driver.quit()<br></code></pre></td></tr></table></figure><p><strong>Q1: è‡ªåŠ¨åŒ–æµ‹è¯•ä¸­ï¼Œå¦‚ä½•å¤„ç†é¡µé¢æ»šåŠ¨ï¼Ÿ</strong></p><blockquote><p><strong>ç­”</strong>ï¼šSelenium åŸç”Ÿæ²¡æœ‰æ»šåŠ¨æ–¹æ³•ï¼Œæˆ‘é€šå¸¸ä½¿ç”¨ execute_script æ‰§è¡Œ JavaScriptã€‚<br>æ¯”å¦‚ window.scrollTo(0, document.body.scrollHeight) æ»šåŠ¨åˆ°åº•éƒ¨ï¼Œæˆ–è€…ä½¿ç”¨ arguments[0].scrollIntoView() æ»šåŠ¨åˆ°ç‰¹å®šå…ƒç´ ã€‚</p></blockquote><p><strong>Q2: é‡åˆ°ä¸€ä¸ªæ—¥æœŸæ§ä»¶ï¼Œæ— æ³•ç›´æ¥è¾“å…¥ï¼Œæ€ä¹ˆå¤„ç†ï¼Ÿ</strong></p><blockquote><p><strong>ç­”</strong>ï¼šé€šå¸¸æ˜¯å› ä¸º input æ ‡ç­¾æœ‰ readonly å±æ€§ã€‚æˆ‘ä¼šå…ˆç”¨ JS ç§»é™¤è¿™ä¸ªå±æ€§ (removeAttribute(â€˜readonlyâ€™))ï¼Œç„¶åå°±å¯ä»¥ç›´æ¥ç”¨ send_keys è¾“å…¥æ—¥æœŸäº†ï¼Œè¿™æ ·æ¯”é€šè¿‡ UI é€‰æ—¥å†æ›´ç¨³å®šã€‚</p></blockquote><p><strong>Q3: è‡ªåŠ¨åŒ–æµ‹è¯•æ‰§è¡Œå¤±è´¥äº†ï¼Œæ€ä¹ˆæ’æŸ¥ï¼Ÿ</strong></p><blockquote><p><strong>ç­”</strong>ï¼šæˆ‘ä¼šé…ç½®æµ‹è¯•æ¡†æ¶ï¼Œåœ¨ç”¨ä¾‹å¤±è´¥ï¼ˆFailï¼‰æˆ–æŠ¥é”™ï¼ˆErrorï¼‰æ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨ driver.get_screenshot_as_file è¿›è¡Œæˆªå›¾ï¼Œå¹¶æŠŠæˆªå›¾åµŒå…¥åˆ°æµ‹è¯•æŠ¥å‘Šï¼ˆå¦‚ Allureï¼‰ä¸­ï¼Œæ–¹ä¾¿åç»­åˆ†æã€‚</p></blockquote><hr><h1 id="ä¸‰å¤§ç­‰å¾…"><a href="#ä¸‰å¤§ç­‰å¾…" class="headerlink" title="ä¸‰å¤§ç­‰å¾…"></a>ä¸‰å¤§ç­‰å¾…</h1><hr><h3 id="1-å¼ºåˆ¶ç­‰å¾…-Forced-Wait-â€”â€”-time-sleep"><a href="#1-å¼ºåˆ¶ç­‰å¾…-Forced-Wait-â€”â€”-time-sleep" class="headerlink" title="1. å¼ºåˆ¶ç­‰å¾… (Forced Wait) â€”â€” time.sleep()"></a>1. å¼ºåˆ¶ç­‰å¾… (Forced Wait) â€”â€” <code>time.sleep()</code></h3><p>è¿™æ˜¯ Python è‡ªå¸¦çš„åº“ï¼Œä¸æ˜¯ Selenium çš„åŠŸèƒ½ã€‚</p><ul><li><strong>åŸç†</strong>ï¼šä¸ç®¡ç½‘é¡µåŠ è½½å®Œæ²¡ï¼Œä¸ç®¡å…ƒç´ å‡ºæ¥æ²¡ï¼Œæˆ‘å°±æ­»ç­‰æŒ‡å®šçš„ç§’æ•°ã€‚</li><li><strong>ä»£ç </strong>ï¼š<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br>time.sleep(<span class="hljs-number">5</span>) <span class="hljs-comment"># ç¡ 5 ç§’</span><br></code></pre></td></tr></table></figure></li><li><strong>ä¼˜ç‚¹</strong>ï¼šç®€å•ï¼Œç²—æš´ï¼Œè°ƒè¯•ï¼ˆDebugï¼‰æ—¶æœ€å¥½ç”¨ã€‚</li><li><strong>ç¼ºç‚¹</strong>ï¼š<ul><li><strong>æµªè´¹æ—¶é—´</strong>ï¼šç½‘é¡µ 1ç§’åŠ è½½å®Œï¼Œä½ ç¡ 5ç§’ï¼Œæµªè´¹ 4ç§’ã€‚</li><li><strong>ä¸ç¨³å®š</strong>ï¼šç½‘é¡µ 6ç§’åŠ è½½å®Œï¼Œä½ ç¡ 5ç§’ï¼Œè„šæœ¬æŠ¥é”™ã€‚</li></ul></li><li><strong>ç»“è®º</strong>ï¼š<strong>å†™ä½œä¸šã€è°ƒè¯•å¯ä»¥ç”¨ï¼Œä½†ä¸Šçº¿è¿è¡Œçš„ä»£ç é‡Œå°½é‡åˆ«ç”¨ã€‚</strong></li></ul><hr><h3 id="2-éšå¼ç­‰å¾…-Implicit-Wait-â€”â€”-driver-implicitly-wait"><a href="#2-éšå¼ç­‰å¾…-Implicit-Wait-â€”â€”-driver-implicitly-wait" class="headerlink" title="2. éšå¼ç­‰å¾… (Implicit Wait) â€”â€” driver.implicitly_wait()"></a>2. éšå¼ç­‰å¾… (Implicit Wait) â€”â€” <code>driver.implicitly_wait()</code></h3><p>è¿™æ˜¯ Selenium çš„å…¨å±€è®¾ç½®ã€‚</p><ul><li><strong>åŸç†</strong>ï¼šè®¾ç½®ä¸€ä¸ª<strong>æœ€é•¿ç­‰å¾…æ—¶é—´</strong>ã€‚åœ¨æ‰¾å…ƒç´ ï¼ˆ<code>find_element</code>ï¼‰æ—¶ï¼Œå¦‚æœå…ƒç´ æ²¡ç«‹åˆ»å‡ºç°ï¼ŒSelenium ä¼šä¸æ–­è½®è¯¢ï¼ˆæ¯éš” 0.5ç§’çœ‹ä¸€çœ¼ï¼‰ï¼Œç›´åˆ°å…ƒç´ å‡ºç°<strong>æˆ–è€…</strong>è¶…æ—¶æŠ¥é”™ã€‚</li><li><strong>ä»£ç </strong>ï¼š<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åªéœ€è¦åœ¨å¯åŠ¨æµè§ˆå™¨åå†™ä¸€æ¬¡ï¼Œå…¨å±€ç”Ÿæ•ˆ</span><br>driver.implicitly_wait(<span class="hljs-number">10</span>) <br></code></pre></td></tr></table></figure></li><li><strong>ä¼˜ç‚¹</strong>ï¼šå†™ä¸€è¡Œä»£ç ï¼Œç®¡æ‰€æœ‰å…ƒç´ ï¼Œçœäº‹ã€‚</li><li><strong>ç¼ºç‚¹ (é¢è¯•è€ƒç‚¹)</strong>ï¼š<ul><li>å®ƒåªèƒ½åˆ¤æ–­å…ƒç´ <strong>æ˜¯å¦åœ¨ HTML (DOM) é‡Œ</strong>ã€‚</li><li><strong>è‡´å‘½ä¼¤</strong>ï¼šå¦‚æœå…ƒç´ åœ¨ HTML é‡Œäº†ï¼Œä½†æ˜¯æ˜¯<strong>ä¸å¯è§</strong>çš„ï¼ˆæ¯”å¦‚ loading é®ç½©å±‚è¿˜æ²¡æ¶ˆå¤±ï¼‰ï¼Œæˆ–è€…<strong>ä¸å¯ç‚¹å‡»</strong>çš„ï¼Œéšå¼ç­‰å¾…ä¼šè®¤ä¸ºâ€œæ‰¾åˆ°äº†â€ï¼Œç«‹åˆ»å»ç‚¹ï¼Œç»“æœæŠ¥é”™ <code>ElementNotInteractableException</code>ã€‚</li></ul></li><li><strong>ç»“è®º</strong>ï¼š<strong>ä½œä¸ºä¿åº•æ‰‹æ®µï¼Œæ¯ä¸ªè„šæœ¬éƒ½åŠ ä¸Šï¼Œä½†ä¸èƒ½å®Œå…¨ä¾èµ–å®ƒã€‚</strong></li></ul><hr><h3 id="3-æ˜¾å¼ç­‰å¾…-Explicit-Wait-â€”â€”-WebDriverWait"><a href="#3-æ˜¾å¼ç­‰å¾…-Explicit-Wait-â€”â€”-WebDriverWait" class="headerlink" title="3. æ˜¾å¼ç­‰å¾… (Explicit Wait) â€”â€” WebDriverWait"></a>3. æ˜¾å¼ç­‰å¾… (Explicit Wait) â€”â€” <code>WebDriverWait</code></h3><p>è¿™æ˜¯<strong>æœ€æ™ºèƒ½ã€æœ€æ¨è</strong>çš„ç­‰å¾…æ–¹å¼ã€‚</p><ul><li><strong>åŸç†</strong>ï¼šä¸“é—¨ç­‰å¾…<strong>æŸä¸ªæ¡ä»¶</strong>æˆç«‹ï¼ˆæ¯”å¦‚ï¼šç­‰è¿™ä¸ªæŒ‰é’®å˜æˆâ€œå¯ç‚¹å‡»â€çŠ¶æ€ï¼Œæˆ–è€…ç­‰è¿™æ®µæ–‡å­—â€œå¯è§â€ï¼‰ã€‚</li><li><strong>ä»£ç ç»“æ„</strong>ï¼š<br>éœ€è¦å¼•å…¥ä¸‰ä¸ªæ¨¡å—ï¼š<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> selenium.webdriver.support.ui <span class="hljs-keyword">import</span> WebDriverWait<br><span class="hljs-keyword">from</span> selenium.webdriver.support <span class="hljs-keyword">import</span> expected_conditions <span class="hljs-keyword">as</span> EC<br><span class="hljs-keyword">from</span> selenium.webdriver.common.by <span class="hljs-keyword">import</span> By<br></code></pre></td></tr></table></figure></li><li><strong>è¯­æ³•</strong>ï¼š<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># WebDriverWait(driver, è¶…æ—¶æ—¶é—´, è½®è¯¢é¢‘ç‡).until(ç­‰å¾…æ¡ä»¶)</span><br>element = WebDriverWait(driver, <span class="hljs-number">10</span>).until(<br>    EC.element_to_be_clickable((By.ID, <span class="hljs-string">&quot;login_btn&quot;</span>))<br>)<br>element.click()<br></code></pre></td></tr></table></figure></li></ul><hr><h3 id="âš”ï¸-æ ¸å¿ƒå®æˆ˜ï¼šå¸¸ç”¨-EC-Expected-Conditions-æ¡ä»¶"><a href="#âš”ï¸-æ ¸å¿ƒå®æˆ˜ï¼šå¸¸ç”¨-EC-Expected-Conditions-æ¡ä»¶" class="headerlink" title="âš”ï¸ æ ¸å¿ƒå®æˆ˜ï¼šå¸¸ç”¨ EC (Expected Conditions) æ¡ä»¶"></a>âš”ï¸ æ ¸å¿ƒå®æˆ˜ï¼šå¸¸ç”¨ EC (Expected Conditions) æ¡ä»¶</h3><p><code>expected_conditions</code> (ç®€ç§° EC) æä¾›äº†å¾ˆå¤šåˆ¤æ–­æ ‡å‡†ï¼Œé¢è¯•å’Œå·¥ä½œä¸­<strong>æœ€å¸¸ç”¨</strong>çš„æ˜¯è¿™ä¸‰ä¸ªï¼š</p><table><thead><tr><th align="left">æ–¹æ³•</th><th align="left">æè¿°</th><th align="left">é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td align="left"><strong><code>presence_of_element_located</code></strong></td><td align="left">å…ƒç´ å­˜åœ¨äº HTML ä¸­</td><td align="left">ç­‰åŒäºéšå¼ç­‰å¾…ï¼Œåªè¦ä»£ç é‡Œæœ‰è¿™ä¸ªæ ‡ç­¾å°±è¡Œï¼Œä¸ç®¡ä½ çœ‹æ²¡çœ‹è§ã€‚</td></tr><tr><td align="left"><strong><code>visibility_of_element_located</code></strong></td><td align="left"><strong>å…ƒç´ å¯è§</strong></td><td align="left"><strong>æœ€å¸¸ç”¨ï¼</strong> å…ƒç´ ä¸ä»…åœ¨ HTML é‡Œï¼Œè€Œä¸”é•¿å®½å¤§äº 0ï¼Œè‚‰çœ¼èƒ½çœ‹è§ã€‚</td></tr><tr><td align="left"><strong><code>element_to_be_clickable</code></strong></td><td align="left"><strong>å…ƒç´ å¯ç‚¹å‡»</strong></td><td align="left"><strong>æœ€ç¨³ï¼</strong> å…ƒç´ å¯è§ä¸”å¯ç”¨ï¼ˆæ²¡æœ‰ disableï¼‰ã€‚ç‚¹æŒ‰é’®å‰å¿…ç”¨è¿™ä¸ªã€‚</td></tr></tbody></table><hr><h3 id="ğŸ’»-ä»£ç å®æˆ˜ï¼šæ˜¾å¼ç­‰å¾…æ¼”ç¤º"><a href="#ğŸ’»-ä»£ç å®æˆ˜ï¼šæ˜¾å¼ç­‰å¾…æ¼”ç¤º" class="headerlink" title="ğŸ’» ä»£ç å®æˆ˜ï¼šæ˜¾å¼ç­‰å¾…æ¼”ç¤º"></a>ğŸ’» ä»£ç å®æˆ˜ï¼šæ˜¾å¼ç­‰å¾…æ¼”ç¤º</h3><p>å»<strong>The Internet</strong> çš„åŠ¨æ€åŠ è½½é¡µé¢ã€‚<br><strong>åœºæ™¯</strong>ï¼šç‚¹å‡» â€œStartâ€ æŒ‰é’®ï¼Œé¡µé¢ä¼šå‡ºç°ä¸€ä¸ª loading æ¡ï¼Œè¿‡ 5 ç§’åæ‰ä¼šå‡ºç° â€œHello World!â€ æ–‡å­—ã€‚</p><ul><li>å¦‚æœç”¨éšå¼ç­‰å¾…ï¼Œå¯èƒ½ä¼šå› ä¸º loading æ¡è¿˜åœ¨å°±å»æŠ“æ–‡å­—ï¼Œå¯¼è‡´å¤±è´¥ã€‚</li><li>æˆ‘ä»¬è¦ç”¨æ˜¾å¼ç­‰å¾…ï¼Œç›´åˆ°æ–‡å­—<strong>å¯è§</strong>ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><span class="hljs-keyword">from</span> selenium.webdriver.common.by <span class="hljs-keyword">import</span> By<br><span class="hljs-keyword">from</span> selenium.webdriver.support.ui <span class="hljs-keyword">import</span> WebDriverWait<br><span class="hljs-keyword">from</span> selenium.webdriver.support <span class="hljs-keyword">import</span> expected_conditions <span class="hljs-keyword">as</span> EC<br><br>driver = webdriver.Chrome()<br><span class="hljs-comment"># è™½ç„¶æœ‰æ˜¾å¼ç­‰å¾…ï¼ŒåŠ ä¸ªéšå¼ç­‰å¾…åšä¿åº•ä¹Ÿæ˜¯å¥½ä¹ æƒ¯</span><br>driver.implicitly_wait(<span class="hljs-number">5</span>) <br><br>driver.get(<span class="hljs-string">&quot;https://the-internet.herokuapp.com/dynamic_loading/1&quot;</span>)<br><br><span class="hljs-comment"># 1. ç‚¹å‡» Start æŒ‰é’®</span><br>driver.find_element(By.TAG_NAME, <span class="hljs-string">&quot;button&quot;</span>).click()<br><br><span class="hljs-comment"># 2. ç­‰å¾…ç»“æœ</span><br><span class="hljs-comment"># æ­¤æ—¶é¡µé¢ä¸Šæœ‰ä¸€ä¸ª loading è¿›åº¦æ¡ï¼Œ&quot;Hello World&quot; å…¶å®å·²ç»åœ¨ HTML é‡Œäº†(hidden)ï¼Œä½†ä¸å¯è§ã€‚</span><br><span class="hljs-comment"># å¦‚æœç›´æ¥ find_elementï¼Œéšå¼ç­‰å¾…ä¼šç«‹åˆ»æ‰¾åˆ°å®ƒï¼ˆå› ä¸ºåœ¨ HTML é‡Œï¼‰ï¼Œç„¶åå»è·å– textï¼Œ</span><br><span class="hljs-comment"># ç»“æœè·å–åˆ°çš„æ˜¯ç©ºå­—ç¬¦ä¸²ï¼ˆå› ä¸ºæ²¡æ˜¾ç¤ºå‡ºæ¥ï¼‰ï¼Œå¯¼è‡´æ–­è¨€å¤±è´¥ã€‚</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ­£åœ¨ç­‰å¾… Hello World å‡ºç°...&quot;</span>)<br><br><span class="hljs-comment"># --- ä½¿ç”¨æ˜¾å¼ç­‰å¾… ---</span><br><span class="hljs-comment"># æ„æ€ï¼šæœ€å¤šç­‰ 10 ç§’ï¼Œç›´åˆ° ID ä¸º &#x27;finish&#x27; çš„å…ƒç´ å˜æˆã€å¯è§ã€‘çŠ¶æ€</span><br>target_element = WebDriverWait(driver, <span class="hljs-number">10</span>).until(<br>    EC.visibility_of_element_located((By.ID, <span class="hljs-string">&quot;finish&quot;</span>))<br>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;è·å–åˆ°çš„æ–‡å­—: <span class="hljs-subst">&#123;target_element.text&#125;</span>&quot;</span>)<br><span class="hljs-keyword">assert</span> target_element.text == <span class="hljs-string">&quot;Hello World!&quot;</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æµ‹è¯•é€šè¿‡ï¼&quot;</span>)<br>driver.quit()<br></code></pre></td></tr></table></figure><hr><p><strong>é—®</strong>ï¼šæˆ‘æ—¢è®¾ç½®äº† <code>implicitly_wait(10)</code>ï¼Œåˆåœ¨ä»£ç é‡Œå†™äº† <code>WebDriverWait(driver, 10)</code>ï¼Œä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ</p><p><strong>ç­”</strong>ï¼š</p><blockquote><p><strong>å°½é‡ä¸è¦æ··ç”¨ï¼Œæˆ–è€…è¦éå¸¸å°å¿ƒã€‚</strong><br>å› ä¸º Selenium çš„æœºåˆ¶åŸå› ï¼Œå½“ä¸¤è€…æ··ç”¨æ—¶ï¼Œè¶…æ—¶æ—¶é—´å¯èƒ½ä¼šå‡ºç°<strong>ä¸å¯é¢„æµ‹çš„å åŠ </strong>ã€‚<br>æ¯”å¦‚ä½ æœ¬æ„æ˜¯ç­‰ 10 ç§’ï¼Œç»“æœå®ƒä¿©äº’ç›¸å½±å“ï¼Œå¯èƒ½å¯¼è‡´è„šæœ¬å¡æ­» 20 ç§’ç”šè‡³æ›´ä¹…æ‰æŠ¥é”™ã€‚<br><strong>æœ€ä½³å®è·µ</strong>ï¼šè®¾ç½®ä¸€ä¸ªè¾ƒçŸ­çš„å…¨å±€éšå¼ç­‰å¾…ï¼ˆå¦‚ 5ç§’ï¼‰ï¼Œå…³é”®æ­¥éª¤ï¼ˆå¦‚ç‚¹å‡»ã€æ–­è¨€ï¼‰ä½¿ç”¨æ˜¾å¼ç­‰å¾…ã€‚</p></blockquote><hr><h3 id="ğŸš€-æ€»ç»“"><a href="#ğŸš€-æ€»ç»“" class="headerlink" title="ğŸš€ æ€»ç»“"></a>ğŸš€ æ€»ç»“</h3><ol><li><strong><code>time.sleep</code></strong>ï¼šè°ƒè¯•ç”¨ï¼Œæ­»ç­‰ã€‚</li><li><strong><code>implicitly_wait</code></strong>ï¼šå…¨å±€è®¾ç½®ï¼Œåªç®¡å…ƒç´ åœ¨ä¸åœ¨ HTML é‡Œï¼Œä¸ç®¡èƒ½ä¸èƒ½ç‚¹ã€‚</li><li><strong><code>WebDriverWait</code></strong>ï¼š<strong>ç‹ç‰Œ</strong>ã€‚ç²¾å‡†ç­‰å¾…å…ƒç´ å¯è§ã€å¯ç‚¹å‡»ã€‚</li></ol><hr><h1 id="ä¸‹æ‹‰æ¡†"><a href="#ä¸‹æ‹‰æ¡†" class="headerlink" title="ä¸‹æ‹‰æ¡†"></a>ä¸‹æ‹‰æ¡†</h1><img src="/2025/12/10/selenium%E5%AD%A6%E4%B9%A0/image13.png" class="" title="ä¸‹æ‹‰æ¡†"><ol><li><strong>æ ‡å‡†ä¸‹æ‹‰æ¡†</strong>ï¼šHTML æ ‡ç­¾æ˜¯ <code>&lt;select&gt;</code> + <code>&lt;option&gt;</code>ã€‚Selenium æä¾›äº†ä¸“é—¨çš„ <code>Select</code> ç±»æ¥å¤„ç†ï¼Œéå¸¸ç®€å•ã€‚</li><li><strong>éæ ‡å‡†ä¸‹æ‹‰æ¡†</strong>ï¼šHTML æ ‡ç­¾æ˜¯ <code>&lt;div&gt;</code> æˆ– <code>&lt;ul&gt;</code> æ¨¡æ‹Ÿçš„ï¼ˆç°åœ¨çš„å‰ç«¯æ¡†æ¶å¦‚ Vue&#x2F;React å¸¸ç”¨è¿™ç§ï¼‰ã€‚è¿™ç§<strong>ä¸èƒ½</strong>ç”¨ <code>Select</code> ç±»ï¼Œå¿…é¡»æŠŠå®ƒå½“æˆæ™®é€šçš„å…ƒç´ ï¼Œç”¨â€œç‚¹å‡» -&gt; ç­‰å¾… -&gt; ç‚¹å‡»â€çš„æ–¹å¼å¤„ç†ã€‚</li></ol><hr><h3 id="ç¬¬ä¸€ç§ï¼šæ ‡å‡†ä¸‹æ‹‰æ¡†-æ ‡ç­¾"><a href="#ç¬¬ä¸€ç§ï¼šæ ‡å‡†ä¸‹æ‹‰æ¡†-æ ‡ç­¾" class="headerlink" title="ç¬¬ä¸€ç§ï¼šæ ‡å‡†ä¸‹æ‹‰æ¡† (&lt;select&gt; æ ‡ç­¾)"></a>ç¬¬ä¸€ç§ï¼šæ ‡å‡†ä¸‹æ‹‰æ¡† (<code>&lt;select&gt;</code> æ ‡ç­¾)</h3><p>Selenium ä¸“é—¨æä¾›äº†ä¸€ä¸ª <code>Select</code> ç±»ï¼Œä¸“é—¨æ²»è¿™ç§å…ƒç´ ã€‚</p><p><strong>æ ¸å¿ƒæ­¥éª¤</strong>ï¼š</p><ol><li>å¼•å…¥ï¼š<code>from selenium.webdriver.support.ui import Select</code></li><li>å®šä½ï¼šå…ˆæ‰¾åˆ°é‚£ä¸ª <code>&lt;select&gt;</code> å…ƒç´ ã€‚</li><li>åˆå§‹åŒ–ï¼š<code>select = Select(å…ƒç´ å¯¹è±¡)</code></li><li>é€‰æ‹©ï¼šä½¿ç”¨ä¸‰å¤§æ–¹æ³•é€‰ä½ æƒ³è¦çš„ã€‚</li></ol><p>**ä¸‰å¤§é€‰æ‹©æ–¹æ³• ï¼š</p><ul><li><code>select_by_visible_text(&quot;æ–‡å­—&quot;)</code>ï¼š<strong>æœ€å¸¸ç”¨</strong>ã€‚æ ¹æ®ç”¨æˆ·çœ‹åˆ°çš„æ–‡å­—é€‰ï¼Œæ¯”å¦‚ â€œOption 1â€ã€‚</li><li><code>select_by_value(&quot;å€¼&quot;)</code>ï¼šæ ¹æ® HTML é‡Œçš„ <code>value</code> å±æ€§é€‰ï¼Œæ¯”å¦‚ <code>value=&quot;1&quot;</code>ã€‚</li><li><code>select_by_index(ç´¢å¼•)</code>ï¼šæ ¹æ®é¡ºåºé€‰ï¼Œä» 0 å¼€å§‹ã€‚<strong>ä¸æ¨è</strong>ï¼Œå› ä¸ºé€‰é¡¹é¡ºåºå®¹æ˜“å˜ã€‚</li></ul><h4 id="ğŸ’»-ä»£ç å®æˆ˜ï¼šæ ‡å‡†ä¸‹æ‹‰æ¡†"><a href="#ğŸ’»-ä»£ç å®æˆ˜ï¼šæ ‡å‡†ä¸‹æ‹‰æ¡†" class="headerlink" title="ğŸ’» ä»£ç å®æˆ˜ï¼šæ ‡å‡†ä¸‹æ‹‰æ¡†"></a>ğŸ’» ä»£ç å®æˆ˜ï¼šæ ‡å‡†ä¸‹æ‹‰æ¡†</h4><p><strong>ç½‘å€</strong>ï¼š<code>https://the-internet.herokuapp.com/dropdown</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><span class="hljs-keyword">from</span> selenium.webdriver.common.by <span class="hljs-keyword">import</span> By<br><span class="hljs-comment"># 1. å¼•å…¥ Select ç±»</span><br><span class="hljs-keyword">from</span> selenium.webdriver.support.ui <span class="hljs-keyword">import</span> Select<br><br>driver = webdriver.Chrome()<br>driver.implicitly_wait(<span class="hljs-number">10</span>)<br><br>driver.get(<span class="hljs-string">&quot;https://the-internet.herokuapp.com/dropdown&quot;</span>)<br><br><span class="hljs-comment"># 2. å…ˆå®šä½åˆ° select æ ‡ç­¾æœ¬èº«</span><br>dropdown_element = driver.find_element(By.ID, <span class="hljs-string">&quot;dropdown&quot;</span>)<br><br><span class="hljs-comment"># 3. åˆå§‹åŒ– Select å¯¹è±¡</span><br>select = Select(dropdown_element)<br><br><span class="hljs-comment"># --- æ–¹æ³• A: é€šè¿‡å¯è§æ–‡æœ¬é€‰æ‹© (æœ€æ¨è) ---</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ­£åœ¨é€‰æ‹© Option 1...&quot;</span>)<br>select.select_by_visible_text(<span class="hljs-string">&quot;Option 1&quot;</span>)<br>time.sleep(<span class="hljs-number">1</span>)<br><br><span class="hljs-comment"># éªŒè¯ä¸€ä¸‹é€‰ä¸Šäº†æ²¡ (è·å–å½“å‰é€‰ä¸­çš„é€‰é¡¹)</span><br><span class="hljs-comment"># first_selected_option æ˜¯è·å–å½“å‰æ˜¾ç¤ºçš„é‚£ä¸ªå…ƒç´ </span><br>current_val = select.first_selected_option.text<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å½“å‰é€‰ä¸­: <span class="hljs-subst">&#123;current_val&#125;</span>&quot;</span>)<br><span class="hljs-keyword">assert</span> current_val == <span class="hljs-string">&quot;Option 1&quot;</span><br><br><span class="hljs-comment"># --- æ–¹æ³• B: é€šè¿‡ value å±æ€§é€‰æ‹© ---</span><br><span class="hljs-comment"># HTML é•¿è¿™æ ·: &lt;option value=&quot;2&quot;&gt;Option 2&lt;/option&gt;</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ­£åœ¨é€‰æ‹© Option 2 (é€šè¿‡ value)...&quot;</span>)<br>select.select_by_value(<span class="hljs-string">&quot;2&quot;</span>)<br>time.sleep(<span class="hljs-number">1</span>)<br><br><span class="hljs-comment"># --- æ–¹æ³• C: é€šè¿‡ç´¢å¼•é€‰æ‹© (ä¸æ¨è) ---</span><br><span class="hljs-comment"># ç´¢å¼• 1 å¯¹åº” Option 1 (å› ä¸ºç´¢å¼• 0 æ˜¯é‚£ä¸ª &quot;Please select an option&quot; çš„æç¤ºè¯­)</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ­£åœ¨é€‰æ‹©ç´¢å¼• 1...&quot;</span>)<br>select.select_by_index(<span class="hljs-number">1</span>) <br><br>time.sleep(<span class="hljs-number">2</span>)<br>driver.quit()<br></code></pre></td></tr></table></figure><hr><h3 id="ç¬¬äºŒç§ï¼šéæ ‡å‡†ä¸‹æ‹‰æ¡†-Div-Ul-æ¨¡æ‹Ÿ"><a href="#ç¬¬äºŒç§ï¼šéæ ‡å‡†ä¸‹æ‹‰æ¡†-Div-Ul-æ¨¡æ‹Ÿ" class="headerlink" title="ç¬¬äºŒç§ï¼šéæ ‡å‡†ä¸‹æ‹‰æ¡† (Div&#x2F;Ul æ¨¡æ‹Ÿ)"></a>ç¬¬äºŒç§ï¼šéæ ‡å‡†ä¸‹æ‹‰æ¡† (Div&#x2F;Ul æ¨¡æ‹Ÿ)</h3><p>å¦‚æœå¯¹ç€ä¸€ä¸ª <code>&lt;div&gt;</code> æ ‡ç­¾ç”¨ <code>Select()</code> ç±»ï¼ŒSelenium ä¼šç›´æ¥æŠ¥é”™ï¼š<br><code>UnexpectedTagNameException: Select only works on &lt;select&gt; elements</code>ã€‚</p><p><strong>å¤„ç†é€»è¾‘</strong>ï¼š<br>æŠŠå®ƒå½“æˆæ™®é€šçš„ç‚¹å‡»æ“ä½œ</p><hr><p><strong>é—®ï¼š</strong> â€œä½ åœ¨è‡ªåŠ¨åŒ–æµ‹è¯•ä¸­é‡åˆ°è¿‡ä¸‹æ‹‰æ¡†å—ï¼Ÿæ€ä¹ˆå¤„ç†çš„ï¼Ÿâ€</p><blockquote><p>â€œé‡åˆ°è¿‡ï¼Œæˆ‘é€šå¸¸ä¼šå…ˆçœ‹å®ƒçš„ HTML æ ‡ç­¾ã€‚</p><ol><li>å¦‚æœæ˜¯æ ‡å‡†çš„ <strong><code>&lt;select&gt;</code></strong> æ ‡ç­¾ï¼Œæˆ‘ä¼šç›´æ¥ç”¨ Selenium çš„ <strong><code>Select</code> ç±»</strong>ï¼Œé€šè¿‡ <code>select_by_visible_text</code> æ¥é€‰æ‹©ï¼Œè¿™æ ·ä»£ç æœ€ç®€æ´ã€‚</li><li>å¦‚æœæ˜¯å‰ç«¯æ¡†æ¶ï¼ˆå¦‚ Vue&#x2F;Reactï¼‰ç”Ÿæˆçš„ <strong><code>&lt;div&gt;</code> æˆ– <code>&lt;ul&gt;</code></strong> æ¨¡æ‹Ÿçš„ä¸‹æ‹‰æ¡†ï¼Œ<code>Select</code> ç±»æ˜¯ç”¨ä¸äº†çš„ã€‚æˆ‘ä¼šæŠŠå®ƒå½“æˆæ™®é€šå…ƒç´ ï¼Œ<strong>åˆ†ä¸¤æ­¥å¤„ç†</strong>ï¼šå…ˆç‚¹å‡»ä¸‹æ‹‰æ¡†å¼¹å‡ºåˆ—è¡¨ï¼Œå†å®šä½å¹¶ç‚¹å‡»å…·ä½“çš„é€‰é¡¹ã€‚ä¸ºäº†ç¨³å®šæ€§ï¼Œæˆ‘é€šå¸¸ä¼šåœ¨ç¬¬äºŒæ­¥åŠ ä¸Š<strong>æ˜¾å¼ç­‰å¾…</strong>ï¼Œç¡®ä¿é€‰é¡¹å¯è§åå†ç‚¹å‡»ã€‚â€</li></ol></blockquote><hr><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul><li><strong>Select ç±»</strong>ï¼šåªç»™ <code>&lt;select&gt;</code> æ ‡ç­¾ç”¨ã€‚</li><li><strong>é Select</strong>ï¼šç‚¹å‡»æ¡† -&gt; ç­‰å¾… -&gt; ç‚¹å‡»é€‰é¡¹ã€‚</li></ul><hr><h1 id="Alertã€Promptã€Confirmå¼¹å‡ºæ¡†"><a href="#Alertã€Promptã€Confirmå¼¹å‡ºæ¡†" class="headerlink" title="Alertã€Promptã€Confirmå¼¹å‡ºæ¡†"></a>Alertã€Promptã€Confirmå¼¹å‡ºæ¡†</h1><img src="/2025/12/10/selenium%E5%AD%A6%E4%B9%A0/image14.png" class="" title="å¼¹æ¡†"><h3 id="1-ä»€ä¹ˆæ˜¯-Alert-Confirm-Promptï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯-Alert-Confirm-Promptï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯ Alert&#x2F;Confirm&#x2F;Promptï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯ Alert&#x2F;Confirm&#x2F;Promptï¼Ÿ</h3><p>è¿™äº›æ˜¯æµè§ˆå™¨<strong>åŸç”Ÿ</strong>çš„å¼¹çª—ï¼ˆJavaScript è§¦å‘çš„ï¼‰ã€‚</p><ul><li><strong>ç‰¹ç‚¹</strong>ï¼šå®ƒä»¬<strong>ä¸æ˜¯</strong> HTML å…ƒç´ ï¼ä½ <strong>æ— æ³•</strong>ç”¨ F12 å®¡æŸ¥å…ƒç´ ï¼Œä¹Ÿ<strong>æ— æ³•</strong>ç”¨ <code>find_element</code> å®šä½ã€‚</li><li><strong>è¡¨ç°</strong>ï¼šå¼¹å‡ºæ¥çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šè¢«â€œå†»ç»“â€ï¼Œä½ å¿…é¡»å¤„ç†æ‰å®ƒï¼ˆç‚¹ç¡®å®šæˆ–å–æ¶ˆï¼‰ï¼Œæ‰èƒ½ç»§ç»­æ“ä½œé¡µé¢ã€‚</li></ul><h3 id="2-æ ¸å¿ƒæ“ä½œæ–¹æ³•"><a href="#2-æ ¸å¿ƒæ“ä½œæ–¹æ³•" class="headerlink" title="2. æ ¸å¿ƒæ“ä½œæ–¹æ³•"></a>2. æ ¸å¿ƒæ“ä½œæ–¹æ³•</h3><p>Selenium æä¾›äº†ä¸€ä¸ª <code>Alert</code> ç±»æ¥ä¸“é—¨å¤„ç†å®ƒä»¬ã€‚</p><p><strong>ç¬¬ä¸€æ­¥ï¼šåˆ‡æ¢æ§åˆ¶æƒ</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">alert = driver.switch_to.alert<br></code></pre></td></tr></table></figure><p><strong>ç¬¬äºŒæ­¥ï¼šæ“ä½œå¼¹çª— (4 ä¸ªæ–¹æ³•èƒŒä¸‹æ¥)</strong></p><ol><li><strong><code>alert.accept()</code></strong>ï¼šç‚¹å‡»â€œç¡®å®šâ€ (OK)ã€‚</li><li><strong><code>alert.dismiss()</code></strong>ï¼šç‚¹å‡»â€œå–æ¶ˆâ€ (Cancel)ã€‚</li><li><strong><code>alert.text</code></strong>ï¼šè·å–å¼¹çª—é‡Œçš„æ–‡å­— (ç”¨æ¥åšæ–­è¨€)ã€‚</li><li><strong><code>alert.send_keys(&quot;å†…å®¹&quot;)</code></strong>ï¼šåœ¨å¼¹çª—é‡Œè¾“å…¥æ–‡å­— (ä»…é’ˆå¯¹ Prompt)ã€‚</li></ol><hr><h3 id="3-ä¸‰ç§å¼¹çª—çš„åŒºåˆ«"><a href="#3-ä¸‰ç§å¼¹çª—çš„åŒºåˆ«" class="headerlink" title="3. ä¸‰ç§å¼¹çª—çš„åŒºåˆ«"></a>3. ä¸‰ç§å¼¹çª—çš„åŒºåˆ«</h3><ol><li><strong>Alert (è­¦å‘Šæ¡†)</strong>ï¼šåªæœ‰ä¸€ä¸ªâ€œç¡®å®šâ€æŒ‰é’®ã€‚</li><li><strong>Confirm (ç¡®è®¤æ¡†)</strong>ï¼šæœ‰â€œç¡®å®šâ€å’Œâ€œå–æ¶ˆâ€ä¸¤ä¸ªæŒ‰é’®ã€‚</li><li><strong>Prompt (æç¤ºæ¡†)</strong>ï¼šæœ‰ä¸ªè¾“å…¥æ¡†ï¼ŒåŠ ä¸Šâ€œç¡®å®šâ€å’Œâ€œå–æ¶ˆâ€ã€‚</li></ol><hr><h3 id="ä»£ç å®æˆ˜ï¼šå…¨å¥—æ¼”ç»ƒ"><a href="#ä»£ç å®æˆ˜ï¼šå…¨å¥—æ¼”ç»ƒ" class="headerlink" title="ä»£ç å®æˆ˜ï¼šå…¨å¥—æ¼”ç»ƒ"></a>ä»£ç å®æˆ˜ï¼šå…¨å¥—æ¼”ç»ƒ</h3><p><strong>ç½‘å€</strong>ï¼š<code>https://the-internet.herokuapp.com/javascript_alerts</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><span class="hljs-keyword">from</span> selenium.webdriver.common.by <span class="hljs-keyword">import</span> By<br><br>driver = webdriver.Chrome()<br>driver.implicitly_wait(<span class="hljs-number">5</span>)<br>driver.get(<span class="hljs-string">&quot;https://the-internet.herokuapp.com/javascript_alerts&quot;</span>)<br><br><span class="hljs-comment"># --- åœºæ™¯ 1: å¤„ç† Alert (åªæœ‰ç¡®å®š) ---</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;1. ç‚¹å‡» Alert æŒ‰é’®...&quot;</span>)<br>driver.find_element(By.XPATH, <span class="hljs-string">&quot;//button[text()=&#x27;Click for JS Alert&#x27;]&quot;</span>).click()<br>time.sleep(<span class="hljs-number">1</span>) <span class="hljs-comment"># åœé¡¿è®©ä½ çœ‹æ¸…æ¥šå¼¹çª—å‡ºæ¥äº†</span><br><br><span class="hljs-comment"># åˆ‡æ¢åˆ°å¼¹çª—</span><br>alert = driver.switch_to.alert<br><br><span class="hljs-comment"># è·å–æ–‡å­—å¹¶æ–­è¨€</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Alert å¼¹çª—æ–‡å­—: <span class="hljs-subst">&#123;alert.text&#125;</span>&quot;</span>)<br><span class="hljs-keyword">assert</span> alert.text == <span class="hljs-string">&quot;I am a JS Alert&quot;</span><br><br><span class="hljs-comment"># ç‚¹å‡»ç¡®å®š</span><br>alert.accept()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;âœ… Alert å·²å¤„ç†&quot;</span>)<br><br><br><span class="hljs-comment"># --- åœºæ™¯ 2: å¤„ç† Confirm (ç¡®å®š/å–æ¶ˆ) ---</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n2. ç‚¹å‡» Confirm æŒ‰é’®...&quot;</span>)<br>driver.find_element(By.XPATH, <span class="hljs-string">&quot;//button[text()=&#x27;Click for JS Confirm&#x27;]&quot;</span>).click()<br>time.sleep(<span class="hljs-number">1</span>)<br><br>alert = driver.switch_to.alert<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Confirm å¼¹çª—æ–‡å­—: <span class="hljs-subst">&#123;alert.text&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># è¿™æ¬¡æˆ‘ä»¬ç‚¹â€œå–æ¶ˆâ€è¯•è¯•</span><br>alert.dismiss()<br><br><span class="hljs-comment"># éªŒè¯é¡µé¢ç»“æœ (é¡µé¢ä¼šæ˜¾ç¤º You clicked: Cancel)</span><br>result = driver.find_element(By.ID, <span class="hljs-string">&quot;result&quot;</span>).text<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;æ“ä½œç»“æœ: <span class="hljs-subst">&#123;result&#125;</span>&quot;</span>)<br><span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;Cancel&quot;</span> <span class="hljs-keyword">in</span> result<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;âœ… Confirm å·²å–æ¶ˆ&quot;</span>)<br><br><br><span class="hljs-comment"># --- åœºæ™¯ 3: å¤„ç† Prompt (è¾“å…¥ + ç¡®å®š) ---</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n3. ç‚¹å‡» Prompt æŒ‰é’®...&quot;</span>)<br>driver.find_element(By.XPATH, <span class="hljs-string">&quot;//button[text()=&#x27;Click for JS Prompt&#x27;]&quot;</span>).click()<br>time.sleep(<span class="hljs-number">1</span>)<br><br>alert = driver.switch_to.alert<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Prompt å¼¹çª—æ–‡å­—: <span class="hljs-subst">&#123;alert.text&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># è¾“å…¥å†…å®¹</span><br><span class="hljs-comment"># æ³¨æ„ï¼šåœ¨ Chrome ä¸­ï¼Œä½ å¯èƒ½çœ‹ä¸åˆ°å­—æ‰“è¿›å»çš„åŠ¨ç”»ï¼Œä½†å®é™…ä¸Šå·²ç»è¾“å…¥äº†</span><br>alert.send_keys(<span class="hljs-string">&quot;Selenium ç»ƒä¹ ç”Ÿ&quot;</span>)<br>time.sleep(<span class="hljs-number">1</span>)<br><br><span class="hljs-comment"># ç‚¹å‡»ç¡®å®š</span><br>alert.accept()<br><br><span class="hljs-comment"># éªŒè¯ç»“æœ</span><br>result = driver.find_element(By.ID, <span class="hljs-string">&quot;result&quot;</span>).text<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;æ“ä½œç»“æœ: <span class="hljs-subst">&#123;result&#125;</span>&quot;</span>)<br><span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;Selenium ç»ƒä¹ ç”Ÿ&quot;</span> <span class="hljs-keyword">in</span> result<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;âœ… Prompt è¾“å…¥å¹¶ç¡®è®¤æˆåŠŸ&quot;</span>)<br><br>time.sleep(<span class="hljs-number">2</span>)<br>driver.quit()<br></code></pre></td></tr></table></figure><hr><p><strong>é—®ï¼š</strong> â€œé¡µé¢ä¸Šå¼¹å‡ºäº†ä¸€ä¸ªæ¡†ï¼Œä½ ç”¨ <code>switch_to.alert</code> æŠ¥é”™è¯´ <code>NoAlertPresentException</code>ï¼Œä¸ºä»€ä¹ˆï¼Ÿâ€</p><p><strong>ç­”ï¼š</strong></p><blockquote><p>â€œè¿™è¯´æ˜é‚£ä¸ªå¼¹çª—<strong>ä¸æ˜¯</strong>æµè§ˆå™¨åŸç”Ÿçš„ Alertï¼Œè€Œæ˜¯å‰ç«¯ç”¨ HTML&#x2F;CSSï¼ˆæ¯”å¦‚ Bootstrap çš„ Modalï¼‰ç”»å‡ºæ¥çš„<strong>ä¼ªå¼¹çª—</strong>ã€‚</p><p><strong>æ€ä¹ˆåŒºåˆ†ï¼Ÿ</strong></p><ul><li><strong>åŸç”Ÿ Alert</strong>ï¼šå³é”®ç‚¹å‡»å¼¹çª—ï¼Œ<strong>æ²¡æœ‰</strong>â€˜æ£€æŸ¥&#x2F;Inspectâ€™é€‰é¡¹ï¼Œä¸”å¼¹çª—å‡ºç°æ—¶æµè§ˆå™¨æ— æ³•æ“ä½œå…¶ä»–åœ°æ–¹ã€‚</li><li><strong>HTML æ¨¡æ€æ¡†</strong>ï¼šå³é”®å¯ä»¥â€˜æ£€æŸ¥â€™ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ä¸ª <code>div</code>ã€‚</li></ul><p><strong>å¤„ç†æ–¹æ³•</strong>ï¼š</p><ul><li>å¦‚æœæ˜¯åŸç”Ÿçš„ï¼šç”¨ <code>driver.switch_to.alert</code>ã€‚</li><li>å¦‚æœæ˜¯ HTML çš„ï¼šç›´æ¥ç”¨ <code>driver.find_element</code> å®šä½ä¸Šé¢çš„æŒ‰é’®ï¼Œç„¶å <code>click()</code> å³å¯ã€‚â€</li></ul></blockquote><hr><h3 id="è¿›é˜¶æŠ€å·§ï¼šæ˜¾å¼ç­‰å¾…å¤„ç†-Alert"><a href="#è¿›é˜¶æŠ€å·§ï¼šæ˜¾å¼ç­‰å¾…å¤„ç†-Alert" class="headerlink" title="è¿›é˜¶æŠ€å·§ï¼šæ˜¾å¼ç­‰å¾…å¤„ç† Alert"></a>è¿›é˜¶æŠ€å·§ï¼šæ˜¾å¼ç­‰å¾…å¤„ç† Alert</h3><p>æœ‰æ—¶å€™ç‚¹å‡»æŒ‰é’®åï¼ŒAlert å¼¹çª—ä¸æ˜¯ç«‹åˆ»å‡ºæ¥çš„ï¼ˆæ¯”å¦‚è¦è¯·æ±‚æœåŠ¡å™¨ï¼‰ã€‚è¿™æ—¶å€™ç›´æ¥ <code>switch_to.alert</code> ä¼šæŠ¥é”™ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨ <code>EC.alert_is_present()</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> selenium.webdriver.support.ui <span class="hljs-keyword">import</span> WebDriverWait<br><span class="hljs-keyword">from</span> selenium.webdriver.support <span class="hljs-keyword">import</span> expected_conditions <span class="hljs-keyword">as</span> EC<br><br><span class="hljs-comment"># ç‚¹å‡»æŒ‰é’®</span><br>driver.find_element(By.ID, <span class="hljs-string">&quot;btn&quot;</span>).click()<br><br><span class="hljs-comment"># æ˜¾å¼ç­‰å¾…ï¼šç›´åˆ°å¼¹çª—å‡ºç°ï¼Œå¹¶è‡ªåŠ¨åˆ‡æ¢è¿‡å»è¿”å› alert å¯¹è±¡</span><br>alert = WebDriverWait(driver, <span class="hljs-number">10</span>).until(EC.alert_is_present())<br><br><span class="hljs-comment"># ç›´æ¥æ“ä½œ</span><br>alert.accept()<br></code></pre></td></tr></table></figure><hr><h3 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>Alert å¤„ç†éå¸¸ç®€å•ï¼Œè®°ä½ï¼š</p><ol><li><code>switch_to.alert</code></li><li><code>accept()</code> &#x2F; <code>dismiss()</code></li><li><code>send_keys()</code></li></ol><hr><h1 id="é¼ æ ‡é”®ç›˜æ“ä½œ"><a href="#é¼ æ ‡é”®ç›˜æ“ä½œ" class="headerlink" title="é¼ æ ‡é”®ç›˜æ“ä½œ"></a>é¼ æ ‡é”®ç›˜æ“ä½œ</h1><img src="/2025/12/10/selenium%E5%AD%A6%E4%B9%A0/image15.png" class="" title="é¼ æ ‡æ“ä½œ"><img src="/2025/12/10/selenium%E5%AD%A6%E4%B9%A0/image16.png" class="" title="é”®ç›˜æ“ä½œ"><p>æ™®é€šçš„ <code>click()</code> å’Œ <code>send_keys()</code> åªèƒ½å¤„ç†ç®€å•çš„äº¤äº’ã€‚é‡åˆ°ä»¥ä¸‹åœºæ™¯ï¼Œå°±å¿…é¡»è¯·å‡º <strong><code>ActionChains</code></strong> ç±»ï¼š</p><ol><li><strong>é¼ æ ‡æ‚¬åœ (Hover)</strong>ï¼šé¼ æ ‡ç§»ä¸Šå»æ‰æ˜¾ç¤ºä¸‹æ‹‰èœå•ï¼ˆå¦‚äº¬ä¸œ&#x2F;æ·˜å®çš„å•†å“åˆ†ç±»ï¼‰ã€‚</li><li><strong>æ‹–æ‹½ (Drag &amp; Drop)</strong>ï¼šæ»‘å—éªŒè¯ç ã€æ‹–åŠ¨æ–‡ä»¶ä¸Šä¼ ã€‚</li><li><strong>å³é”®&#x2F;åŒå‡»</strong>ï¼šç½‘é¡µæ¸¸æˆæˆ–å¤æ‚çš„åå°ç®¡ç†ç³»ç»Ÿã€‚</li><li><strong>é”®ç›˜ç»„åˆé”®</strong>ï¼šCtrl+C, Ctrl+V, æŒ‰ Enter æäº¤ã€‚</li></ol><hr><h3 id="æ ¸å¿ƒæ¦‚å¿µï¼šåŠ¨ä½œé“¾-Chain"><a href="#æ ¸å¿ƒæ¦‚å¿µï¼šåŠ¨ä½œé“¾-Chain" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µï¼šåŠ¨ä½œé“¾ (Chain)"></a>æ ¸å¿ƒæ¦‚å¿µï¼šåŠ¨ä½œé“¾ (Chain)</h3><p><code>ActionChains</code> çš„å·¥ä½œåŸç†åƒ<strong>å½•åƒæœº</strong>ï¼š</p><ol><li>å…ˆæŠŠä¸€è¿ä¸²çš„åŠ¨ä½œï¼ˆç§»åŠ¨ã€ç‚¹å‡»ã€æŒ‰é”®ï¼‰<strong>æ’é˜Ÿ</strong>æ”¾è¿›é˜Ÿåˆ—é‡Œã€‚</li><li>æœ€åå¿…é¡»è°ƒç”¨ <strong><code>.perform()</code></strong> æ–¹æ³•ï¼ŒSelenium æ‰ä¼šçœŸæ­£å»æ‰§è¡Œè¿™äº›åŠ¨ä½œã€‚</li></ol><hr><h3 id="ç¬¬ä¸€éƒ¨åˆ†ï¼šé¼ æ ‡æ“ä½œ-Mouse-Actions"><a href="#ç¬¬ä¸€éƒ¨åˆ†ï¼šé¼ æ ‡æ“ä½œ-Mouse-Actions" class="headerlink" title="ç¬¬ä¸€éƒ¨åˆ†ï¼šé¼ æ ‡æ“ä½œ (Mouse Actions)"></a>ç¬¬ä¸€éƒ¨åˆ†ï¼šé¼ æ ‡æ“ä½œ (Mouse Actions)</h3><h4 id="å®æˆ˜-1ï¼šé¼ æ ‡æ‚¬åœ-Hover-â€”â€”-ç™¾åº¦è®¾ç½®"><a href="#å®æˆ˜-1ï¼šé¼ æ ‡æ‚¬åœ-Hover-â€”â€”-ç™¾åº¦è®¾ç½®" class="headerlink" title="å®æˆ˜ 1ï¼šé¼ æ ‡æ‚¬åœ (Hover) â€”â€” ç™¾åº¦è®¾ç½®"></a>å®æˆ˜ 1ï¼šé¼ æ ‡æ‚¬åœ (Hover) â€”â€” ç™¾åº¦è®¾ç½®</h4><p><strong>åœºæ™¯</strong>ï¼š<br>åœ¨ç™¾åº¦é¦–é¡µï¼Œé¼ æ ‡å¦‚æœä¸ç§»åˆ°å³ä¸Šè§’çš„â€œè®¾ç½®â€ä¸Šï¼Œä¸‹æ‹‰èœå•æ˜¯ä¸ä¼šå‡ºæ¥çš„ï¼Œä½ ä¹Ÿç‚¹ä¸åˆ°é‡Œé¢çš„â€œé«˜çº§æœç´¢â€ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><span class="hljs-keyword">from</span> selenium.webdriver.common.by <span class="hljs-keyword">import</span> By<br><span class="hljs-keyword">from</span> selenium.webdriver <span class="hljs-keyword">import</span> ActionChains <span class="hljs-comment"># 1. å¼•å…¥ ActionChains</span><br><br>driver = webdriver.Chrome()<br>driver.implicitly_wait(<span class="hljs-number">5</span>)<br>driver.get(<span class="hljs-string">&quot;https://www.baidu.com&quot;</span>)<br>driver.maximize_window()<br><br><span class="hljs-comment"># å®šä½â€œè®¾ç½®â€å…ƒç´ </span><br>settings_btn = driver.find_element(By.ID, <span class="hljs-string">&quot;s-usersetting-top&quot;</span>)<br><br><span class="hljs-comment"># --- å…³é”®æ­¥éª¤ ---</span><br><span class="hljs-comment"># é“¾å¼å†™æ³•ï¼šåˆå§‹åŒ– -&gt; ç§»åŠ¨é¼ æ ‡ -&gt; æ‰§è¡Œ</span><br><span class="hljs-comment"># ç¿»è¯‘ï¼šæŠŠé¼ æ ‡ç§»åˆ° settings_btn ä¸Šï¼Œç„¶åæ‰§è¡Œï¼</span><br>ActionChains(driver).move_to_element(settings_btn).perform()<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;é¼ æ ‡å·²æ‚¬åœï¼Œèœå•åº”è¯¥å‡ºæ¥äº†&quot;</span>)<br>time.sleep(<span class="hljs-number">1</span>) <span class="hljs-comment"># åœé¡¿ä¸€ä¸‹è®©ä½ çœ‹æ¸…æ¥š</span><br><br><span class="hljs-comment"># ç°åœ¨èœå•å‡ºæ¥äº†ï¼Œå¯ä»¥ç‚¹å‡»é‡Œé¢çš„â€œé«˜çº§æœç´¢â€äº†</span><br>driver.find_element(By.LINK_TEXT, <span class="hljs-string">&quot;é«˜çº§æœç´¢&quot;</span>).click()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å·²ç‚¹å‡»é«˜çº§æœç´¢&quot;</span>)<br><br>time.sleep(<span class="hljs-number">2</span>)<br>driver.quit()<br></code></pre></td></tr></table></figure><hr><h4 id="å®æˆ˜-2ï¼šæ‹–æ‹½-Drag-and-Drop"><a href="#å®æˆ˜-2ï¼šæ‹–æ‹½-Drag-and-Drop" class="headerlink" title="å®æˆ˜ 2ï¼šæ‹–æ‹½ (Drag and Drop)"></a>å®æˆ˜ 2ï¼šæ‹–æ‹½ (Drag and Drop)</h4><p><strong>ç½‘å€</strong>ï¼š<code>https://the-internet.herokuapp.com/drag_and_drop</code><br><strong>ä»»åŠ¡</strong>ï¼šæŠŠæ–¹å— A æ‹–åˆ° æ–¹å— B çš„ä½ç½®ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><span class="hljs-keyword">from</span> selenium.webdriver.common.by <span class="hljs-keyword">import</span> By<br><span class="hljs-keyword">from</span> selenium.webdriver <span class="hljs-keyword">import</span> ActionChains<br><br>driver = webdriver.Chrome()<br>driver.get(<span class="hljs-string">&quot;https://the-internet.herokuapp.com/drag_and_drop&quot;</span>)<br><br><span class="hljs-comment"># 1. å®šä½æºå…ƒç´  (A) å’Œ ç›®æ ‡å…ƒç´  (B)</span><br>source_ele = driver.find_element(By.ID, <span class="hljs-string">&quot;column-a&quot;</span>)<br>target_ele = driver.find_element(By.ID, <span class="hljs-string">&quot;column-b&quot;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å‡†å¤‡æ‹–æ‹½ A åˆ° B...&quot;</span>)<br>time.sleep(<span class="hljs-number">1</span>)<br><br><span class="hljs-comment"># 2. æ‰§è¡Œæ‹–æ‹½</span><br>actions = ActionChains(driver)<br>actions.drag_and_drop(source_ele, target_ele).perform()<br><br><span class="hljs-comment"># éªŒè¯ï¼šæ£€æŸ¥ A çš„æ–‡å­—æ˜¯ä¸æ˜¯å˜äº†ï¼ˆè¿™ä¸ªç½‘é¡µæ‹–æ‹½æˆåŠŸå header ä¼šäº’æ¢ï¼‰</span><br><span class="hljs-comment"># æ³¨æ„ï¼šDOM é‡Œçš„ ID ä¸ä¼šå˜ï¼Œä½†é‡Œé¢çš„ text ä¼šå˜</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‹–æ‹½å®Œæˆï¼&quot;</span>)<br><br>time.sleep(<span class="hljs-number">2</span>)<br>driver.quit()<br></code></pre></td></tr></table></figure><hr><h3 id="ç¬¬äºŒéƒ¨åˆ†ï¼šé”®ç›˜æ“ä½œ-Keyboard-Actions"><a href="#ç¬¬äºŒéƒ¨åˆ†ï¼šé”®ç›˜æ“ä½œ-Keyboard-Actions" class="headerlink" title="ç¬¬äºŒéƒ¨åˆ†ï¼šé”®ç›˜æ“ä½œ (Keyboard Actions)"></a>ç¬¬äºŒéƒ¨åˆ†ï¼šé”®ç›˜æ“ä½œ (Keyboard Actions)</h3><h4 id="å®æˆ˜-3ï¼šç»„åˆé”®æ“ä½œ-Ctrl-A-Ctrl-C"><a href="#å®æˆ˜-3ï¼šç»„åˆé”®æ“ä½œ-Ctrl-A-Ctrl-C" class="headerlink" title="å®æˆ˜ 3ï¼šç»„åˆé”®æ“ä½œ (Ctrl+A, Ctrl+C)"></a>å®æˆ˜ 3ï¼šç»„åˆé”®æ“ä½œ (Ctrl+A, Ctrl+C)</h4><p><strong>åœºæ™¯</strong>ï¼š</p><ol><li>åœ¨ç™¾åº¦æœç´¢æ¡†è¾“å…¥ â€œPythonâ€ã€‚</li><li><strong>Ctrl + A</strong> å…¨é€‰ã€‚</li><li><strong>Ctrl + X</strong> å‰ªåˆ‡ã€‚</li><li><strong>Ctrl + V</strong> ç²˜è´´ã€‚</li><li><strong>Enter</strong> å›è½¦æœç´¢ï¼ˆä¸ç‚¹æŒ‰é’®ï¼‰ã€‚</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><span class="hljs-keyword">from</span> selenium.webdriver.common.by <span class="hljs-keyword">import</span> By<br><span class="hljs-keyword">from</span> selenium.webdriver.common.keys <span class="hljs-keyword">import</span> Keys <span class="hljs-comment"># å¼•å…¥ Keys</span><br><span class="hljs-keyword">from</span> selenium.webdriver <span class="hljs-keyword">import</span> ActionChains<br><br>driver = webdriver.Chrome()<br>driver.get(<span class="hljs-string">&quot;https://www.baidu.com&quot;</span>)<br><br><span class="hljs-comment"># å®šä½æœç´¢æ¡†</span><br>search_input = driver.find_element(By.ID, <span class="hljs-string">&quot;kw&quot;</span>)<br><br><span class="hljs-comment"># 1. æ­£å¸¸è¾“å…¥</span><br>search_input.send_keys(<span class="hljs-string">&quot;Python&quot;</span>)<br>time.sleep(<span class="hljs-number">1</span>)<br><br><span class="hljs-comment"># 2. æ¨¡æ‹Ÿç»„åˆé”®ï¼šCtrl + A (å…¨é€‰)</span><br><span class="hljs-comment"># key_down(æŒ‰ä¸‹) -&gt; send_keys(A) -&gt; key_up(æ¾å¼€)</span><br>ActionChains(driver)\<br>    .key_down(Keys.CONTROL)\<br>    .send_keys(<span class="hljs-string">&quot;a&quot;</span>)\<br>    .key_up(Keys.CONTROL)\<br>    .perform()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å·²å…¨é€‰&quot;</span>)<br>time.sleep(<span class="hljs-number">1</span>)<br><br><span class="hljs-comment"># 3. æ¨¡æ‹Ÿç»„åˆé”®ï¼šCtrl + X (å‰ªåˆ‡)</span><br><span class="hljs-comment"># å…¶å® send_keys ä¹Ÿå¯ä»¥ç›´æ¥ä¼ ç»„åˆé”®ï¼Œä¸ç”¨ ActionChains ä¹Ÿå¯ä»¥ï¼Œè¿™æ˜¯ç®€ä¾¿å†™æ³•ï¼š</span><br>search_input.send_keys(Keys.CONTROL, <span class="hljs-string">&#x27;x&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å·²å‰ªåˆ‡&quot;</span>)<br>time.sleep(<span class="hljs-number">1</span>)<br><br><span class="hljs-comment"># 4. æ¨¡æ‹Ÿç»„åˆé”®ï¼šCtrl + V (ç²˜è´´)</span><br>search_input.send_keys(Keys.CONTROL, <span class="hljs-string">&#x27;v&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å·²ç²˜è´´&quot;</span>)<br>time.sleep(<span class="hljs-number">1</span>)<br><br><span class="hljs-comment"># 5. æ¨¡æ‹Ÿå›è½¦é”® (æäº¤æœç´¢)</span><br><span class="hljs-comment"># å¾ˆå¤šæ—¶å€™ä¸ç”¨å»æ‰¾â€œç™¾åº¦ä¸€ä¸‹â€æŒ‰é’®ï¼Œç›´æ¥å›è½¦æ›´ç¨³</span><br>search_input.send_keys(Keys.ENTER)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å·²å›è½¦æœç´¢&quot;</span>)<br><br>time.sleep(<span class="hljs-number">3</span>)<br>driver.quit()<br></code></pre></td></tr></table></figure><hr><h1 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h1><p>æ–‡ä»¶ä¸Šä¼ åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œå¤„ç†æ–¹å¼å¤©å·®åœ°åˆ«ï¼š</p><ol><li><strong>æ ‡å‡†æ§ä»¶ (<code>&lt;input type=&quot;file&quot;&gt;</code>)</strong>ï¼šSelenium å¯ä»¥è½»æ¾æå®šã€‚</li><li><strong>éæ ‡å‡†æ§ä»¶ (Flash&#x2F;JS&#x2F;Div)</strong>ï¼šSelenium <strong>æ— èƒ½ä¸ºåŠ›</strong>ï¼Œå¿…é¡»å€ŸåŠ©å¤–æŒ‚ã€‚</li></ol><hr><h3 id="æƒ…å†µä¸€ï¼šæ ‡å‡†-Input-æ ‡ç­¾-90-çš„æƒ…å†µ"><a href="#æƒ…å†µä¸€ï¼šæ ‡å‡†-Input-æ ‡ç­¾-90-çš„æƒ…å†µ" class="headerlink" title="æƒ…å†µä¸€ï¼šæ ‡å‡† Input æ ‡ç­¾ (90% çš„æƒ…å†µ)"></a>æƒ…å†µä¸€ï¼šæ ‡å‡† Input æ ‡ç­¾ (90% çš„æƒ…å†µ)</h3><p>å¦‚æœç½‘é¡µä¸Šçš„ä¸Šä¼ æŒ‰é’®å¯¹åº”çš„ HTML æ ‡ç­¾æ˜¯ <code>&lt;input type=&quot;file&quot; ...&gt;</code>ï¼Œè¿™æ˜¯æœ€ç®€å•çš„æƒ…å†µã€‚</p><p><strong>æ ¸å¿ƒç§˜è¯€ï¼šåƒä¸‡ä¸è¦ç‚¹å‡»ä¸Šä¼ æŒ‰é’®ï¼</strong></p><ul><li><strong>é”™è¯¯åšæ³•</strong>ï¼šä½ ç‚¹å‡»æŒ‰é’® -&gt; æ“ä½œç³»ç»Ÿå¼¹å‡ºä¸€ä¸ªâ€œæ–‡ä»¶é€‰æ‹©æ¡†â€ -&gt; Selenium å‚»çœ¼äº†ï¼ˆå› ä¸ºå®ƒæ§åˆ¶ä¸äº†æ“ä½œç³»ç»Ÿçª—å£ï¼‰ã€‚</li><li><strong>æ­£ç¡®åšæ³•</strong>ï¼šç›´æ¥æŠŠ<strong>æ–‡ä»¶è·¯å¾„</strong> <code>send_keys</code> ç»™é‚£ä¸ª input å…ƒç´ ã€‚</li></ul><h4 id="ä»£ç å®æˆ˜"><a href="#ä»£ç å®æˆ˜" class="headerlink" title="ä»£ç å®æˆ˜"></a>ä»£ç å®æˆ˜</h4><p><strong>ç½‘å€</strong>ï¼š<code>https://the-internet.herokuapp.com/upload</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><span class="hljs-keyword">from</span> selenium.webdriver.common.by <span class="hljs-keyword">import</span> By<br><br>driver = webdriver.Chrome()<br>driver.implicitly_wait(<span class="hljs-number">10</span>)<br>driver.get(<span class="hljs-string">&quot;https://the-internet.herokuapp.com/upload&quot;</span>)<br><br><span class="hljs-comment"># 1. å‡†å¤‡æ–‡ä»¶è·¯å¾„</span><br><span class="hljs-comment"># å»ºè®®ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œé˜²æ­¢å› ä¸ºè¿è¡Œç›®å½•ä¸åŒæ‰¾ä¸åˆ°æ–‡ä»¶</span><br><span class="hljs-comment"># å‡è®¾å½“å‰ç›®å½•ä¸‹æœ‰ä¸€ä¸ª test.txt</span><br>file_path = os.path.abspath(<span class="hljs-string">&quot;test.txt&quot;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å‡†å¤‡ä¸Šä¼ çš„æ–‡ä»¶è·¯å¾„: <span class="hljs-subst">&#123;file_path&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># 2. å®šä½ä¸Šä¼ æ§ä»¶</span><br><span class="hljs-comment"># æ³¨æ„ï¼šæˆ‘ä»¬è¦æ‰¾çš„æ˜¯é‚£ä¸ª input æ ‡ç­¾ï¼Œè€Œä¸æ˜¯é‚£ä¸ªæ¼‚äº®çš„â€œChoose Fileâ€æŒ‰é’®</span><br><span class="hljs-comment"># å“ªæ€• input æ˜¯éšè—çš„ï¼Œåªè¦èƒ½å®šä½åˆ°å°±è¡Œ</span><br>upload_input = driver.find_element(By.ID, <span class="hljs-string">&quot;file-upload&quot;</span>)<br><br><span class="hljs-comment"># 3. æ ¸å¿ƒæ­¥éª¤ï¼šç›´æ¥å‘é€è·¯å¾„</span><br><span class="hljs-comment"># è¿™ä¸€æ­¥ç›¸å½“äºï¼šSelenium å¸®ä½ æŠŠè·¯å¾„å¡«è¿›å»ï¼Œå¹¶è‡ªåŠ¨è§¦å‘äº†æ–‡ä»¶é€‰æ‹©</span><br>upload_input.send_keys(file_path)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å·²å‘é€æ–‡ä»¶è·¯å¾„&quot;</span>)<br><br><span class="hljs-comment"># 4. ç‚¹å‡»â€œUploadâ€æŒ‰é’® (æäº¤è¡¨å•)</span><br>driver.find_element(By.ID, <span class="hljs-string">&quot;file-submit&quot;</span>).click()<br><br><span class="hljs-comment"># 5. éªŒè¯ç»“æœ</span><br>uploaded_text = driver.find_element(By.ID, <span class="hljs-string">&quot;uploaded-files&quot;</span>).text<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;é¡µé¢æ˜¾ç¤ºå·²ä¸Šä¼ : <span class="hljs-subst">&#123;uploaded_text&#125;</span>&quot;</span>)<br><span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;test.txt&quot;</span> <span class="hljs-keyword">in</span> uploaded_text<br><br>time.sleep(<span class="hljs-number">2</span>)<br>driver.quit()<br></code></pre></td></tr></table></figure><hr><h3 id="æƒ…å†µäºŒï¼šéæ ‡å‡†æ§ä»¶-é¢è¯•éš¾ç‚¹"><a href="#æƒ…å†µäºŒï¼šéæ ‡å‡†æ§ä»¶-é¢è¯•éš¾ç‚¹" class="headerlink" title="æƒ…å†µäºŒï¼šéæ ‡å‡†æ§ä»¶ (é¢è¯•éš¾ç‚¹)"></a>æƒ…å†µäºŒï¼šéæ ‡å‡†æ§ä»¶ (é¢è¯•éš¾ç‚¹)</h3><p>æœ‰äº›ç½‘ç«™ï¼ˆæ¯”å¦‚èŠ±å“¨çš„å›¾ç‰‡ä¸Šä¼ æ’ä»¶ï¼‰ï¼Œæ‰¾ä¸åˆ° <code>&lt;input&gt;</code> æ ‡ç­¾ï¼Œæˆ–è€…é‚£ä¸ªæ ‡ç­¾è¢«å¤æ‚çš„ JS é€»è¾‘åŒ…è£¹ï¼Œ<code>send_keys</code> ä¸ç”Ÿæ•ˆã€‚å¿…é¡»ç‚¹å‡»æŒ‰é’®ï¼Œå¼¹å‡º Windows&#x2F;Mac çš„æ–‡ä»¶é€‰æ‹©æ¡†æ‰èƒ½ä¸Šä¼ ã€‚</p><p><strong>Selenium çš„å±€é™æ€§</strong>ï¼šSelenium åªèƒ½æ§åˆ¶æµè§ˆå™¨ï¼Œ<strong>æ§åˆ¶ä¸äº†æ“ä½œç³»ç»Ÿçš„å¼¹çª—</strong>ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<br>éœ€è¦å¼•å…¥â€œå¤–æ´â€æ¥æ§åˆ¶é¼ æ ‡å’Œé”®ç›˜ã€‚</p><h4 id="1-PyAutoGUI-Python-åº“ï¼Œæ¨è"><a href="#1-PyAutoGUI-Python-åº“ï¼Œæ¨è" class="headerlink" title="1. PyAutoGUI (Python åº“ï¼Œæ¨è)"></a>1. PyAutoGUI (Python åº“ï¼Œæ¨è)</h4><p>è¿™æ˜¯ä¸€ä¸ªèƒ½æ§åˆ¶é¼ æ ‡é”®ç›˜çš„ Python åº“ã€‚</p><ul><li><strong>æ€è·¯</strong>ï¼šSelenium ç‚¹å‡»æŒ‰é’® -&gt; å¼¹çª—å‡ºç° -&gt; PyAutoGUI è¾“å…¥è·¯å¾„ -&gt; PyAutoGUI æŒ‰å›è½¦ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># éœ€è¦å…ˆå®‰è£…: pip install pyautogui</span><br><span class="hljs-keyword">import</span> pyautogui<br><br><span class="hljs-comment"># ... Selenium ç‚¹å‡»æŒ‰é’®çš„ä»£ç  ...</span><br>driver.find_element(By.ID, <span class="hljs-string">&quot;upload_btn&quot;</span>).click()<br>time.sleep(<span class="hljs-number">1</span>) <span class="hljs-comment"># ç­‰å¼¹çª—å‡ºæ¥</span><br><br><span class="hljs-comment"># ä½¿ç”¨ PyAutoGUI æ“ä½œ Windows å¼¹çª—</span><br>pyautogui.write(<span class="hljs-string">&quot;D:\\test.txt&quot;</span>) <span class="hljs-comment"># è¾“å…¥è·¯å¾„</span><br>pyautogui.press(<span class="hljs-string">&quot;enter&quot;</span>)        <span class="hljs-comment"># æŒ‰å›è½¦</span><br></code></pre></td></tr></table></figure><ul><li><strong>ç¼ºç‚¹</strong>ï¼šè„šæœ¬è¿è¡Œæ—¶ï¼Œ<strong>é¼ æ ‡ç„¦ç‚¹å¿…é¡»åœ¨æµè§ˆå™¨ä¸Š</strong>ï¼Œä½ ä¸èƒ½å»å¹²åˆ«çš„äº‹ï¼Œå¦åˆ™ä¼šè¾“é”™åœ°æ–¹ã€‚è€Œä¸”åœ¨â€œæ— å¤´æ¨¡å¼â€ï¼ˆHeadlessï¼Œåå°è¿è¡Œï¼‰ä¸‹æ— æ³•ä½¿ç”¨ã€‚</li></ul><h4 id="2-AutoIt-Windows-è€ç‰Œå·¥å…·"><a href="#2-AutoIt-Windows-è€ç‰Œå·¥å…·" class="headerlink" title="2. AutoIt (Windows è€ç‰Œå·¥å…·)"></a>2. AutoIt (Windows è€ç‰Œå·¥å…·)</h4><p>å†™ä¸€ä¸ª <code>.exe</code> è„šæœ¬æ¥å¤„ç†å¼¹çª—ï¼ŒPython è°ƒç”¨è¿™ä¸ª exeã€‚</p><ul><li><strong>ç¼ºç‚¹</strong>ï¼šå­¦ä¹ æˆæœ¬é«˜ï¼Œåªèƒ½åœ¨ Windows ä¸Šç”¨ï¼Œç°åœ¨ç”¨çš„äººè¶Šæ¥è¶Šå°‘äº†ã€‚</li></ul><hr><p><strong>é—®ï¼š</strong> â€œå¦‚æœä¸Šä¼ æŒ‰é’®ä¸æ˜¯ input æ ‡ç­¾ï¼Œæˆ–è€… input æ ‡ç­¾æ˜¯ hiddenï¼ˆéšè—ï¼‰çš„ï¼Œæ€ä¹ˆå¤„ç†ï¼Ÿâ€</p><p><strong>ç­”ï¼š</strong></p><blockquote><p>â€œå¦‚æœæ˜¯ <code>input</code> æ ‡ç­¾è¢« <code>hidden</code> éšè—äº†ï¼š</p><ol><li>æˆ‘ä¼šå…ˆå°è¯•ç”¨ JS (<code>execute_script</code>) æŠŠå®ƒçš„ <code>style.display</code> æ”¹ä¸º <code>block</code> è®©å®ƒæ˜¾ç¤ºå‡ºæ¥ã€‚</li><li>ç„¶åç›´æ¥ç”¨ <code>send_keys</code> ä¸Šä¼ ï¼Œè¿™æ˜¯æœ€ç¨³çš„ã€‚</li></ol><p>å¦‚æœæ ¹æœ¬æ²¡æœ‰ <code>input</code> æ ‡ç­¾ï¼Œå¿…é¡»æ“ä½œ OS å¼¹çª—ï¼š</p><ul><li>æˆ‘ä¼šä½¿ç”¨ <strong>PyAutoGUI</strong> è¿™æ ·çš„ç¬¬ä¸‰æ–¹åº“æ¥æ¨¡æ‹Ÿé”®ç›˜è¾“å…¥è·¯å¾„å¹¶å›è½¦ã€‚</li><li>ä½†åœ¨ CI&#x2F;CD æµæ°´çº¿ï¼ˆæ— ç•Œé¢ç¯å¢ƒï¼‰ä¸­è¿™ä¼šå¤±æ•ˆï¼Œæ‰€ä»¥æˆ‘ä¼šå°½é‡å’Œå¼€å‘æ²Ÿé€šï¼Œè®©ä»–ä»¬æä¾›ä¸€ä¸ªå¯ä¾›è‡ªåŠ¨åŒ–è°ƒç”¨çš„ä¸Šä¼ æ¥å£ã€‚â€</li></ul></blockquote><hr><h1 id="æ—¥æœŸé€‰æ‹©"><a href="#æ—¥æœŸé€‰æ‹©" class="headerlink" title="æ—¥æœŸé€‰æ‹©"></a>æ—¥æœŸé€‰æ‹©</h1><ol><li><strong>ç»“æ„å¤æ‚</strong>ï¼šé€šå¸¸æ˜¯åµŒå¥—äº†æ— æ•°å±‚ <code>div</code>ã€<code>table</code> çš„æ§ä»¶ã€‚</li><li><strong>åªè¯»é™åˆ¶</strong>ï¼šå¾ˆå¤šè¾“å…¥æ¡†æœ‰ <code>readonly=&quot;readonly&quot;</code> å±æ€§ï¼Œç¦æ­¢ä½ ç›´æ¥è¾“å…¥ï¼Œå¼ºåˆ¶ä½ ç‚¹æ—¥å†ã€‚</li><li><strong>ç¿»é¡µéº»çƒ¦</strong>ï¼šå¦‚æœè¦é€‰â€œå»å¹´â€æˆ–è€…â€œä¸‹ä¸ªæœˆâ€ï¼Œä½ å¾—å†™å¾ªç¯å»ç‚¹â€œä¸Šä¸€é¡µ&#x2F;ä¸‹ä¸€é¡µâ€ï¼Œéå¸¸å®¹æ˜“å‡ºé”™ã€‚</li></ol><hr><h3 id="ä¸­ç­–ï¼šç›´æ¥è¾“å…¥-send-keys"><a href="#ä¸­ç­–ï¼šç›´æ¥è¾“å…¥-send-keys" class="headerlink" title="ä¸­ç­–ï¼šç›´æ¥è¾“å…¥ (send_keys)"></a>ä¸­ç­–ï¼šç›´æ¥è¾“å…¥ (send_keys)</h3><p>å¦‚æœå¼€å‘æ¯”è¾ƒâ€œä»æ…ˆâ€ï¼Œæ²¡æœ‰ç»™è¾“å…¥æ¡†åŠ  <code>readonly</code> å±æ€§ï¼Œæˆ–è€…å…è®¸é”®ç›˜è¾“å…¥ã€‚</p><ul><li><p><strong>åšæ³•</strong>ï¼š</p><ol><li><code>clear()</code> æ¸…ç©ºï¼ˆæˆ–è€… Ctrl+A -&gt; Deleteï¼‰ã€‚</li><li><code>send_keys(&quot;2023-12-12&quot;)</code>ã€‚</li><li>æŒ‰ <code>Keys.TAB</code> æˆ–ç‚¹å‡»ç©ºç™½å¤„è®©æ—¥å†æ”¶èµ·æ¥ã€‚</li></ol></li><li><p><strong>æ³¨æ„</strong>ï¼šè¦æ³¨æ„æ—¥æœŸçš„æ ¼å¼ï¼ˆæ˜¯ <code>yyyy-mm-dd</code> è¿˜æ˜¯ <code>yyyy/mm/dd</code>ï¼‰ï¼Œè¾“é”™äº†ç½‘é¡µä¼šæŠ¥é”™ã€‚</p></li></ul><hr><h3 id="ä¸Šç­–ï¼šJS-å¼ºè¡Œç¥›é™¤â€œåªè¯»â€å±æ€§-The-Killer-Move"><a href="#ä¸Šç­–ï¼šJS-å¼ºè¡Œç¥›é™¤â€œåªè¯»â€å±æ€§-The-Killer-Move" class="headerlink" title="ä¸Šç­–ï¼šJS å¼ºè¡Œç¥›é™¤â€œåªè¯»â€å±æ€§ (The Killer Move)"></a>ä¸Šç­–ï¼šJS å¼ºè¡Œç¥›é™¤â€œåªè¯»â€å±æ€§ (The Killer Move)</h3><p><strong>åŸç†</strong>ï¼š<br>æ—¢ç„¶ Selenium æ§åˆ¶ä¸äº†æ—¥å†æ§ä»¶ï¼Œé‚£æˆ‘å°±ç”¨ JS æŠŠè¾“å…¥æ¡†çš„ <code>readonly</code> å±æ€§æ’•æ‰ï¼æŠŠå®ƒå˜æˆä¸€ä¸ªæ™®é€šçš„è¾“å…¥æ¡†ï¼Œç„¶åç›´æ¥å¡«å€¼ã€‚</p><h4 id="JS-æš´åŠ›å¡«å•"><a href="#JS-æš´åŠ›å¡«å•" class="headerlink" title="JS æš´åŠ›å¡«å•"></a>JS æš´åŠ›å¡«å•</h4><p>å‡è®¾ HTML é•¿è¿™æ ·ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- æœ‰ readonlyï¼Œä¸è®©ä½ ç›´æ¥è¾“ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;train_date&quot;</span> <span class="hljs-attr">readonly</span>=<span class="hljs-string">&quot;readonly&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><span class="hljs-keyword">from</span> selenium.webdriver.common.by <span class="hljs-keyword">import</span> By<br><br>driver = webdriver.Chrome()<br>driver.get(<span class="hljs-string">&quot;https://www.12306.cn/index/&quot;</span>) <span class="hljs-comment"># ä»¥ 12306 ä¸ºä¾‹</span><br><br><span class="hljs-comment"># 1. å®šä½æ—¥æœŸè¾“å…¥æ¡†</span><br><span class="hljs-comment"># 12306 çš„å‡ºå‘æ—¥æœŸ id æ˜¯ &#x27;train_date&#x27;</span><br>date_input = driver.find_element(By.ID, <span class="hljs-string">&quot;train_date&quot;</span>)<br><br><span class="hljs-comment"># --- å…³é”®æ­¥éª¤ï¼šJS ç¥›é™¤ readonly ---</span><br><br><span class="hljs-comment"># è¿™æ®µ JS çš„æ„æ€æ˜¯ï¼šæ‰¾åˆ°è¿™ä¸ªå…ƒç´ (arguments[0])ï¼Œç§»é™¤å®ƒçš„ readonly å±æ€§</span><br>js_remove_readonly = <span class="hljs-string">&quot;arguments[0].removeAttribute(&#x27;readonly&#x27;);&quot;</span><br>driver.execute_script(js_remove_readonly, date_input)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å·²ç§»é™¤åªè¯»å±æ€§&quot;</span>)<br><br><span class="hljs-comment"># --- å…³é”®æ­¥éª¤ï¼šæ¸…ç©ºå¹¶è¾“å…¥ ---</span><br><br><span class="hljs-comment"># 2. æ¸…ç©ºåŸæœ‰çš„æ—¥æœŸ</span><br>date_input.clear()<br><br><span class="hljs-comment"># 3. è¾“å…¥ä½ æƒ³å»çš„æ—¥æœŸ</span><br><span class="hljs-comment"># æ³¨æ„ï¼š12306 è¿™ç§ç½‘ç«™å¯¹æ ¼å¼è¦æ±‚å¾ˆä¸¥ï¼Œå¿…é¡»æ˜¯ yyyy-mm-dd</span><br>date_input.send_keys(<span class="hljs-string">&quot;2025-01-01&quot;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å·²è¾“å…¥æ—¥æœŸ: 2025-01-01&quot;</span>)<br><br><span class="hljs-comment"># 4. (å¯é€‰) æœ‰æ—¶å€™è¾“å…¥å®Œæ—¥å†è¿˜åœ¨é®æŒ¡è§†çº¿ï¼Œå¯ä»¥ç‚¹ä¸€ä¸‹åˆ«çš„åœ°æ–¹</span><br>driver.find_element(By.TAG_NAME, <span class="hljs-string">&quot;body&quot;</span>).click()<br><br>time.sleep(<span class="hljs-number">3</span>)<br>driver.quit()<br></code></pre></td></tr></table></figure><hr><h3 id="è¿›é˜¶å‘ç‚¹ï¼šVue-React-æ¡†æ¶çš„æ—¥æœŸæ§ä»¶"><a href="#è¿›é˜¶å‘ç‚¹ï¼šVue-React-æ¡†æ¶çš„æ—¥æœŸæ§ä»¶" class="headerlink" title="è¿›é˜¶å‘ç‚¹ï¼šVue&#x2F;React æ¡†æ¶çš„æ—¥æœŸæ§ä»¶"></a>è¿›é˜¶å‘ç‚¹ï¼šVue&#x2F;React æ¡†æ¶çš„æ—¥æœŸæ§ä»¶</h3><p>ç°åœ¨çš„ç½‘ç«™å¾ˆå¤šæ˜¯ç”¨ Vue æˆ– React å†™çš„ã€‚<br>å¯èƒ½ä¼šå‘ç°ï¼š<strong>ç”¨ä¸Šé¢çš„æ–¹æ³• <code>send_keys</code> å¡«è¿›å»äº†ï¼Œä½†ä¸€ç‚¹â€œæŸ¥è¯¢â€ï¼Œæ—¥æœŸåˆå˜å›å»äº†ï¼</strong></p><p><strong>åŸå› </strong>ï¼š<br>è¿™äº›å‰ç«¯æ¡†æ¶æ˜¯â€œåŒå‘ç»‘å®šâ€çš„ã€‚å…‰æ”¹äº† HTML é‡Œçš„ valueï¼Œä½†æ²¡æœ‰è§¦å‘ç½‘é¡µçš„ <code>input</code> æˆ– <code>change</code> äº‹ä»¶ï¼Œæ¡†æ¶ä¸çŸ¥é“æ”¹äº†å€¼ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ (JS ç›´æ¥èµ‹å€¼)</strong>ï¼š<br>ä¸è¦ç”¨ <code>send_keys</code>ï¼Œç›´æ¥ç”¨ JS ä¿®æ”¹ valueã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># é’ˆå¯¹ Vue/React ç­‰éš¾æçš„æ§ä»¶</span><br><span class="hljs-comment"># ç›´æ¥æŠŠ value æ”¹æ‰ï¼Œä¸€æ­¥åˆ°ä½</span><br>js_value = <span class="hljs-string">&quot;arguments[0].value = &#x27;2025-01-01&#x27;;&quot;</span><br>driver.execute_script(js_value, date_input)<br></code></pre></td></tr></table></figure><hr><h1 id="è”æƒ³è¾“å…¥æ¡†"><a href="#è”æƒ³è¾“å…¥æ¡†" class="headerlink" title="è”æƒ³è¾“å…¥æ¡†"></a>è”æƒ³è¾“å…¥æ¡†</h1><p>å®ƒçš„éš¾ç‚¹åœ¨äºï¼š<strong>é€‰é¡¹æ˜¯åŠ¨æ€åŠ è½½çš„</strong>ã€‚</p><ol><li>è¾“å…¥â€œç”µè„‘â€ã€‚</li><li>æµè§ˆå™¨å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨ã€‚</li><li>æœåŠ¡å™¨è¿”å›æ•°æ®ï¼Œå‰ç«¯å†æ¸²æŸ“å‡ºä¸€ä¸ªä¸‹æ‹‰åˆ—è¡¨ï¼ˆé€šå¸¸æ˜¯ <code>&lt;ul&gt;&lt;li&gt;</code> æˆ– <code>&lt;div&gt;</code> ç»“æ„ï¼‰ã€‚</li><li>è¿™ä¸ªè¿‡ç¨‹æœ‰<strong>å»¶è¿Ÿ</strong>ï¼Œå¿…é¡»å¤„ç†å¥½ç­‰å¾…ã€‚</li></ol><hr><h3 id="æ–¹æ³•ä¸€ï¼šXPath-æ–‡æœ¬å®šä½"><a href="#æ–¹æ³•ä¸€ï¼šXPath-æ–‡æœ¬å®šä½" class="headerlink" title="æ–¹æ³•ä¸€ï¼šXPath æ–‡æœ¬å®šä½"></a>æ–¹æ³•ä¸€ï¼šXPath æ–‡æœ¬å®šä½</h3><p>å¦‚æœæ˜ç¡®çŸ¥é“æƒ³é€‰å“ªä¸€ä¸ªï¼ˆæ¯”å¦‚è¾“å…¥ â€œseleniumâ€ï¼Œä½ æƒ³é€‰ â€œseleniumæ•™ç¨‹â€ï¼‰ï¼Œç›´æ¥ç”¨ XPath çš„æ–‡æœ¬åŒ¹é…å»ç‚¹ã€‚</p><p><strong>æ ¸å¿ƒé€»è¾‘</strong>ï¼š<br>è¾“å…¥ -&gt; <strong>æ˜¾å¼ç­‰å¾…</strong>åˆ—è¡¨å‡ºç° -&gt; <strong>XPath å®šä½åŒ…å«ç‰¹å®šæ–‡å­—çš„å…ƒç´ </strong> -&gt; ç‚¹å‡»ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><span class="hljs-keyword">from</span> selenium.webdriver.common.by <span class="hljs-keyword">import</span> By<br><span class="hljs-keyword">from</span> selenium.webdriver.support.ui <span class="hljs-keyword">import</span> WebDriverWait<br><span class="hljs-keyword">from</span> selenium.webdriver.support <span class="hljs-keyword">import</span> expected_conditions <span class="hljs-keyword">as</span> EC<br><br>driver = webdriver.Chrome()<br>driver.get(<span class="hljs-string">&quot;https://www.zhihu.com/&quot;</span>)<br>driver.maximize_window()<br><br>time.sleep(<span class="hljs-number">5</span>)<br><br><span class="hljs-comment"># 1. è¾“å…¥å…³é”®è¯</span><br>driver.find_element(By.ID, <span class="hljs-string">&quot;Popover1-toggle&quot;</span>).send_keys(<span class="hljs-string">&quot;selenium&quot;</span>)<br><br><span class="hljs-comment"># 2. ã€å…³é”®ã€‘æ˜¾å¼ç­‰å¾…è”æƒ³æ¡†å‡ºç°</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ­£åœ¨ç­‰å¾…è”æƒ³é€‰é¡¹å‡ºç°...&quot;</span>)<br><br>target_text = <span class="hljs-string">&quot;seleniumè¢«æ·˜æ±°äº†å—&quot;</span><br><br><span class="hljs-comment"># XPath è§£æï¼šåœ¨æ‰€æœ‰ span æ ‡ç­¾ä¸­ï¼Œæ‰¾åˆ°æ–‡æœ¬åŒ…å« &#x27;seleniumè¢«æ·˜æ±°äº†å—&#x27; çš„é‚£ä¸ª</span><br><span class="hljs-comment"># æ³¨æ„ï¼šè”æƒ³è¯é€šå¸¸åœ¨ li æ ‡ç­¾æˆ–è€… div æ ‡ç­¾æˆ–è€… spané‡Œ</span><br>target_element = WebDriverWait(driver, <span class="hljs-number">5</span>).until(<br>    EC.visibility_of_element_located((By.XPATH, <span class="hljs-string">f&quot;//span[contains(., &#x27;<span class="hljs-subst">&#123;target_text&#125;</span>&#x27;)]&quot;</span>))<br>)<br><br><span class="hljs-comment"># 3. ç‚¹å‡»å®ƒ</span><br>target_element.click()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å·²ç‚¹å‡»é€‰é¡¹: <span class="hljs-subst">&#123;target_text&#125;</span>&quot;</span>)<br><br>time.sleep(<span class="hljs-number">2</span>)<br>driver.quit()<br></code></pre></td></tr></table></figure><hr><h3 id="æ–¹æ³•äºŒï¼šå¾ªç¯éå†æ³•"><a href="#æ–¹æ³•äºŒï¼šå¾ªç¯éå†æ³•" class="headerlink" title="æ–¹æ³•äºŒï¼šå¾ªç¯éå†æ³•"></a>æ–¹æ³•äºŒï¼šå¾ªç¯éå†æ³•</h3><p>æœ‰æ—¶å€™ XPath æ–‡æœ¬åŒ¹é…å¯èƒ½ä¼šå› ä¸ºç©ºæ ¼ã€æ¢è¡Œç¬¦å¯¼è‡´å®šä½å¤±è´¥ã€‚æˆ–è€…æƒ³æ‰“å°å‡ºæ‰€æœ‰è”æƒ³è¯çœ‹çœ‹ã€‚è¿™æ—¶å€™å¯ä»¥ç”¨<strong>éå†æ³•</strong>ã€‚</p><p><strong>æ ¸å¿ƒé€»è¾‘</strong>ï¼š</p><ol><li>æ‰¾åˆ°æ‰€æœ‰çš„é€‰é¡¹å…ƒç´ ï¼ˆè¿”å›ä¸€ä¸ª Listï¼‰ã€‚</li><li>ç”¨ <code>for</code> å¾ªç¯ä¸€ä¸ªä¸€ä¸ªçœ‹ã€‚</li><li>å¦‚æœæ–‡å­—å¯¹ä¸Šäº†ï¼Œå°±ç‚¹å‡»ï¼Œç„¶å <code>break</code> è·³å‡ºå¾ªç¯ã€‚</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ... å‰é¢è¾“å…¥ä»£ç ä¸€æ · ...</span><br><br><span class="hljs-comment"># 1. ç­‰å¾…ä»»æ„ä¸€ä¸ªé€‰é¡¹å‡ºç°ï¼Œç¡®ä¿åˆ—è¡¨åŠ è½½äº†</span><br>WebDriverWait(driver, <span class="hljs-number">5</span>).until(<br>    EC.visibility_of_element_located((By.CSS_SELECTOR, <span class="hljs-string">&quot;.bdsug li&quot;</span>))<br>)<br><br><span class="hljs-comment"># 2. è·å–æ‰€æœ‰é€‰é¡¹åˆ—è¡¨</span><br><span class="hljs-comment"># ç™¾åº¦è”æƒ³é¡¹çš„ CSS é€šå¸¸æ˜¯ .bdsug li (å…·ä½“è¦æŒ‰ F12 ç¡®è®¤)</span><br>options = driver.find_elements(By.CSS_SELECTOR, <span class="hljs-string">&quot;.bdsug li&quot;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ä¸€å…±æ‰¾åˆ°äº† <span class="hljs-subst">&#123;<span class="hljs-built_in">len</span>(options)&#125;</span> ä¸ªè”æƒ³è¯&quot;</span>)<br><br><span class="hljs-comment"># 3. å¾ªç¯éå†</span><br>want_to_click = <span class="hljs-string">&quot;seleniumå®‰è£…æ•™ç¨‹&quot;</span><br><br><span class="hljs-keyword">for</span> option <span class="hljs-keyword">in</span> options:<br>    <span class="hljs-comment"># è·å–å½“å‰é€‰é¡¹çš„æ–‡æœ¬</span><br>    text = option.text<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å‘ç°é€‰é¡¹: <span class="hljs-subst">&#123;text&#125;</span>&quot;</span>)<br>    <br>    <span class="hljs-comment"># æ¨¡ç³ŠåŒ¹é…ï¼šå¦‚æœæˆ‘æƒ³ç‚¹çš„è¯åœ¨é€‰é¡¹é‡Œ</span><br>    <span class="hljs-keyword">if</span> want_to_click <span class="hljs-keyword">in</span> text:<br>        option.click()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;âœ… æˆåŠŸç‚¹å‡»: <span class="hljs-subst">&#123;text&#125;</span>&quot;</span>)<br>        <span class="hljs-keyword">break</span><br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;âŒ æ‰¾äº†ä¸€åœˆæ²¡æ‰¾åˆ°ä½ è¦çš„è¯&quot;</span>)<br></code></pre></td></tr></table></figure><hr><h3 id="æ–¹æ³•ä¸‰ï¼šé”®ç›˜æ“ä½œæ³•"><a href="#æ–¹æ³•ä¸‰ï¼šé”®ç›˜æ“ä½œæ³•" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šé”®ç›˜æ“ä½œæ³•"></a>æ–¹æ³•ä¸‰ï¼šé”®ç›˜æ“ä½œæ³•</h3><p>å¦‚æœä½ ä¸åœ¨ä¹å…·ä½“é€‰å“ªä¸ªï¼Œæˆ–è€…åˆ—è¡¨ç»“æ„å¤ªå¤æ‚ï¼ˆæ¯”å¦‚åµŒå¥—äº†æ— æ•°å±‚ divï¼‰ï¼Œä½ å¯ä»¥æ¨¡æ‹Ÿé”®ç›˜çš„ <strong>â€œå‘ä¸‹ç®­å¤´â€ + â€œå›è½¦â€</strong>ã€‚</p><p><strong>åœºæ™¯</strong>ï¼šè¾“å…¥åï¼Œé»˜è®¤é€‰ç¬¬ä¸€ä¸ªè”æƒ³è¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> selenium.webdriver.common.keys <span class="hljs-keyword">import</span> Keys<br><br><span class="hljs-comment"># 1. è¾“å…¥æ–‡æœ¬</span><br>search_input = driver.find_element(By.ID, <span class="hljs-string">&quot;kw&quot;</span>)<br>search_input.send_keys(<span class="hljs-string">&quot;selenium&quot;</span>)<br>time.sleep(<span class="hljs-number">1</span>) <span class="hljs-comment"># ç­‰ä¸€ä¸‹åˆ—è¡¨å‡ºæ¥</span><br><br><span class="hljs-comment"># 2. æ¨¡æ‹ŸæŒ‰é”®ï¼šå‘ä¸‹ç®­å¤´ -&gt; å‘ä¸‹ç®­å¤´ -&gt; å›è½¦</span><br><span class="hljs-comment"># é€‰ç¬¬äºŒä¸ªè”æƒ³è¯</span><br>search_input.send_keys(Keys.ARROW_DOWN)<br>time.sleep(<span class="hljs-number">0.5</span>)<br>search_input.send_keys(Keys.ARROW_DOWN)<br>time.sleep(<span class="hljs-number">0.5</span>)<br>search_input.send_keys(Keys.ENTER)<br></code></pre></td></tr></table></figure><hr><h1 id="Canvas"><a href="#Canvas" class="headerlink" title="Canvas"></a>Canvas</h1><h2 id="1-åŸºæœ¬äº¤äº’æ–¹æ³•"><a href="#1-åŸºæœ¬äº¤äº’æ–¹æ³•" class="headerlink" title="1. åŸºæœ¬äº¤äº’æ–¹æ³•"></a>1. <strong>åŸºæœ¬äº¤äº’æ–¹æ³•</strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver<br><span class="hljs-keyword">from</span> selenium.webdriver.common.by <span class="hljs-keyword">import</span> By<br><span class="hljs-keyword">from</span> selenium.webdriver <span class="hljs-keyword">import</span> ActionChains<br><br>driver = webdriver.Chrome()<br>driver.get(<span class="hljs-string">&quot;https://the-internet.herokuapp.com/challenging_dom&quot;</span>) <span class="hljs-comment"># è¿™é‡Œåªæ˜¯ä¸¾ä¾‹ï¼Œæ‰¾ä¸ªæœ‰ canvas çš„ç½‘é¡µå¾ˆéš¾ï¼Œå‡è®¾é¡µé¢æœ‰ä¸ª id=&#x27;myCanvas&#x27;</span><br><br><span class="hljs-comment"># 1. å®šä½ Canvas å…ƒç´ æœ¬èº«</span><br><span class="hljs-comment"># canvas = driver.find_element(By.ID, &quot;myCanvas&quot;) </span><br><span class="hljs-comment"># ä¸ºäº†æ¼”ç¤ºä»£ç ä¸æŠ¥é”™ï¼Œæˆ‘ç”¨ body ä»£æ›¿ canvas æ¼”ç¤ºåŠ¨ä½œ</span><br>canvas = driver.find_element(By.TAG_NAME, <span class="hljs-string">&quot;body&quot;</span>)<br><br><span class="hljs-comment"># 2. å®šä¹‰è£å‰ªçš„åŠ¨ä½œ</span><br><span class="hljs-comment"># å‡è®¾ï¼šè£å‰ªæ¡†çš„èµ·å§‹ç‚¹åœ¨ç”»å¸ƒ (100, 100) çš„ä½ç½®</span><br><span class="hljs-comment"># å‡è®¾ï¼šæˆ‘ä»¬è¦å‘å³ä¸‹è§’æ‹–æ‹½ï¼Œå®½ 200ï¼Œé«˜ 150</span><br><br>action = ActionChains(driver)<br><br><span class="hljs-comment"># æ­¥éª¤åˆ†è§£ï¼š</span><br><span class="hljs-comment"># A. ç§»åŠ¨é¼ æ ‡åˆ°ç”»å¸ƒçš„ (100, 100) ä½ç½®</span><br><span class="hljs-comment"># æ³¨æ„ï¼šmove_to_element_with_offset æ˜¯ç›¸å¯¹äºå…ƒç´ çš„å·¦ä¸Šè§’</span><br>action.move_to_element_with_offset(canvas, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)<br><br><span class="hljs-comment"># B. æŒ‰ä¸‹é¼ æ ‡å·¦é”® (ä¸æ¾å¼€)</span><br>action.click_and_hold()<br><br><span class="hljs-comment"># C. æ‹–æ‹½é¼ æ ‡ (ç›¸å¯¹ç§»åŠ¨)</span><br><span class="hljs-comment"># å‘å³ç§»åŠ¨ 200pxï¼Œå‘ä¸‹ç§»åŠ¨ 150px</span><br>action.move_by_offset(<span class="hljs-number">200</span>, <span class="hljs-number">150</span>)<br><br><span class="hljs-comment"># D. æ¾å¼€é¼ æ ‡</span><br>action.release()<br><br><span class="hljs-comment"># E. æ‰§è¡Œï¼</span><br>action.perform()<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å·²å®Œæˆ Canvas ä¸Šçš„æ‹–æ‹½æ“ä½œ&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="2-JavaScript-æ‰§è¡Œæ–¹æ³•"><a href="#2-JavaScript-æ‰§è¡Œæ–¹æ³•" class="headerlink" title="2. JavaScript æ‰§è¡Œæ–¹æ³•"></a>2. <strong>JavaScript æ‰§è¡Œæ–¹æ³•</strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># è·å–åƒç´ æ•°æ®</span><br>script = <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">var canvas = arguments[0];</span><br><span class="hljs-string">var ctx = canvas.getContext(&#x27;2d&#x27;);</span><br><span class="hljs-string">var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);</span><br><span class="hljs-string">return Array.from(imageData.data);</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>pixel_data = driver.execute_script(script, canvas)<br><br><span class="hljs-comment"># åœ¨ Canvas ä¸Šç»˜åˆ¶</span><br>draw_script = <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">var canvas = arguments[0];</span><br><span class="hljs-string">var ctx = canvas.getContext(&#x27;2d&#x27;);</span><br><span class="hljs-string">ctx.fillStyle = &#x27;red&#x27;;</span><br><span class="hljs-string">ctx.fillRect(10, 10, 50, 50);</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>driver.execute_script(draw_script, canvas)<br></code></pre></td></tr></table></figure><hr><h1 id="å¯Œæ–‡æœ¬ç¼–è¾‘å™¨"><a href="#å¯Œæ–‡æœ¬ç¼–è¾‘å™¨" class="headerlink" title="å¯Œæ–‡æœ¬ç¼–è¾‘å™¨"></a>å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</h1>]]></content>
    
    
    <categories>
      
      <category>Testing</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Webè‡ªåŠ¨åŒ–æµ‹è¯•</tag>
      
      <tag>selenium</tag>
      
      <tag>python</tag>
      
      <tag>java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pythonè¿›é˜¶</title>
    <link href="/2025/12/10/Python%E8%BF%9B%E9%98%B6/"/>
    <url>/2025/12/10/Python%E8%BF%9B%E9%98%B6/</url>
    
    <content type="html"><![CDATA[<h1 id="é¢å‘å¯¹è±¡"><a href="#é¢å‘å¯¹è±¡" class="headerlink" title="é¢å‘å¯¹è±¡"></a>é¢å‘å¯¹è±¡</h1><h2 id="å…¥é—¨æ¡ˆä¾‹"><a href="#å…¥é—¨æ¡ˆä¾‹" class="headerlink" title="å…¥é—¨æ¡ˆä¾‹"></a>å…¥é—¨æ¡ˆä¾‹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">æ¡ˆä¾‹: æ¼”ç¤ºå®šä¹‰æ±½è½¦ç±» åŠ  ä½¿ç”¨ç±»ä¸­çš„æˆå‘˜.</span><br><span class="hljs-string"></span><br><span class="hljs-string">é¢å‘å¯¹è±¡æ ¸å¿ƒæ¦‚å¿µ:</span><br><span class="hljs-string">    ç±»: æŠ½è±¡çš„æ¦‚å¿µ, çœ‹ä¸è§, æ‘¸ä¸ç€, æ˜¯ å±æ€§(åè¯) å’Œ è¡Œä¸º(åŠ¨è¯)çš„é›†åˆ.</span><br><span class="hljs-string">    å¯¹è±¡: ç±»çš„å…·ä½“ä½“ç°, å®ç°.</span><br><span class="hljs-string">    å±æ€§(åè¯): ç”¨æ¥æè¿°äº‹ç‰©çš„å¤–åœ¨ç‰¹å¾çš„, ä¾‹å¦‚: å§“å, å¹´é¾„...</span><br><span class="hljs-string">        æ ¼å¼: å’Œä»¥å‰å®šä¹‰å˜é‡ä¸€æ ·.</span><br><span class="hljs-string">    è¡Œä¸º(åŠ¨è¯): ç”¨æ¥æè¿°äº‹ç‰©èƒ½å¤Ÿåšä»€ä¹ˆçš„, ä¾‹å¦‚: åƒ, å–...</span><br><span class="hljs-string">        æ ¼å¼: å’Œä»¥å‰å®šä¹‰å‡½æ•°ä¸€æ ·.</span><br><span class="hljs-string"></span><br><span class="hljs-string">å®šä¹‰ç±»çš„æ ¼å¼:</span><br><span class="hljs-string">    class ç±»å:</span><br><span class="hljs-string">        # å±æ€§</span><br><span class="hljs-string">        # è¡Œä¸º</span><br><span class="hljs-string"></span><br><span class="hljs-string">å¦‚ä½•è®¿é—®ç±»ä¸­çš„æˆå‘˜?</span><br><span class="hljs-string">    step1: åˆ›å»ºè¯¥ç±»çš„å¯¹è±¡.</span><br><span class="hljs-string">        å¯¹è±¡å = ç±»å()</span><br><span class="hljs-string">    step2: é€šè¿‡ å¯¹è±¡å. çš„æ–¹å¼è°ƒç”¨.</span><br><span class="hljs-string">        å¯¹è±¡æ€§.å±æ€§å</span><br><span class="hljs-string">        å¯¹è±¡å.è¡Œä¸ºå()</span><br><span class="hljs-string"></span><br><span class="hljs-string">éœ€æ±‚: å®šä¹‰æ±½è½¦ç±», æœ‰è·‘çš„è¡Œä¸º.</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><br><span class="hljs-comment"># 1.å®šä¹‰æ±½è½¦ç±».</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Car</span>:      <span class="hljs-comment"># ç±»åéµå¾ª å¤§é©¼å³°å‘½åæ³•.</span><br>    <span class="hljs-comment"># å±æ€§</span><br><br>    <span class="hljs-comment"># è¡Œä¸º</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;æ±½è½¦ä¼šè·‘!...&#x27;</span>)<br><br><br><span class="hljs-comment"># 2.åˆ›å»ºæ±½è½¦ç±»çš„å¯¹è±¡.</span><br>c1 = Car()<br><br><span class="hljs-comment"># 3. è°ƒç”¨Carç±»çš„run()å‡½æ•°, ç®€å†™ç‰ˆ: è°ƒç”¨Car#run()</span><br>c1.run()<br></code></pre></td></tr></table></figure><hr><h2 id="selfå…³é”®å­—"><a href="#selfå…³é”®å­—" class="headerlink" title="selfå…³é”®å­—"></a>selfå…³é”®å­—</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">æ¡ˆä¾‹: selfå…³é”®å­—ä»‹ç».</span><br><span class="hljs-string"></span><br><span class="hljs-string">selfä»‹ç»:</span><br><span class="hljs-string">    æ¦‚è¿°:</span><br><span class="hljs-string">        å®ƒæ˜¯Pythonå†…ç½®çš„å…³é”®å­—, ç”¨äºè¡¨ç¤º æœ¬ç±»å½“å‰å¯¹è±¡çš„å¼•ç”¨.</span><br><span class="hljs-string">    ä½œç”¨:</span><br><span class="hljs-string">        1ä¸ªç±»æ˜¯å¯ä»¥æœ‰å¤šä¸ªå¯¹è±¡çš„, è¿™å¤šä¸ªå¯¹è±¡éƒ½å¯ä»¥é€šè¿‡ å¯¹è±¡å. çš„æ–¹å¼è®¿é—®ç±»ä¸­çš„è¡Œä¸º(å‡½æ•°)</span><br><span class="hljs-string">        å‡½æ•°é»˜è®¤æœ‰selfå±æ€§, å‡½æ•°é€šè¿‡selfæ¥åŒºåˆ†åˆ°åº•æ˜¯å“ªä¸ªå¯¹è±¡è°ƒç”¨çš„è¯¥å‡½æ•°.</span><br><span class="hljs-string">    å¤§ç™½è¯:</span><br><span class="hljs-string">        è°è°ƒç”¨å‡½æ•°, selfå°±ä»£è¡¨å“ªä¸ªå¯¹è±¡.</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-comment"># éœ€æ±‚: å®šä¹‰æ±½è½¦ç±», åˆ›å»ºå¤šä¸ªè¯¥ç±»çš„å¯¹è±¡, çœ‹çœ‹æ‰“å°ç»“æœ.</span><br><span class="hljs-comment"># 1. å®šä¹‰æ±½è½¦ç±».</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Car</span>:<br>    <span class="hljs-comment"># å±æ€§</span><br><br>    <span class="hljs-comment"># è¡Œä¸º, è·‘</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;æ±½è½¦ä¼šè·‘!...&#x27;</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;æˆ‘æ˜¯runå‡½æ•°, selfçš„å€¼æ˜¯: <span class="hljs-subst">&#123;self&#125;</span>&#x27;</span>)<br><br><br><span class="hljs-comment"># 2.åˆ›å»ºæ±½è½¦ç±»çš„å¯¹è±¡.</span><br>c1 = Car()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;c1å¯¹è±¡: <span class="hljs-subst">&#123;c1&#125;</span>&#x27;</span>)<br><span class="hljs-comment"># é€šè¿‡ å¯¹è±¡å. çš„å½¢å¼, è°ƒç”¨Car#run()</span><br>c1.run()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;-&#x27;</span> * <span class="hljs-number">34</span>)<br><br><span class="hljs-comment"># 3.ç»§ç»­åˆ›å»ºæ±½è½¦ç±»çš„å¯¹è±¡.</span><br>c2 = Car()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;c2å¯¹è±¡: <span class="hljs-subst">&#123;c2&#125;</span>&#x27;</span>)<br><span class="hljs-comment"># é€šè¿‡ å¯¹è±¡å. çš„å½¢å¼, è°ƒç”¨Car#run()</span><br>c2.run()<br></code></pre></td></tr></table></figure><hr><img src="/2025/12/10/Python%E8%BF%9B%E9%98%B6/self.png" class="" title="self"><p>è¿™å¼ å›¾éå¸¸ç”ŸåŠ¨åœ°å±•ç¤ºäº† <strong>Python é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰ä¸­çš„å†…å­˜ç®¡ç†æœºåˆ¶</strong>ï¼Œç‰¹åˆ«æ˜¯<strong>å¯¹è±¡ï¼ˆObjectï¼‰ä¸å¼•ç”¨ï¼ˆReferenceï¼‰çš„å…³ç³»ï¼Œä»¥åŠå®ä¾‹å±æ€§</strong>æ˜¯å¦‚ä½•å­˜å‚¨çš„ã€‚</p><p>è¿™å¼ å›¾ä¸»è¦åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š<strong>ä»£ç åŒºï¼ˆå·¦ä¾§ï¼‰</strong>ã€<strong>å†…å­˜ç»“æ„ç¤ºæ„å›¾ï¼ˆå³ä¾§ï¼ŒåŒ…å«æ ˆã€å †ã€æ–¹æ³•åŒºï¼‰</strong>ã€‚</p><p>æˆ‘å°†ä¸ºä½ è¯¦ç»†æ‹†è§£è¿™å¼ å›¾èƒŒåçš„é€»è¾‘ï¼š</p><h3 id="1-æ ¸å¿ƒæ¦‚å¿µï¼šå†…å­˜çš„ä¸‰å¤§åŒºåŸŸ"><a href="#1-æ ¸å¿ƒæ¦‚å¿µï¼šå†…å­˜çš„ä¸‰å¤§åŒºåŸŸ" class="headerlink" title="1. æ ¸å¿ƒæ¦‚å¿µï¼šå†…å­˜çš„ä¸‰å¤§åŒºåŸŸ"></a>1. æ ¸å¿ƒæ¦‚å¿µï¼šå†…å­˜çš„ä¸‰å¤§åŒºåŸŸ</h3><ul><li><strong>æ ˆ (Stack)</strong>ï¼š<ul><li>å›¾ä¸­çš„å·¦ä¾§ç«–æ¡ã€‚</li><li><strong>ä½œç”¨</strong>ï¼šå­˜å‚¨å±€éƒ¨å˜é‡ï¼ˆå³å˜é‡åï¼‰ã€‚åœ¨è¿™é‡Œå­˜å‚¨çš„æ˜¯ <code>c1</code> å’Œ <code>c2</code>ã€‚</li><li><strong>æœ¬è´¨</strong>ï¼šå®ƒä»¬åªæ˜¯**å¼•ç”¨ï¼ˆReferenceï¼‰**æˆ–è€…è¯´æ˜¯â€œæ ‡ç­¾â€ï¼Œå®ƒä»¬æœ¬èº«ä¸å­˜æ•°æ®ï¼Œè€Œæ˜¯æŒ‡å‘å †å†…å­˜ä¸­çš„å…·ä½“åœ°å€ï¼ˆå¦‚ <code>0x01</code> å’Œ <code>0x02</code>ï¼‰ã€‚</li></ul></li><li><strong>å † (Heap)</strong>ï¼š<ul><li>å›¾ä¸­çš„å³ä¾§è“è‰²å¤§æ¡†ã€‚</li><li><strong>ä½œç”¨</strong>ï¼šå­˜å‚¨çœŸæ­£çš„<strong>å¯¹è±¡å®ä¾‹</strong>ã€‚</li><li><strong>å†…å®¹</strong>ï¼šè¿™é‡Œæœ‰ä¸¤ä¸ª <code>Car()</code> å¯¹è±¡ã€‚æ¯ä¸ªå¯¹è±¡éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼ˆåœ°å€ <code>0x01</code> å’Œ <code>0x02</code>ï¼‰ã€‚å¯¹è±¡å†…éƒ¨å­˜å‚¨è¯¥å¯¹è±¡çš„å…·ä½“æ•°æ®ï¼ˆå±æ€§ï¼‰ã€‚</li></ul></li><li><strong>æ–¹æ³•åŒº (Method Area)</strong>ï¼š<ul><li>å›¾ä¸­çš„å³ä¸‹è§’çº¢è‰²æ¡†ã€‚</li><li><strong>ä½œç”¨</strong>ï¼šå­˜å‚¨ç±»çš„å®šä¹‰å’Œæ–¹æ³•çš„ä»£ç ã€‚</li><li><strong>å…³é”®ç‚¹</strong>ï¼š<code>run(self)</code> è¿™ä¸ªæ–¹æ³•åªæœ‰ä¸€ä»½ä»£ç ï¼ˆåœ°å€ <code>0x03</code>ï¼‰ã€‚æ— è®ºä½ åˆ›å»ºå¤šå°‘ä¸ª <code>Car</code> å¯¹è±¡ï¼Œå®ƒä»¬è°ƒç”¨çš„ <code>run</code> æ–¹æ³•éƒ½æ˜¯åŒä¸€ä¸ªï¼Œä¸éœ€è¦ä¸ºæ¯ä¸ªå¯¹è±¡å¤åˆ¶ä¸€ä»½ä»£ç ã€‚</li></ul></li></ul><h3 id="2-ä»£ç æ‰§è¡Œæµç¨‹ä¸å†…å­˜å˜åŒ–"><a href="#2-ä»£ç æ‰§è¡Œæµç¨‹ä¸å†…å­˜å˜åŒ–" class="headerlink" title="2. ä»£ç æ‰§è¡Œæµç¨‹ä¸å†…å­˜å˜åŒ–"></a>2. ä»£ç æ‰§è¡Œæµç¨‹ä¸å†…å­˜å˜åŒ–</h3><p>è®©æˆ‘ä»¬è·Ÿéšå·¦ä¾§çš„ä»£ç ï¼Œçœ‹çœ‹å†…å­˜é‡Œå‘ç”Ÿäº†ä»€ä¹ˆï¼š</p><h4 id="ç¬¬ä¸€æ­¥ï¼šåˆ›å»º-c1-å¯¹è±¡"><a href="#ç¬¬ä¸€æ­¥ï¼šåˆ›å»º-c1-å¯¹è±¡" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šåˆ›å»º c1 å¯¹è±¡"></a>ç¬¬ä¸€æ­¥ï¼šåˆ›å»º c1 å¯¹è±¡</h4><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf"><span class="hljs-attribute">c1</span> <span class="hljs-operator">=</span> Car()<br></code></pre></td></tr></table></figure><ul><li><strong>å†…å­˜åŠ¨ä½œ</strong>ï¼š<ol><li>åœ¨<strong>å †</strong>ä¸­å¼€è¾Ÿä¸€å—ç©ºé—´ï¼ˆå‡è®¾åœ°å€ <code>0x01</code>ï¼‰ç”Ÿæˆä¸€ä¸ª <code>Car</code> å¯¹è±¡ã€‚</li><li>åœ¨<strong>æ ˆ</strong>ä¸­åˆ›å»ºä¸€ä¸ªå˜é‡ <code>c1</code>ã€‚</li><li>å°† <code>c1</code> æŒ‡å‘ <code>0x01</code>ï¼ˆå›¾ä¸­ç»¿è‰²çš„ç®­å¤´ï¼‰ã€‚</li></ol></li><li>æ­¤æ—¶ï¼Œ<code>c1</code> å¯¹è±¡å†…éƒ¨åŒ…å«ä¸€ä¸ªæŒ‡å‘æ–¹æ³•åŒºçš„æŒ‡é’ˆ <code>0x03</code>ï¼Œä»¥ä¾¿èƒ½è°ƒç”¨ <code>run()</code> æ–¹æ³•ã€‚</li></ul><h4 id="ç¬¬äºŒæ­¥ï¼šç»™-c1-æ·»åŠ å±æ€§ï¼ˆåŠ¨æ€å±æ€§ï¼‰"><a href="#ç¬¬äºŒæ­¥ï¼šç»™-c1-æ·»åŠ å±æ€§ï¼ˆåŠ¨æ€å±æ€§ï¼‰" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šç»™ c1 æ·»åŠ å±æ€§ï¼ˆåŠ¨æ€å±æ€§ï¼‰"></a>ç¬¬äºŒæ­¥ï¼šç»™ c1 æ·»åŠ å±æ€§ï¼ˆåŠ¨æ€å±æ€§ï¼‰</h4><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">c1.color</span> = <span class="hljs-string">&#x27;çº¢è‰²&#x27;</span><br><span class="hljs-attr">c1.number</span> = <span class="hljs-number">4</span><br></code></pre></td></tr></table></figure><ul><li><strong>å†…å­˜åŠ¨ä½œ</strong>ï¼š<ul><li>Python æ˜¯åŠ¨æ€è¯­è¨€ï¼Œå…è®¸åœ¨å¯¹è±¡åˆ›å»ºåéšæ„æ·»åŠ å±æ€§ã€‚</li><li>å›¾ä¸­çš„ <code>c1</code> å¯¹è±¡ï¼ˆ<code>0x01</code> ç›’å­ï¼‰é‡Œï¼Œç°åœ¨å¤šäº†ä¸¤è¡Œæ•°æ®ï¼š<code>color=&#39;çº¢è‰²&#39;</code> å’Œ <code>number=4</code>ã€‚</li><li><strong>æ³¨æ„</strong>ï¼šè¿™äº›æ•°æ®æ˜¯<strong>ç‹¬å±äº</strong> <code>c1</code> è¿™ä¸ªå¯¹è±¡çš„ã€‚</li></ul></li></ul><h4 id="ç¬¬ä¸‰æ­¥ï¼šåˆ›å»º-c2-å¯¹è±¡"><a href="#ç¬¬ä¸‰æ­¥ï¼šåˆ›å»º-c2-å¯¹è±¡" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šåˆ›å»º c2 å¯¹è±¡"></a>ç¬¬ä¸‰æ­¥ï¼šåˆ›å»º c2 å¯¹è±¡</h4><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf"><span class="hljs-attribute">c2</span> <span class="hljs-operator">=</span> Car()<br></code></pre></td></tr></table></figure><ul><li><strong>å†…å­˜åŠ¨ä½œ</strong>ï¼š<ol><li>åœ¨<strong>å †</strong>ä¸­å¼€è¾Ÿä¸€å—<strong>æ–°çš„</strong>ç©ºé—´ï¼ˆåœ°å€ <code>0x02</code>ï¼‰ã€‚</li><li>åœ¨<strong>æ ˆ</strong>ä¸­åˆ›å»ºå˜é‡ <code>c2</code>ã€‚</li><li>å°† <code>c2</code> æŒ‡å‘ <code>0x02</code>ï¼ˆå›¾ä¸­æ·±çº¢è‰²çš„ç®­å¤´ï¼‰ã€‚</li></ol></li><li><strong>å…³é”®åŒºåˆ«</strong>ï¼š<code>c2</code> æ˜¯ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ã€‚è™½ç„¶å®ƒä¹Ÿæ˜¯ <code>Car</code>ï¼Œä½†å› ä¸ºå®ƒåˆšå‡ºç”Ÿï¼Œè¿˜æ²¡æœ‰äººç»™å®ƒèµ‹å€¼ <code>color</code> å’Œ <code>number</code>ï¼Œæ‰€ä»¥å›¾ä¸­çš„ <code>c2</code> ç›’å­ï¼ˆ<code>0x02</code>ï¼‰é‡Œæ˜¯<strong>ç©ºçš„</strong>ï¼ˆåªæœ‰æŒ‡å‘æ–¹æ³•çš„ <code>0x03</code>ï¼‰ã€‚</li></ul><h4 id="ç¬¬å››æ­¥ï¼šä»£ç ä¸­çš„æ³¨é‡Šç»†èŠ‚-ç»†èŠ‚-3"><a href="#ç¬¬å››æ­¥ï¼šä»£ç ä¸­çš„æ³¨é‡Šç»†èŠ‚-ç»†èŠ‚-3" class="headerlink" title="ç¬¬å››æ­¥ï¼šä»£ç ä¸­çš„æ³¨é‡Šç»†èŠ‚ (ç»†èŠ‚ 3)"></a>ç¬¬å››æ­¥ï¼šä»£ç ä¸­çš„æ³¨é‡Šç»†èŠ‚ (ç»†èŠ‚ 3)</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash"><span class="hljs-built_in">print</span>(f<span class="hljs-string">&#x27;é¢œè‰²: &#123;c2.color&#125;...&#x27;</span>)</span><br></code></pre></td></tr></table></figure><ul><li>è¿™è¡Œä»£ç è¢«æ³¨é‡Šæ‰äº†ï¼Œå› ä¸ºå¦‚æœè¿è¡Œå®ƒä¼š<strong>æŠ¥é”™</strong>ï¼ˆAttributeErrorï¼‰ã€‚</li><li><strong>åŸå› </strong>ï¼šçœ‹å †å†…å­˜å›¾å°±å¾ˆæ¸…æ¥šï¼Œ<code>c2</code> æŒ‡å‘çš„ <code>0x02</code> ç›’å­é‡Œå¹¶æ²¡æœ‰ <code>color</code> å’Œ <code>number</code> æ•°æ®ã€‚å±æ€§ä¸ä¼šè‡ªåŠ¨ä» <code>c1</code> ä¼ æŸ“ç»™ <code>c2</code>ã€‚</li></ul><h3 id="3-å›¾è§£æ€»ç»“-Key-Takeaways"><a href="#3-å›¾è§£æ€»ç»“-Key-Takeaways" class="headerlink" title="3. å›¾è§£æ€»ç»“ (Key Takeaways)"></a>3. å›¾è§£æ€»ç»“ (Key Takeaways)</h3><ol><li><strong>åŒç±»ä¸åŒå‘½</strong>ï¼š<code>c1</code> å’Œ <code>c2</code> è™½ç„¶éƒ½æ˜¯ <code>Car</code> ç±»é€ å‡ºæ¥çš„ï¼Œä½†å®ƒä»¬æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„ä¸ªä½“ã€‚ä¿®æ”¹ <code>c1</code> çš„å±æ€§ä¸ä¼šå½±å“ <code>c2</code>ã€‚</li><li><strong>æ–¹æ³•å…±äº«ï¼Œæ•°æ®ç‹¬äº«</strong>ï¼š<ul><li><strong>æ•°æ®ï¼ˆå±æ€§ï¼‰</strong>ï¼šå­˜åœ¨<strong>å †</strong>é‡Œå„è‡ªçš„å¯¹è±¡ä¸­ï¼ˆ<code>c1</code> æœ‰é¢œè‰²ï¼Œ<code>c2</code> æ²¡æœ‰ï¼‰ã€‚</li><li><strong>è¡Œä¸ºï¼ˆæ–¹æ³•ï¼‰</strong>ï¼šå­˜åœ¨<strong>æ–¹æ³•åŒº</strong>é‡Œï¼Œå¤§å®¶å…±ç”¨åŒä¸€ä¸ªï¼ˆåœ°å€ <code>0x03</code>ï¼‰ã€‚</li></ul></li><li><strong>å¼•ç”¨ä¼ é€’</strong>ï¼šå˜é‡åï¼ˆ<code>c1</code>ï¼‰åªæ˜¯ä¸€ä¸ªé¥æ§å™¨ï¼Œå®ƒé€šè¿‡å†…å­˜åœ°å€æ§åˆ¶çœŸæ­£çš„å¯¹è±¡ã€‚</li></ol><hr><p>**é—®ï¼š**å¦‚æœæ¯ä¸ªå¯¹è±¡è°ƒç”¨çš„æ–¹æ³•éƒ½æŒ‡å‘åŒä¸€ä¸ªåœ°å€ï¼Œé‚£å‡å¦‚è¿™ä¸ªæ–¹æ³•ä¸­æœ‰ä¿®æ”¹å¯¹è±¡å±æ€§çš„é€»è¾‘ï¼Œé‚£å²‚ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡è°ƒç”¨ä¹‹åï¼Œåˆ«çš„å¯¹è±¡çš„å±æ€§ä¹Ÿè¢«ä¿®æ”¹äº†ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯ï¼š<strong>å®Œå…¨ä¸ä¼šã€‚</strong></p><p>å…¶ä¸­çš„å…³é”®å°±åœ¨äº Python æ–¹æ³•ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•° â€”â€” <strong><code>self</code></strong>ã€‚</p><p>è™½ç„¶ä»£ç ï¼ˆæŒ‡ä»¤ï¼‰åªæœ‰ä¸€ä»½ï¼Œå­˜åœ¨æ–¹æ³•åŒºé‡Œï¼ˆæ¯”å¦‚åœ°å€ <code>0x03</code>ï¼‰ï¼Œä½†<strong>æ‰§è¡Œè¿™ä»½ä»£ç æ—¶æ“ä½œçš„æ•°æ®å¯¹è±¡</strong>æ˜¯ä¸åŒçš„ã€‚</p><h3 id="æ ¸å¿ƒæœºåˆ¶ï¼šself-å°±æ˜¯é‚£ä¸ªâ€œå®šä½å™¨â€"><a href="#æ ¸å¿ƒæœºåˆ¶ï¼šself-å°±æ˜¯é‚£ä¸ªâ€œå®šä½å™¨â€" class="headerlink" title="æ ¸å¿ƒæœºåˆ¶ï¼šself å°±æ˜¯é‚£ä¸ªâ€œå®šä½å™¨â€"></a>æ ¸å¿ƒæœºåˆ¶ï¼š<code>self</code> å°±æ˜¯é‚£ä¸ªâ€œå®šä½å™¨â€</h3><p>ä½ å¯ä»¥æŠŠæ–¹æ³•åŒºé‡Œçš„ä»£ç çœ‹ä½œæ˜¯ä¸€æœ¬**â€œå…¬ç”¨æ“ä½œæ‰‹å†Œâ€**ã€‚</p><p>å‡å¦‚ <code>run</code> æ–¹æ³•é‡Œæœ‰ä¸€å¥ä»£ç æ˜¯ä¿®æ”¹é¢œè‰²çš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">self</span>):<br>    <span class="hljs-variable language_">self</span>.color = <span class="hljs-string">&#x27;é»‘è‰²&#x27;</span>  <span class="hljs-comment"># ä¿®æ”¹å±æ€§</span><br></code></pre></td></tr></table></figure><p>å½“ä½ è°ƒç”¨æ–¹æ³•æ—¶ï¼ŒPython åœ¨åå°åšäº†ä¸€ä¸ª**â€œéšå¼ä¼ é€’â€**çš„æ“ä½œï¼š</p><h4 id="1-å½“-c1-è°ƒç”¨æ—¶"><a href="#1-å½“-c1-è°ƒç”¨æ—¶" class="headerlink" title="1. å½“ c1 è°ƒç”¨æ—¶"></a>1. å½“ <code>c1</code> è°ƒç”¨æ—¶</h4><p>ä½ å†™çš„æ˜¯ï¼šc1.run()</p><p>Python å®é™…æ‰§è¡Œçš„æ˜¯ï¼šCar.run(c1)  &lt;â€“ çœ‹è¿™é‡Œï¼</p><ul><li>å®ƒæŠŠ <code>c1</code> çš„åœ°å€ï¼ˆ<code>0x01</code>ï¼‰ä¼ ç»™äº† <code>self</code>ã€‚</li><li>æ–¹æ³•é‡Œçš„ä»£ç  <code>self.color = &#39;é»‘è‰²&#39;</code> å°±å˜æˆäº† <code>c1.color = &#39;é»‘è‰²&#39;</code>ã€‚</li><li>äºæ˜¯ï¼Œåªæœ‰ <strong>å †å†…å­˜ä¸­ 0x01 å·ç›’å­</strong> é‡Œçš„ <code>color</code> å˜æˆäº†é»‘è‰²ã€‚</li></ul><h4 id="2-å½“-c2-è°ƒç”¨æ—¶"><a href="#2-å½“-c2-è°ƒç”¨æ—¶" class="headerlink" title="2. å½“ c2 è°ƒç”¨æ—¶"></a>2. å½“ <code>c2</code> è°ƒç”¨æ—¶</h4><p>ä½ å†™çš„æ˜¯ï¼šc2.run()</p><p>Python å®é™…æ‰§è¡Œçš„æ˜¯ï¼šCar.run(c2)</p><ul><li>è¿™æ¬¡å®ƒæŠŠ <code>c2</code> çš„åœ°å€ï¼ˆ<code>0x02</code>ï¼‰ä¼ ç»™äº† <code>self</code>ã€‚</li><li>æ–¹æ³•é‡Œçš„ä»£ç  <code>self.color = &#39;é»‘è‰²&#39;</code> å°±å˜æˆäº† <code>c2.color = &#39;é»‘è‰²&#39;</code>ã€‚</li><li>äºæ˜¯ï¼Œæ˜¯ <strong>å †å†…å­˜ä¸­ 0x02 å·ç›’å­</strong> é‡Œçš„æ•°æ®è¢«ä¿®æ”¹äº†ã€‚</li></ul><hr><h2 id="é­”æœ¯æ–¹æ³•init"><a href="#é­”æœ¯æ–¹æ³•init" class="headerlink" title="é­”æœ¯æ–¹æ³•init"></a>é­”æœ¯æ–¹æ³•init</h2><p><strong>init</strong>()é­”æ³•æ–¹æ³•, åœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™, ä¼šè¢«è‡ªåŠ¨è°ƒç”¨, ä¸€èˆ¬ç”¨äºç»™è¯¥ç±»å¯¹è±¡ çš„å±æ€§è¿›è¡Œåˆå§‹åŒ–.</p><p>æ— å‚ç‰ˆ init -&gt;  é»˜è®¤ä¸Šçš„æœ‰åº•è‰², ä½ éœ€è¦é‡æ–°æ¶‚è‰²(è¦†ç›–åº•è‰²)<br>æœ‰å‚ç‰ˆ init -&gt;  é»˜è®¤æ²¡æœ‰æ¶‚è‰²çš„çŸ³è†å¨ƒå¨ƒ, æˆ‘ä»¬æ ¹æ®å–œå¥½è‡ªç”±æ¶‚è‰²å³å¯.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Car</span>:<br>    <span class="hljs-comment"># åˆå§‹åŒ–æ—¶ä¸éœ€è¦å‚æ•°</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-variable language_">self</span>.color = <span class="hljs-string">&#x27;é»‘è‰²&#x27;</span>  <span class="hljs-comment"># ã€å‡ºå‚è®¾ç½®ã€‘å…ˆå†™å…¥é»˜è®¤å€¼</span><br>        <span class="hljs-variable language_">self</span>.number = <span class="hljs-number">3</span>      <span class="hljs-comment"># ã€å‡ºå‚è®¾ç½®ã€‘å…ˆå†™å…¥é»˜è®¤å€¼</span><br><br><span class="hljs-comment"># æƒ…å†µ Aï¼šc2 (ä¿ç•™é»˜è®¤)</span><br>c2 = Car()<br><span class="hljs-comment"># æ­¤æ—¶å†…å­˜é‡Œæ˜¯ï¼šé»‘è‰², 3</span><br><br><span class="hljs-comment"># æƒ…å†µ Bï¼šc1 (åæœŸæ”¹è£…)</span><br>c1 = Car()          <br><span class="hljs-comment"># 1. æ­¤æ—¶å†…å­˜é‡Œä¹Ÿæ˜¯ï¼šé»‘è‰², 3</span><br>c1.color = <span class="hljs-string">&#x27;çº¢è‰²&#x27;</span>   <br><span class="hljs-comment"># 2. ã€è¦†ç›–åŠ¨ä½œã€‘ï¼šæ‰¾åˆ°å†…å­˜é‡Œçš„&#x27;é»‘è‰²&#x27;ï¼ŒæŠŠå®ƒæ“¦æ‰ï¼Œæ¢æˆ&#x27;çº¢è‰²&#x27;</span><br>c1.number = <span class="hljs-number">6</span>       <br><span class="hljs-comment"># 3. ã€è¦†ç›–åŠ¨ä½œã€‘ï¼šæ‰¾åˆ°å†…å­˜é‡Œçš„3ï¼ŒæŠŠå®ƒæ“¦æ‰ï¼Œæ¢æˆ6</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;c2: <span class="hljs-subst">&#123;c2.color&#125;</span>, <span class="hljs-subst">&#123;c2.number&#125;</span>&quot;</span>) <span class="hljs-comment"># è¾“å‡ºï¼šé»‘è‰², 3</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;c1: <span class="hljs-subst">&#123;c1.color&#125;</span>, <span class="hljs-subst">&#123;c1.number&#125;</span>&quot;</span>) <span class="hljs-comment"># è¾“å‡ºï¼šçº¢è‰², 6</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Car</span>:<br>    <span class="hljs-comment"># åˆå§‹åŒ–æ—¶ï¼Œå¼ºåˆ¶è¦æ±‚ä¼ å…¥é¢œè‰²å’Œæ•°é‡</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, color, number</span>):<br>        <span class="hljs-variable language_">self</span>.color = color    <span class="hljs-comment"># ç›´æ¥èµ‹å€¼ä¸ºä¼ å…¥çš„å‚æ•°</span><br>        <span class="hljs-variable language_">self</span>.number = number<br><br><span class="hljs-comment"># ã€å†…å­˜åŠ¨ä½œã€‘ï¼š</span><br><span class="hljs-comment"># åœ¨å †å†…å­˜åˆ›å»ºå¯¹è±¡æ—¶ï¼Œç›´æ¥å†™å…¥ &#x27;çº¢è‰²&#x27; å’Œ 6ã€‚</span><br><span class="hljs-comment"># ä¸éœ€è¦å…ˆå†™å…¥é»˜è®¤å€¼å†æ“¦é™¤ã€‚</span><br>c1 = Car(<span class="hljs-string">&#x27;çº¢è‰²&#x27;</span>, <span class="hljs-number">6</span>) <br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;c1: <span class="hljs-subst">&#123;c1.color&#125;</span>, <span class="hljs-subst">&#123;c1.number&#125;</span>&quot;</span>)<br><span class="hljs-comment"># è¾“å‡ºï¼šc1: çº¢è‰², 6</span><br></code></pre></td></tr></table></figure><hr><h2 id="é­”æœ¯æ–¹æ³•str"><a href="#é­”æœ¯æ–¹æ³•str" class="headerlink" title="é­”æœ¯æ–¹æ³•str"></a>é­”æœ¯æ–¹æ³•str</h2><p>å½“ç”¨print()å‡½æ•° æ‰“å°å¯¹è±¡çš„æ—¶å€™, ä¼šè‡ªåŠ¨è°ƒç”¨è¯¥å¯¹è±¡(æ‰€åœ¨ç±»)çš„ stré­”æ³•æ–¹æ³•.è¯¥é­”æ³•æ–¹æ³•é»˜è®¤æ‰“å°çš„æ˜¯å¯¹è±¡çš„åœ°å€å€¼, æ— æ„ä¹‰, ä¸€èˆ¬éƒ½ä¼šé‡å†™, æ”¹ä¸ºæ‰“å°å¯¹è±¡çš„å„ä¸ªå±æ€§å€¼.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Car</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, color</span>):<br>        <span class="hljs-variable language_">self</span>.color = color<br><br>c1 = Car(<span class="hljs-string">&quot;çº¢è‰²&quot;</span>)<br><span class="hljs-built_in">print</span>(c1) <br><span class="hljs-comment"># è¾“å‡ºç»“æœç±»ä¼¼ï¼š&lt;__main__.Car object at 0x000001&gt;  (çœ‹ä¸æ‡‚ï¼ŒåªçŸ¥é“æ˜¯ä¸ªCarå¯¹è±¡)</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Car</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, color, number</span>):<br>        <span class="hljs-variable language_">self</span>.color = color<br>        <span class="hljs-variable language_">self</span>.number = number<br><br>    <span class="hljs-comment"># å®šä¹‰å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç°å½¢å¼</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__str__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-comment"># å¿…é¡»è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;ã€è½¦è¾†ä¿¡æ¯ã€‘é¢œè‰²ï¼š<span class="hljs-subst">&#123;self.color&#125;</span>ï¼Œè½®èƒæ•°ï¼š<span class="hljs-subst">&#123;self.number&#125;</span>&quot;</span><br><br>c1 = Car(<span class="hljs-string">&quot;çº¢è‰²&quot;</span>, <span class="hljs-number">4</span>)<br><br><span class="hljs-comment"># æ­¤æ—¶ print å†…éƒ¨ä¼šè‡ªåŠ¨è°ƒç”¨ c1.__str__()</span><br><span class="hljs-built_in">print</span>(c1)<br><span class="hljs-comment"># è¾“å‡ºç»“æœï¼šã€è½¦è¾†ä¿¡æ¯ã€‘é¢œè‰²ï¼šçº¢è‰²ï¼Œè½®èƒæ•°ï¼š4</span><br></code></pre></td></tr></table></figure><hr><h2 id="é­”æœ¯æ–¹æ³•del"><a href="#é­”æœ¯æ–¹æ³•del" class="headerlink" title="é­”æœ¯æ–¹æ³•del"></a>é­”æœ¯æ–¹æ³•del</h2><p>å½“.pyæ–‡ä»¶æ‰§è¡Œç»“æŸ, æˆ–è€… æ‰‹åŠ¨ del é‡Šæ”¾å¯¹è±¡èµ„æº, ä¼šè‡ªåŠ¨è°ƒç”¨è¯¥å‡½æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Car</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name</span>):<br>        <span class="hljs-variable language_">self</span>.name = name<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ã€å‡ºç”Ÿã€‘<span class="hljs-subst">&#123;self.name&#125;</span> è¢«åˆ¶é€ å‡ºæ¥äº†ï¼&quot;</span>)<br><br>    <span class="hljs-comment"># å®šä¹‰å¯¹è±¡é”€æ¯æ—¶è¦æ‰§è¡Œçš„é€»è¾‘</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__del__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ã€æ¶ˆäº¡ã€‘<span class="hljs-subst">&#123;self.name&#125;</span> è¢«é”€æ¯äº†ï¼Œé€å»å›æ”¶ç«™ã€‚&quot;</span>)<br><br><span class="hljs-comment"># 1. åˆ›å»ºå¯¹è±¡</span><br>c1 = Car(<span class="hljs-string">&quot;å®é©¬&quot;</span>)<br><br><span class="hljs-comment"># 2. æ¨¡æ‹Ÿä¸€äº›æ“ä½œ</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;--- æ­£åœ¨å¼€è½¦ä¸­ ---&quot;</span>)<br>time.sleep(<span class="hljs-number">1</span>)<br><br><span class="hljs-comment"># 3. æ‰‹åŠ¨åˆ é™¤å¯¹è±¡ï¼ˆæˆ–è€…å½“ç¨‹åºè¿è¡Œç»“æŸæ—¶ï¼Œä¹Ÿä¼šè‡ªåŠ¨è§¦å‘ï¼‰</span><br><span class="hljs-keyword">del</span> c1 <br><span class="hljs-comment"># æ­¤æ—¶ï¼Œc1 çš„å¼•ç”¨è®¡æ•°å˜ä¸º0ï¼ŒPython è‡ªåŠ¨è°ƒç”¨ __del__ ã€æ¶ˆäº¡ã€‘å®é©¬ è¢«é”€æ¯äº†ï¼Œé€å»å›æ”¶ç«™ã€‚</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;--- ç¨‹åºç»“æŸ ---&quot;</span>)<br></code></pre></td></tr></table></figure><hr><h2 id="æ¨¡æ•°æ–¹æ³•lt-le-eq"><a href="#æ¨¡æ•°æ–¹æ³•lt-le-eq" class="headerlink" title="æ¨¡æ•°æ–¹æ³•lt&#x2F;le&#x2F;eq"></a>æ¨¡æ•°æ–¹æ³•lt&#x2F;le&#x2F;eq</h2><p>è¿™ä¸‰ä¸ªé­”æœ¯æ–¹æ³•è®©ä½ çš„å¯¹è±¡å¯ä»¥ä½¿ç”¨ <strong>æ¯”è¾ƒè¿ç®—ç¬¦</strong>ï¼ˆ<code>&lt;</code>, <code>&lt;=</code>, <code>==</code>ï¼‰è¿›è¡Œ PKã€‚å¦‚æœä¸å†™è¿™äº›æ–¹æ³•ï¼ŒPython ä¸çŸ¥é“æ€ä¹ˆæ¯”è¾ƒä¸¤ä¸ªè‡ªå®šä¹‰å¯¹è±¡</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, score</span>):<br>        <span class="hljs-variable language_">self</span>.score = score<br><br>    <span class="hljs-comment"># __lt__ å¯¹åº” &lt; (Less Than)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__lt__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.score &lt; other.score<br><br>    <span class="hljs-comment"># __le__ å¯¹åº” &lt;= (Less Than or Equal)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__le__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.score &lt;= other.score<br><br>    <span class="hljs-comment"># __eq__ å¯¹åº” == (Equal)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__eq__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.score == other.score<br><br><span class="hljs-comment"># åˆ›å»ºå­¦ç”Ÿå¯¹è±¡</span><br>s1 = Student(<span class="hljs-number">80</span>)<br>s2 = Student(<span class="hljs-number">90</span>)<br>s3 = Student(<span class="hljs-number">80</span>)<br><br><span class="hljs-comment"># Python ä¼šè‡ªåŠ¨è°ƒç”¨å¯¹åº”çš„æ–¹æ³•</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;s1 &lt; s2 : <span class="hljs-subst">&#123;s1 &lt; s2&#125;</span>&quot;</span>)   <span class="hljs-comment"># è°ƒç”¨ s1.__lt__(s2)ï¼Œ80 &lt; 90ï¼Œç»“æœ True</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;s1 &lt;= s3: <span class="hljs-subst">&#123;s1 &lt;= s3&#125;</span>&quot;</span>)  <span class="hljs-comment"># è°ƒç”¨ s1.__le__(s3)ï¼Œ80 &lt;= 80ï¼Œç»“æœ True</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;s1 == s3: <span class="hljs-subst">&#123;s1 == s3&#125;</span>&quot;</span>)  <span class="hljs-comment"># è°ƒç”¨ s1.__eq__(s3)ï¼Œ80 == 80ï¼Œç»“æœ True</span><br><br><span class="hljs-comment"># ç”šè‡³å¯ä»¥ç›´æ¥ç”¨åœ¨åˆ—è¡¨ä¸­æ’åºï¼ˆä¸»è¦ä¾èµ– __lt__ï¼‰</span><br>students = [s2, s1]<br>students.sort() <span class="hljs-comment"># æ­¤æ—¶ Python çŸ¥é“æŒ‰åˆ†æ•°æ’</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ç¬¬ä¸€ååˆ†æ•°: <span class="hljs-subst">&#123;students[-<span class="hljs-number">1</span>].score&#125;</span>&quot;</span>) <span class="hljs-comment"># 90</span><br></code></pre></td></tr></table></figure><hr><h2 id="ä¸‰å¤§ç‰¹æ€§"><a href="#ä¸‰å¤§ç‰¹æ€§" class="headerlink" title="ä¸‰å¤§ç‰¹æ€§"></a>ä¸‰å¤§ç‰¹æ€§</h2><p>æ˜¯ä¸€ç§ç¼–ç¨‹æ€æƒ³, å¼ºè°ƒçš„æ˜¯ä»¥ <strong>å¯¹è±¡</strong> ä¸ºåŸºç¡€å®Œæˆå„ç§æ“ä½œï¼Œå…¶ä¸‰å¤§ç‰¹æ€§ï¼š</p><ul><li>å°è£…ï¼šå¤§ç™½è¯ï¼šæŠŠå±æ€§å’Œæ–¹æ³•å°è£…åœ¨ä¸€èµ·ï¼Œä»…æä¾›å¯¹å¤–çš„æ–¹æ³•è®©åˆ«äººå»è®¿é—®ã€‚å¥½å¤„ï¼š ç®€åŒ–ç¼–ç¨‹</li><li>ç»§æ‰¿ï¼šå¤§ç™½è¯ï¼šå­©å­å¯ä½¿ç”¨è€çˆ¹çš„ä¸œè¥¿ã€‚å¥½å¤„ï¼šä»£ç å¤ç”¨</li><li>å¤šæ€ï¼šå¤§ç™½è¯ï¼šåŒæ ·ä¸€ä¸ªå‡½æ•°ï¼ˆæ¶ˆæ¯ï¼‰åœ¨ä¸åŒåœºæ™¯ä¸‹è¡¨ç°å‡ºä¸åŒå½¢æ€ã€‚ å¥½å¤„ï¼šè§£è€¦åˆï¼Œå¯æ‹“å±•</li></ul><h2 id="å°è£…"><a href="#å°è£…" class="headerlink" title="å°è£…"></a>å°è£…</h2><p><strong>å°è£… (Encapsulation)</strong> çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>æŠŠé‡è¦çš„æ•°æ®é”åœ¨ä¿é™©ç®±é‡Œï¼Œåªç•™ä¸€ä¸ªå°çª—å£ï¼ˆæ–¹æ³•ï¼‰å¯¹å¤–åŠäº‹ã€‚</strong></p><p>è¿™æ ·åšå¯ä»¥é˜²æ­¢å¤–éƒ¨éšæ„ä¿®æ”¹å†…éƒ¨æ•°æ®ï¼Œä¿è¯æ•°æ®çš„å®‰å…¨æ€§ã€‚åœ¨ Python ä¸­ï¼Œåœ¨å±æ€§åå‰åŠ  <strong>ä¸¤ä¸ªä¸‹åˆ’çº¿ <code>__</code></strong>ï¼Œå°±å¯ä»¥æŠŠå®ƒå˜æˆ**ç§æœ‰ï¼ˆPrivateï¼‰**çš„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Account</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, money</span>):<br>        <span class="hljs-variable language_">self</span>.name = name          <span class="hljs-comment"># å…¬æœ‰å±æ€§ï¼šå¤§å®¶éƒ½èƒ½çœ‹</span><br>        <span class="hljs-variable language_">self</span>.__balance = money    <span class="hljs-comment"># ç§æœ‰å±æ€§ï¼šåŠ äº†__ï¼Œåªæœ‰è‡ªå·±èƒ½çœ‹/æ”¹</span><br><br>    <span class="hljs-comment"># æä¾›ä¸€ä¸ªå…¬å¼€çš„æ–¹æ³•æ¥æŸ¥çœ‹ä½™é¢ (Getter)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">check_balance</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;ç”¨æˆ· <span class="hljs-subst">&#123;self.name&#125;</span> å½“å‰ä½™é¢ï¼š<span class="hljs-subst">&#123;self.__balance&#125;</span> å…ƒ&quot;</span><br><br>    <span class="hljs-comment"># æä¾›ä¸€ä¸ªå…¬å¼€çš„æ–¹æ³•æ¥ä¿®æ”¹ä½™é¢ (Setter)ï¼Œå¯ä»¥åœ¨è¿™é‡ŒåŠ å®‰å…¨åˆ¤æ–­</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">save_money</span>(<span class="hljs-params">self, amount</span>):<br>        <span class="hljs-keyword">if</span> amount &gt; <span class="hljs-number">0</span>:<br>            <span class="hljs-variable language_">self</span>.__balance += amount<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;æˆåŠŸå­˜å…¥ <span class="hljs-subst">&#123;amount&#125;</span> å…ƒ&quot;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å­˜é’±é‡‘é¢å¿…é¡»å¤§äº0ï¼&quot;</span>)<br><br>acc = Account(<span class="hljs-string">&quot;å¼ ä¸‰&quot;</span>, <span class="hljs-number">1000</span>)<br><br><span class="hljs-comment"># 1. æ­£å¸¸æ“ä½œï¼šé€šè¿‡æ–¹æ³•è®¿é—®</span><br>acc.save_money(<span class="hljs-number">500</span>)<br><span class="hljs-built_in">print</span>(acc.check_balance())<br><br><span class="hljs-comment"># 2. è¿è§„æ“ä½œï¼šå°è¯•ç›´æ¥è®¿é—®ç§æœ‰å±æ€§</span><br><span class="hljs-comment"># print(acc.__balance)  </span><br><span class="hljs-comment"># æŠ¥é”™ï¼šAttributeErrorï¼ˆPython ä¼šå‡è£…åœ¨è¿™ä¸ªå¯¹è±¡é‡Œæ‰¾ä¸åˆ° __balanceï¼‰</span><br><br><span class="hljs-comment"># 3. ç»•è¿‡å°è£…ï¼ˆè™½ç„¶ä¸æ¨èï¼Œä½†åŸç†è¦çŸ¥é“ï¼‰</span><br><span class="hljs-comment"># Python å®é™…ä¸Šæ˜¯æŠŠåå­—æ”¹æˆäº† _ç±»å__å±æ€§å</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å¼ºè¡Œå·çœ‹ï¼š<span class="hljs-subst">&#123;acc._Account__balance&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><hr><h2 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h2><p>å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»çš„å±æ€§å’Œè¡Œä¸º</p><h3 id="å•ç»§æ‰¿"><a href="#å•ç»§æ‰¿" class="headerlink" title="å•ç»§æ‰¿"></a>å•ç»§æ‰¿</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 1. å®šä¹‰çˆ¶ç±»</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">eat</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å¤§å£å¹²é¥­...&quot;</span>)<br><br><span class="hljs-comment"># 2. å®šä¹‰å­ç±»ï¼Œæ‹¬å·é‡Œå†™çˆ¶ç±»çš„åå­—</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-title class_ inherited__">Animal</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">bark</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ±ªæ±ªæ±ªï¼&quot;</span>)<br><br><span class="hljs-comment"># 3. ä½¿ç”¨</span><br>wangcai = Dog()<br>wangcai.bark()  <span class="hljs-comment"># è°ƒç”¨è‡ªå·±çš„æ–¹æ³•</span><br>wangcai.eat()   <span class="hljs-comment"># ã€å…³é”®ã€‘è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ï¼ˆè™½ç„¶Dogé‡Œæ²¡å†™eatï¼Œä½†å®ƒç»§æ‰¿ä¸‹æ¥äº†ï¼‰</span><br></code></pre></td></tr></table></figure><h3 id="å¤šç»§æ‰¿"><a href="#å¤šç»§æ‰¿" class="headerlink" title="å¤šç»§æ‰¿"></a>å¤šç»§æ‰¿</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># çˆ¶ç±» A</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Flyer</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fly</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æˆ‘ä¼šé£é«˜é«˜&quot;</span>)<br><br><span class="hljs-comment"># çˆ¶ç±» B</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Mammal</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æˆ‘ä¼šè·‘å¾—å¿«&quot;</span>)<br><br><span class="hljs-comment"># å­ç±»ï¼šæ‹¬å·é‡Œå†™å¤šä¸ªçˆ¶ç±»ï¼Œç”¨é€—å·éš”å¼€</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Bat</span>(Flyer, Mammal):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">bite</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æˆ‘è¿˜å’¬äººï¼&quot;</span>)<br><br><span class="hljs-comment"># ä½¿ç”¨</span><br>bianfu = Bat()<br>bianfu.fly()   <span class="hljs-comment"># ç»§æ‰¿è‡ª Flyer</span><br>bianfu.run()   <span class="hljs-comment"># ç»§æ‰¿è‡ª Mammal</span><br>bianfu.bite()  <span class="hljs-comment"># è‡ªå·±çš„</span><br></code></pre></td></tr></table></figure><h3 id="å­ç±»é‡å†™çˆ¶ç±»çš„åŠŸèƒ½"><a href="#å­ç±»é‡å†™çˆ¶ç±»çš„åŠŸèƒ½" class="headerlink" title="å­ç±»é‡å†™çˆ¶ç±»çš„åŠŸèƒ½"></a>å­ç±»é‡å†™çˆ¶ç±»çš„åŠŸèƒ½</h3><p>æœ‰ä¸¤ç§å¸¸è§çš„é‡å†™æ–¹å¼ï¼š</p><ol><li><strong>å®Œå…¨è¦†ç›–</strong>ï¼šå½»åº•æŠ›å¼ƒçˆ¶ç±»çš„åšæ³•ï¼Œå¦èµ·ç‚‰ç¶ã€‚</li><li><strong>åŠŸèƒ½æ‰©å±•</strong>ï¼šä¿ç•™çˆ¶ç±»çš„æ ¸å¿ƒé€»è¾‘ï¼ˆç”¨ <code>super()</code>ï¼‰ï¼Œç„¶åå¢åŠ æ–°åŠŸèƒ½ã€‚</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 1. çˆ¶ç±»ï¼šæ™®é€šçš„ç‹—</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">bark</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ±ªæ±ªæ±ªï¼(æ™®é€šå«å£°)&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ä¹Ÿå°±æ˜¯ä¸ªæ…¢è·‘...&quot;</span>)<br><br><span class="hljs-comment"># 2. å­ç±»Aï¼šå“ˆå£«å¥‡ (å®Œå…¨è¦†ç›–)</span><br><span class="hljs-comment"># å“ˆå£«å¥‡ä¸æƒ³â€œæ±ªæ±ªæ±ªâ€ï¼Œå®ƒæƒ³â€œå—·å‘œâ€ï¼Œæ‰€ä»¥å®ƒå½»åº•æ”¹å†™äº† bark æ–¹æ³•</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Husky</span>(<span class="hljs-title class_ inherited__">Dog</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">bark</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å—·å‘œ~~~~ (ç‹¼åš)&quot;</span>)<br><br><span class="hljs-comment"># 3. å­ç±»Bï¼šè­¦çŠ¬ (åŠŸèƒ½æ‰©å±•)</span><br><span class="hljs-comment"># è­¦çŠ¬ä¹Ÿå¾—å…ˆåƒæ™®é€šç‹—ä¸€æ ·å«ï¼Œä½†å«å®Œä¹‹åè¿˜å¾—æŠ“åäºº</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">PoliceDog</span>(<span class="hljs-title class_ inherited__">Dog</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">bark</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-comment"># ã€å…³é”®æ­¥éª¤ã€‘super() ä»£è¡¨çˆ¶ç±»</span><br>        <span class="hljs-comment"># å…ˆæ‰§è¡Œçˆ¶ç±»çš„ bark (è¾“å‡ºâ€œæ±ªæ±ªæ±ªâ€)</span><br>        <span class="hljs-built_in">super</span>().bark() <br>        <span class="hljs-comment"># ç„¶åå†æ‰§è¡Œè‡ªå·±çš„ç‰¹æ®Šé€»è¾‘</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; å‘ç°åäººï¼ŒçŒ›æ‰‘ä¸Šå»ï¼&quot;</span>)<br><br><span class="hljs-comment"># --- æµ‹è¯• ---</span><br><br>h = Husky()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;--- å“ˆå£«å¥‡ ---&quot;</span>)<br>h.bark() <br><span class="hljs-comment"># è¾“å‡ºï¼šå—·å‘œ~~~~ (çˆ¶ç±»çš„é€»è¾‘å®Œå…¨ä¸è§äº†)</span><br><br>p = PoliceDog()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n--- è­¦çŠ¬ ---&quot;</span>)<br>p.bark()<br><span class="hljs-comment"># è¾“å‡ºï¼š</span><br><span class="hljs-comment"># æ±ªæ±ªæ±ªï¼(æ™®é€šå«å£°)  &lt;-- æ¥è‡ª super().bark()</span><br><span class="hljs-comment"># &gt;&gt;&gt; å‘ç°åäººï¼ŒçŒ›æ‰‘ä¸Šå»ï¼</span><br></code></pre></td></tr></table></figure><hr><h3 id="å­ç±»è®¿é—®çˆ¶ç±»åŠŸèƒ½"><a href="#å­ç±»è®¿é—®çˆ¶ç±»åŠŸèƒ½" class="headerlink" title="å­ç±»è®¿é—®çˆ¶ç±»åŠŸèƒ½"></a>å­ç±»è®¿é—®çˆ¶ç±»åŠŸèƒ½</h3><p>å­ç±»é‡å†™çˆ¶ç±»åŠŸèƒ½å, ç»§ç»­è®¿é—®çˆ¶ç±»åŠŸèƒ½ </p><ol><li>çˆ¶ç±»å.çˆ¶ç±»å‡½æ•°å(self)      ç²¾å‡†è®¿é—®, æƒ³æ‰¾å“ªä¸ªçˆ¶ç±», å°±è°ƒå“ªä¸ªçˆ¶ç±».</li><li>super().çˆ¶ç±»å‡½æ•°å()        åªèƒ½è®¿é—®æœ€è¿‘çš„é‚£ä¸ªçˆ¶ç±», æœ‰å°±ç”¨, æ²¡æœ‰å°±å¾€åç»§ç»­æŸ¥æ‰¾.</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Father</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">skill</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ğŸ‘´ çˆ¶äº²çš„æŠ€èƒ½ï¼šç¼–ç¨‹ (Python)&quot;</span>)<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Mother</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">skill</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ğŸ‘© æ¯äº²çš„æŠ€èƒ½ï¼šç”»ç”» (Painting)&quot;</span>)<br><br><span class="hljs-comment"># æ³¨æ„ç»§æ‰¿é¡ºåºï¼šFather åœ¨å‰</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Child</span>(Father, Mother):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">skill</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æˆ‘æ˜¯å­©å­ï¼Œå¼€å§‹å±•ç¤ºæŠ€èƒ½...&quot;</span>)<br><br>        <span class="hljs-comment"># --- æ–¹å¼ 1: super() (è‡ªåŠ¨æŒ¡) ---</span><br>        <span class="hljs-comment"># è§„åˆ™ï¼šåªæ‰¾ MRO åˆ—è¡¨é‡Œçš„â€œä¸‹ä¸€ä¸ªâ€ã€‚</span><br>        <span class="hljs-comment"># å› ä¸º class Child(Father, Mother)ï¼ŒFather æ’å‰é¢ï¼Œ</span><br>        <span class="hljs-comment"># æ‰€ä»¥ super() åªèƒ½è°ƒåˆ° Fatherï¼Œç›´æ¥å¿½ç•¥äº† Motherã€‚</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\nã€æ–¹å¼ 1: super().skill()ã€‘&quot;</span>)<br>        <span class="hljs-built_in">super</span>().skill()<br><br>        <span class="hljs-comment"># --- æ–¹å¼ 2: ç±»å.æ–¹æ³•(self) (æ‰‹åŠ¨æŒ¡) ---</span><br>        <span class="hljs-comment"># è§„åˆ™ï¼šæŒ‡å“ªæ‰“å“ªã€‚</span><br>        <span class="hljs-comment"># å³ä½¿ Mother æ’åœ¨åé¢ï¼Œsuper() å¤Ÿä¸ç€ï¼Œ</span><br>        <span class="hljs-comment"># æˆ‘ä¾ç„¶å¯ä»¥é€šè¿‡â€œç±»åâ€å¼ºè¡Œè°ƒç”¨å¥¹ã€‚</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\nã€æ–¹å¼ 2: Mother.skill(self)ã€‘&quot;</span>)<br>        Mother.skill(<span class="hljs-variable language_">self</span>)<br><br><span class="hljs-comment"># è¿è¡Œæµ‹è¯•</span><br>c = Child()<br>c.skill()<br><span class="hljs-comment"># æˆ‘æ˜¯å­©å­ï¼Œå¼€å§‹å±•ç¤ºæŠ€èƒ½...</span><br><br><span class="hljs-comment"># ã€æ–¹å¼ 1: super().skill()ã€‘</span><br><span class="hljs-comment"># ğŸ‘´ çˆ¶äº²çš„æŠ€èƒ½ï¼šç¼–ç¨‹ (Python)</span><br><br><span class="hljs-comment"># ã€æ–¹å¼ 2: Mother.skill(self)ã€‘</span><br><span class="hljs-comment"># ğŸ‘© æ¯äº²çš„æŠ€èƒ½ï¼šç”»ç”» (Painting)</span><br></code></pre></td></tr></table></figure><hr><h2 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h2><p>åŒä¸€ä¸ªå‡½æ•°, æ¥æ”¶ä¸åŒçš„å‚æ•°, æœ‰ä¸åŒçš„æ•ˆæœã€‚å³åŒä¸€ä¸ªæŒ‡ä»¤ï¼Œä¸åŒçš„å¯¹è±¡å»åšï¼Œä¼šæœ‰ä¸åŒçš„è¡Œä¸ºã€‚</p><p>å¤šæ€çš„ä¸€èˆ¬å‰ææ¡ä»¶:1.è¦æœ‰ç»§æ‰¿.2.æœ‰æ–¹æ³•é‡å†™, ä¸ç„¶å¤šæ€æ— æ„ä¹‰.3.è¦æœ‰çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡.ä½†åœ¨ Python ä¸­ï¼Œå¤šæ€æ›´åŠ çµæ´»ï¼Œå½’å› äºPython åŠ¨æ€è¯­è¨€çµæ´»æ€§</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 1. å¿…é¡»æœ‰ç»§æ‰¿ (æ¡ä»¶1)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Charger</span>: <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">charge</span>(<span class="hljs-params">self</span>): <span class="hljs-keyword">pass</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TypeC_Charger</span>(<span class="hljs-title class_ inherited__">Charger</span>):<br>    <span class="hljs-comment"># 2. å¿…é¡»é‡å†™ (æ¡ä»¶2)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">charge</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ­£åœ¨ç”¨ Type-C å……ç”µ...&quot;</span>)<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Lightning_Charger</span>(<span class="hljs-title class_ inherited__">Charger</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">charge</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ­£åœ¨ç”¨ è‹¹æœå¤´ å……ç”µ...&quot;</span>)<br><br><span class="hljs-comment"># å‡½æ•°å®šä¹‰å¿…é¡»æš—ç¤ºæ¥æ”¶çˆ¶ç±»ç±»å‹</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">power_up</span>(<span class="hljs-params">charger_obj: Charger</span>): <span class="hljs-comment"># ç±»å‹æç¤ºåªæ˜¯æç¤ºï¼Œä¸å¼ºåˆ¶</span><br>    charger_obj.charge()<br><br><span class="hljs-comment"># 3. çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±» (åœ¨Pythoné‡Œå˜é‡æ²¡æœ‰ç±»å‹ï¼Œæ‰€ä»¥è¿™ä¸€æ­¥æ˜¯éšå¼çš„)</span><br>c1 = TypeC_Charger()<br>power_up(c1)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">TypeC_Charger</span>:<br>    <span class="hljs-comment"># æ²¡æœ‰ç»§æ‰¿ä»»ä½•çˆ¶ç±»ï¼</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">charge</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Type-C å……ç”µä¸­...&quot;</span>)<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Burger</span>:<br>    <span class="hljs-comment"># è¿™æ˜¯ä¸€ä¸ªæ±‰å ¡ï¼Œè·Ÿå……ç”µå™¨æ²¡åŠæ¯›é’±å…³ç³»</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">charge</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æˆ‘æ˜¯ä¸€ä¸ªæ±‰å ¡ï¼Œä½†æˆ‘å±…ç„¶ä¹Ÿæœ‰ charge æ–¹æ³•ï¼å……èƒ½ä¸­ï¼ˆçƒ­é‡+100ï¼‰&quot;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">power_up</span>(<span class="hljs-params">obj</span>):<br>    <span class="hljs-comment"># Python ä¸ç®¡ä½ æ˜¯ä»€ä¹ˆç±»ï¼Œåªç®¡ä½ æœ‰æ²¡æœ‰ charge æ–¹æ³•</span><br>    obj.charge() <br><br>t = TypeC_Charger()<br>b = Burger()<br><br>power_up(t) <span class="hljs-comment"># æ­£å¸¸å·¥ä½œ</span><br>power_up(b) <span class="hljs-comment"># å±…ç„¶ä¹Ÿæ­£å¸¸å·¥ä½œï¼è¿™å°±æ˜¯é¸­å­ç±»å‹</span><br></code></pre></td></tr></table></figure><hr><h2 id="æŠ½è±¡ç±»"><a href="#æŠ½è±¡ç±»" class="headerlink" title="æŠ½è±¡ç±»"></a>æŠ½è±¡ç±»</h2><p>æŠ½è±¡ç±»è§£é‡Š:<br>        æŠ½è±¡ç±»ä¸€èˆ¬å……å½“çˆ¶ç±», ç”¨äºæŒ‡å®šè¡Œä¸šè§„èŒƒ, å‡†åˆ™, å…·ä½“çš„å®ç°äº¤ç”± å­ç±» æ¥å®Œæˆ.</p><h3 id="çˆ¶ç±»åˆ¶å®šæ ‡å‡†ï¼Œå­ç±»å»å®ç°-æ€æƒ³"><a href="#çˆ¶ç±»åˆ¶å®šæ ‡å‡†ï¼Œå­ç±»å»å®ç°-æ€æƒ³" class="headerlink" title="çˆ¶ç±»åˆ¶å®šæ ‡å‡†ï¼Œå­ç±»å»å®ç°(æ€æƒ³)"></a>çˆ¶ç±»åˆ¶å®šæ ‡å‡†ï¼Œå­ç±»å»å®ç°(æ€æƒ³)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 1. å®šä¹‰æŠ½è±¡ç±», ç©ºè°ƒç±», è®¾å®š: ç©ºè°ƒçš„è§„åˆ™.</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AC</span>:<br>    <span class="hljs-comment"># 1.1 åˆ¶å†·</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">cool_wind</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">pass</span><br><br>    <span class="hljs-comment"># 1.2 åˆ¶çƒ­</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">hot_wind</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">pass</span><br><br>    <span class="hljs-comment"># 1.3 å·¦å³æ‘†é£</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">swing_l_r</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">pass</span><br><br><span class="hljs-comment"># 2. å®šä¹‰å­ç±»(å°ç±³ç©ºè°ƒ), å®ç°çˆ¶ç±»(ç©ºè°ƒç±»)ä¸­çš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•.</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">XiaoMi</span>(<span class="hljs-title class_ inherited__">AC</span>):<br>    <span class="hljs-comment"># 2.1 åˆ¶å†·</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">cool_wind</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;å°ç±³ æ ¸å¿ƒ åˆ¶å†·æŠ€æœ¯!&#x27;</span>)<br><br>    <span class="hljs-comment"># 2.2 åˆ¶çƒ­</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">hot_wind</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;å°ç±³ æ ¸å¿ƒ åˆ¶çƒ­æŠ€æœ¯!&#x27;</span>)<br><br>    <span class="hljs-comment"># 2.3 å·¦å³æ‘†é£</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">swing_l_r</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;å°ç±³ç©ºè°ƒ é™éŸ³å·¦å³æ‘†é£ æŠ€æœ¯!&#x27;</span>)<br>        <br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># 4.1 å°ç±³ç©ºè°ƒ</span><br>    xm = XiaoMi()<br>    xm.cool_wind()<br>    xm.hot_wind()<br>    xm.swing_l_r()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;-&#x27;</span> * <span class="hljs-number">23</span>)<br></code></pre></td></tr></table></figure><h3 id="å¼•å…¥-abc-æ¨¡å—ï¼ˆAbstract-Base-Classï¼‰-ä¸¥è°¨"><a href="#å¼•å…¥-abc-æ¨¡å—ï¼ˆAbstract-Base-Classï¼‰-ä¸¥è°¨" class="headerlink" title="å¼•å…¥ abc æ¨¡å—ï¼ˆAbstract Base Classï¼‰(ä¸¥è°¨)"></a>å¼•å…¥ <code>abc</code> æ¨¡å—ï¼ˆAbstract Base Classï¼‰(ä¸¥è°¨)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> abc <span class="hljs-keyword">import</span> ABC, abstractmethod<br><br><span class="hljs-comment"># 1. å®šä¹‰æŠ½è±¡ç±»ï¼šå¿…é¡»ç»§æ‰¿ ABC</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Payment</span>(<span class="hljs-title class_ inherited__">ABC</span>):<br>    <br>    <span class="hljs-comment"># 2. å®šä¹‰æŠ½è±¡æ–¹æ³•ï¼šåŠ ä¸Šè£…é¥°å™¨ @abstractmethod</span><br><span class="hljs-meta">    @abstractmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">pay</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">pass</span>  <span class="hljs-comment"># è¿™é‡Œä¸å†™å…·ä½“é€»è¾‘ï¼Œå› ä¸ºä¸çŸ¥é“æ€ä¹ˆä»˜ï¼Œåªå ä¸ªä½</span><br><br><span class="hljs-comment"># --- æµ‹è¯• ---</span><br><br><span class="hljs-comment"># âŒ é”™è¯¯æ¼”ç¤ºï¼šå°è¯•ç›´æ¥åˆ›å»ºæŠ½è±¡ç±»å¯¹è±¡</span><br><span class="hljs-comment"># p = Payment() </span><br><span class="hljs-comment"># æŠ¥é”™ï¼šTypeError: Can&#x27;t instantiate abstract class Payment...</span><br><span class="hljs-comment"># (æ„æ€ï¼šPayment æ˜¯æŠ½è±¡çš„ï¼Œæ˜¯ä¸ªåŠæˆå“ï¼Œä¸èƒ½ç›´æ¥ç”¨)</span><br><br><br><span class="hljs-comment"># âœ… æ­£ç¡®æ¼”ç¤ºï¼šå­ç±»ç»§æ‰¿å¹¶å®ç°</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AliPay</span>(<span class="hljs-title class_ inherited__">Payment</span>):<br>    <span class="hljs-comment"># ã€å¿…é¡»é‡å†™ã€‘å¦‚æœä¸å†™è¿™ä¸ªæ–¹æ³•ï¼ŒAliPay ä¹Ÿä¼šæŠ¥é”™</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">pay</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ”¯ä»˜å®æ”¯ä»˜ä¸­...&quot;</span>)<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">WeChatPay</span>(<span class="hljs-title class_ inherited__">Payment</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">pay</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å¾®ä¿¡æ”¯ä»˜ä¸­...&quot;</span>)<br><br><span class="hljs-comment"># 3. æ­£å¸¸ä½¿ç”¨</span><br>ali = AliPay()<br>ali.pay()<br></code></pre></td></tr></table></figure><p>åœ¨pythonä¸­ï¼Œ<strong>æŠ½è±¡ç±»ï¼ˆABCï¼‰å’Œæ¥å£ï¼ˆInterfaceï¼‰åœ¨è¯­æ³•ä¸Šæ˜¯åŒä¸€ä¸ªä¸œè¥¿</strong>ã€‚å¦‚æœä½ æŠŠä¸€ä¸ªæŠ½è±¡ç±»é‡Œçš„æ–¹æ³•å…¨å†™æˆç©ºï¼ˆåªæœ‰å®šä¹‰æ²¡å®ç°ï¼‰ï¼Œå®ƒå°±æ˜¯æ¥å£</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> abc <span class="hljs-keyword">import</span> ABC, abstractmethod<br><br><span class="hljs-comment"># ç”¨æ³• Aï¼šå½“ä½œã€æ¥å£ã€‘ç”¨ (å…¨éƒ½æ˜¯æŠ½è±¡æ–¹æ³•ï¼Œæ²¡æœ‰å…·ä½“å®ç°)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">USBInterface</span>(<span class="hljs-title class_ inherited__">ABC</span>):<br><span class="hljs-meta">    @abstractmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">connect</span>(<span class="hljs-params">self</span>): <span class="hljs-keyword">pass</span><br><br><span class="hljs-comment"># ç”¨æ³• Bï¼šå½“ä½œã€æŠ½è±¡ç±»ã€‘ç”¨ (æœ‰ä¸€éƒ¨åˆ†å…±ç”¨çš„ä»£ç )</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span>(<span class="hljs-title class_ inherited__">ABC</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">sleep</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;é—­çœ¼ç¡è§‰...&quot;</span>)  <span class="hljs-comment"># è¿™æ˜¯ä¸€ä¸ªå…·ä½“åŠŸèƒ½</span><br>    <br><span class="hljs-meta">    @abstractmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">make_sound</span>(<span class="hljs-params">self</span>): <span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure><hr><h2 id="ç±»å±æ€§å’Œå¯¹è±¡å±æ€§"><a href="#ç±»å±æ€§å’Œå¯¹è±¡å±æ€§" class="headerlink" title="ç±»å±æ€§å’Œå¯¹è±¡å±æ€§"></a>ç±»å±æ€§å’Œå¯¹è±¡å±æ€§</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>:<br>    <span class="hljs-comment"># --- è¿™é‡Œæ˜¯ã€ç±»å±æ€§ã€‘ ---</span><br>    <span class="hljs-comment"># å®šä¹‰åœ¨æ–¹æ³•å¤–é¢ï¼Œè¿™æ˜¯å¤§å®¶å…±äº«çš„</span><br>    school = <span class="hljs-string">&quot;éœæ ¼æ²ƒèŒ¨é­”æ³•å­¦æ ¡&quot;</span><br>    count = <span class="hljs-number">0</span>  <span class="hljs-comment"># ç”¨æ¥è®°å½•ä¸€å…±æ‹›ç”Ÿäº†å¤šå°‘äºº</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, age</span>):<br>        <span class="hljs-comment"># --- è¿™é‡Œæ˜¯ã€å®ä¾‹å±æ€§ã€‘ ---</span><br>        <span class="hljs-comment"># å®šä¹‰åœ¨ __init__ é‡Œï¼Œç»‘å®šåœ¨ self ä¸Šï¼Œæ˜¯ä¸ªäººçš„</span><br>        <span class="hljs-variable language_">self</span>.name = name<br>        <span class="hljs-variable language_">self</span>.age = age<br>        <br>        <span class="hljs-comment"># æ¯åˆ›å»ºä¸€ä¸ªå­¦ç”Ÿï¼Œç­çº§æ€»äººæ•°å°± +1</span><br>        <span class="hljs-comment"># æ³¨æ„ï¼šè¦ä¿®æ”¹ç±»å±æ€§ï¼Œæœ€å¥½ç”¨ ç±»å.å±æ€§</span><br>        Student.count += <span class="hljs-number">1</span><br><br><span class="hljs-comment"># 1. åˆ›å»ºä¸¤ä¸ªå­¦ç”Ÿ</span><br>s1 = Student(<span class="hljs-string">&quot;å“ˆåˆ©æ³¢ç‰¹&quot;</span>, <span class="hljs-number">11</span>)<br>s2 = Student(<span class="hljs-string">&quot;ç½—æ©&quot;</span>, <span class="hljs-number">11</span>)<br><br><span class="hljs-comment"># 2. è®¿é—®å®ä¾‹å±æ€§ (æ¯ä¸ªäººä¸ä¸€æ ·) åªèƒ½é€šè¿‡å¯¹è±¡è®¿é—®</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;s1çš„åå­—: <span class="hljs-subst">&#123;s1.name&#125;</span>&quot;</span>)  <span class="hljs-comment"># å“ˆåˆ©æ³¢ç‰¹</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;s2çš„åå­—: <span class="hljs-subst">&#123;s2.name&#125;</span>&quot;</span>)  <span class="hljs-comment"># ç½—æ©</span><br><br><span class="hljs-comment"># 3. è®¿é—®ç±»å±æ€§ (å¤§å®¶éƒ½ä¸€æ ·)</span><br><span class="hljs-comment"># å¯ä»¥é€šè¿‡å¯¹è±¡è®¿é—®ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç±»åè®¿é—®(æ¨è)</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;s1çš„å­¦æ ¡: <span class="hljs-subst">&#123;s1.school&#125;</span>&quot;</span>)      <span class="hljs-comment"># éœæ ¼æ²ƒèŒ¨</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;s2çš„å­¦æ ¡: <span class="hljs-subst">&#123;s2.school&#125;</span>&quot;</span>)      <span class="hljs-comment"># éœæ ¼æ²ƒèŒ¨</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ç›®å‰æ‹›ç”Ÿäººæ•°: <span class="hljs-subst">&#123;Student.count&#125;</span>&quot;</span>) <span class="hljs-comment"># 2</span><br></code></pre></td></tr></table></figure><hr><h2 id="ç±»æ–¹æ³•å’Œé™æ€æ–¹æ³•"><a href="#ç±»æ–¹æ³•å’Œé™æ€æ–¹æ³•" class="headerlink" title="ç±»æ–¹æ³•å’Œé™æ€æ–¹æ³•"></a>ç±»æ–¹æ³•å’Œé™æ€æ–¹æ³•</h2><p>ç±»æ–¹æ³•:<br>    å±äºç±»çš„æ–¹æ³•, å¯ä»¥é€šè¿‡ç±»å. è¿˜å¯ä»¥é€šè¿‡å¯¹è±¡å. çš„æ–¹å¼æ¥è°ƒç”¨.<br>    å®šä¹‰ç±»æ–¹æ³•çš„æ—¶å€™, å¿…é¡»ä½¿ç”¨è£…é¥°å™¨ @classmethod, ä¸”ç¬¬1ä¸ªå‚æ•°å¿…é¡»è¡¨ç¤ºç±»å¯¹è±¡.</p><p>é™æ€æ–¹æ³•:<br>    å±äºè¯¥ç±»ä¸‹æ‰€æœ‰å¯¹è±¡æ‰€å…±äº«çš„æ–¹æ³•, å¯ä»¥é€šè¿‡ç±»å. è¿˜å¯ä»¥é€šè¿‡ å¯¹è±¡å.çš„æ–¹å¼æ¥è°ƒç”¨.<br>    å®šä¹‰é™æ€æ–¹æ³•çš„æ—¶å€™, å¿…é¡»ä½¿ç”¨è£…é¥°å™¨ @staticmethod, ä¸”å‚æ•°ä¼ ä¸ä¼ éƒ½å¯ä»¥.</p><p>åŒºåˆ«:<br>       1. ç±»æ–¹æ³•çš„ç¬¬1ä¸ªå‚æ•°å¿…é¡»æ˜¯ç±»å¯¹è±¡, é™æ€æ–¹æ³•æ— å‚æ•°çš„ç‰¹æ®Šè¦æ±‚<br>       2. ä½ å¯ä»¥ç†è§£ä¸º: å¦‚æœå‡½æ•°ä¸­è¦ç”¨ç±»å¯¹è±¡, å°±å®šä¹‰æˆç±»æ–¹æ³•, å¦åˆ™å®šä¹‰æˆé™æ€æ–¹æ³•, é™¤æ­¤å¤–å¹¶æ— ä»»ä½•åŒºåˆ«.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 1. å®šä¹‰å­¦ç”Ÿç±».</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>:<br>    <span class="hljs-comment"># 2. å®šä¹‰ç±»å±æ€§.</span><br>    school = <span class="hljs-string">&#x27;é»‘é©¬ç¨‹åºå‘˜&#x27;</span><br><br>    <span class="hljs-comment"># 3. å®šä¹‰ç±»æ–¹æ³•</span><br><span class="hljs-meta">    @classmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">show1</span>(<span class="hljs-params">cls</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;cls: <span class="hljs-subst">&#123;cls&#125;</span>&#x27;</span>)        <span class="hljs-comment"># &lt;class &#x27;__main__.Student&#x27;&gt;</span><br>        <span class="hljs-built_in">print</span>(cls.school)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;æˆ‘æ˜¯ç±»æ–¹æ³•&#x27;</span>)<br><br>    <span class="hljs-comment"># 4. å®šä¹‰é™æ€æ–¹æ³•</span><br><span class="hljs-meta">    @staticmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">show2</span>():<br>        <span class="hljs-built_in">print</span>(Student.school)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;æˆ‘æ˜¯é™æ€æ–¹æ³•&#x27;</span>)<br><br><span class="hljs-comment"># 5. æµ‹è¯•.</span><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    s1 = Student()<br>    s1.show1()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;-&#x27;</span> * <span class="hljs-number">23</span>)<br>    s1.show2()<br></code></pre></td></tr></table></figure><hr><h1 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h1><h2 id="é—­åŒ…å…¥é—¨"><a href="#é—­åŒ…å…¥é—¨" class="headerlink" title="é—­åŒ…å…¥é—¨"></a>é—­åŒ…å…¥é—¨</h2><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œå‡½æ•°å†…éƒ¨çš„å˜é‡æ˜¯â€œä¸´æ—¶å·¥â€ï¼Œå‡½æ•°æ‰§è¡Œå®Œï¼Œå˜é‡å°±è¢«é”€æ¯ï¼ˆå†…å­˜é‡Šæ”¾ï¼‰äº†ã€‚</p><p>ä½†æ˜¯<strong>é—­åŒ…</strong>ä¸åŒï¼Œå®ƒå¯ä»¥è®©ä¸€ä¸ªå‡½æ•°<strong>æŠŠå¤–éƒ¨çš„å˜é‡â€œæ‰“åŒ…å¸¦èµ°â€</strong>ã€‚å³ä½¿å¤–éƒ¨å‡½æ•°å·²ç»æ‰§è¡Œå®Œäº†ï¼Œå†…éƒ¨å‡½æ•°ä¾ç„¶èƒ½è®¿é—®å¹¶ä½¿ç”¨é‚£ä¸ªå˜é‡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 1. å¤–éƒ¨å‡½æ•° (å·¥å‚)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">config_greeting</span>(<span class="hljs-params">msg</span>):<br>    <span class="hljs-comment"># msg æ˜¯å¤–éƒ¨å‡½æ•°çš„å˜é‡ (é›¶ä»¶)</span><br>    <br>    <span class="hljs-comment"># 2. å†…éƒ¨å‡½æ•° (å·¥äºº)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">printer</span>(<span class="hljs-params">name</span>):<br>        <span class="hljs-comment"># 3. å†…éƒ¨ä½¿ç”¨äº†å¤–éƒ¨å˜é‡ msg</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;msg&#125;</span>, <span class="hljs-subst">&#123;name&#125;</span>&quot;</span>)<br>    <br>    <span class="hljs-comment"># 4. è¿”å›å†…éƒ¨å‡½æ•° (å·¥äººèƒŒç€é›¶ä»¶èµ°äº†)</span><br>    <span class="hljs-keyword">return</span> printer<br><br><span class="hljs-comment"># --- å…³é”®çœ‹è¿™é‡Œ ---</span><br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªé—­åŒ…å®ä¾‹ï¼šé…ç½®ä¸º &quot;Hello&quot;</span><br>say_hello = config_greeting(<span class="hljs-string">&quot;Hello&quot;</span>)<br><span class="hljs-comment"># æ­¤æ—¶ï¼Œconfig_greeting å‡½æ•°å…¶å®å·²ç»è¿è¡Œç»“æŸäº†ï¼</span><br><span class="hljs-comment"># æŒ‰ç†è¯´å˜é‡ &quot;Hello&quot; åº”è¯¥ä»å†…å­˜æ¶ˆå¤±ï¼Œä½†å®ƒè¢« printer æŠ“ä½äº†ã€‚</span><br><br><span class="hljs-comment"># åˆ›å»ºå¦ä¸€ä¸ªé—­åŒ…å®ä¾‹ï¼šé…ç½®ä¸º &quot;ä½ å¥½&quot;</span><br>say_nihao = config_greeting(<span class="hljs-string">&quot;ä½ å¥½&quot;</span>)<br><br><span class="hljs-comment"># è°ƒç”¨</span><br>say_hello(<span class="hljs-string">&quot;å¼ ä¸‰&quot;</span>)  <span class="hljs-comment"># è¾“å‡ºï¼šHello, å¼ ä¸‰</span><br>say_nihao(<span class="hljs-string">&quot;æå››&quot;</span>)  <span class="hljs-comment"># è¾“å‡ºï¼šä½ å¥½, æå››</span><br></code></pre></td></tr></table></figure><h2 id="nonlocal"><a href="#nonlocal" class="headerlink" title="nonlocal"></a>nonlocal</h2><p><code>nonlocal</code> çš„ä½œç”¨æ˜¯ï¼š<strong>å…è®¸å†…éƒ¨å‡½æ•°ä¿®æ”¹å¤–éƒ¨å‡½æ•°ï¼ˆé—­åŒ…ï¼‰ä¸­çš„å˜é‡</strong>ã€‚</p><p>Python æœ‰ä¸€ä¸ªä¿æŠ¤æœºåˆ¶ï¼šå¦‚æœä½ åœ¨å‡½æ•°å†…éƒ¨ç»™ä¸€ä¸ªå˜é‡èµ‹å€¼ï¼ˆæ¯”å¦‚ <code>a = 10</code>ï¼‰ï¼ŒPython é»˜è®¤ä¼šè®¤ä¸ºè¿™åªæ˜¯ä¸€ä¸ª<strong>å…¨æ–°çš„å±€éƒ¨å˜é‡</strong>ï¼Œè·Ÿå¤–é¢çš„é‚£ä¸ª <code>a</code> æ²¡å…³ç³»ã€‚</p><p>è¿™å°±å¯¼è‡´äº†ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœæƒ³<strong>ä¿®æ”¹</strong>å¤–é¢çš„å˜é‡ï¼Œè€Œä¸æ˜¯<strong>æ–°å»º</strong>ä¸€ä¸ªï¼Œç¨‹åºä¼šæŠ¥é”™æˆ–è€…ä¸ç¬¦åˆé¢„æœŸã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">make_counter</span>():<br>    count = <span class="hljs-number">0</span><br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">adder</span>():<br>        <span class="hljs-comment"># ã€å…³é”®ã€‘å£°æ˜ï¼šæˆ‘è¦ä¿®æ”¹å¤–é¢çš„é‚£ä¸ª countï¼</span><br>        <span class="hljs-keyword">nonlocal</span> count <br>        <br>        count += <span class="hljs-number">1</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å½“å‰è®¡æ•°: <span class="hljs-subst">&#123;count&#125;</span>&quot;</span>)<br>        <br>    <span class="hljs-keyword">return</span> adder<br><br>c = make_counter()<br>c()  <span class="hljs-comment"># è¾“å‡ºï¼šå½“å‰è®¡æ•°: 1</span><br>c()  <span class="hljs-comment"># è¾“å‡ºï¼šå½“å‰è®¡æ•°: 2</span><br>c()  <span class="hljs-comment"># è¾“å‡ºï¼šå½“å‰è®¡æ•°: 3</span><br></code></pre></td></tr></table></figure><p>é—®ï¼š<code>nonlocal</code> vs <code>global</code> çš„åŒºåˆ«ï¼Ÿ</p><p><strong><code>global</code></strong>ï¼š</p><ul><li>ç”¨äºä¿®æ”¹<strong>å…¨å±€å˜é‡</strong>ï¼ˆæ•´ä¸ªæ¨¡å—çº§åˆ«çš„ï¼‰ã€‚</li><li>å®ƒæ˜¯å»<strong>æœ€å¤–å±‚</strong>æ‰¾å˜é‡ã€‚</li></ul><p><strong><code>nonlocal</code></strong>ï¼š</p><ul><li>ç”¨äºä¿®æ”¹<strong>åµŒå¥—å‡½æ•°ä¸­çš„å˜é‡</strong>ï¼ˆé—­åŒ…é‡Œçš„ï¼‰ã€‚</li><li>å®ƒæ˜¯å»<strong>ä¸Šä¸€å±‚ï¼ˆæˆ–ä¸Šä¸Šå±‚ï¼‰å‡½æ•°æ‰¾å˜é‡ï¼Œä½†ç»ä¸</strong>å»å…¨å±€æ‰¾ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å…¨å±€å˜é‡</span><br>score = <span class="hljs-number">0</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">add_score</span>():<br>    <span class="hljs-comment"># ã€å£°æ˜ã€‘ï¼šæˆ‘è¦ç”¨çš„è¿™ä¸ª score æ˜¯å…¨å±€é‚£ä¸ªï¼ä¸æ˜¯æ–°å»ºçš„ï¼</span><br>    <span class="hljs-keyword">global</span> score<br>    <br>    score += <span class="hljs-number">100</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ¸¸æˆå¾—åˆ†ï¼&quot;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;åˆå§‹åˆ†æ•°: <span class="hljs-subst">&#123;score&#125;</span>&quot;</span>)  <span class="hljs-comment"># 0</span><br><br>add_score()<br>add_score()<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;æœ€ç»ˆåˆ†æ•°: <span class="hljs-subst">&#123;score&#125;</span>&quot;</span>)  <span class="hljs-comment"># 200 (çœŸçš„è¢«æ”¹æ‰äº†)</span><br></code></pre></td></tr></table></figure><hr><h1 id="è£…é¥°å™¨"><a href="#è£…é¥°å™¨" class="headerlink" title="è£…é¥°å™¨"></a>è£…é¥°å™¨</h1><h2 id="è£…é¥°å™¨å…¥é—¨"><a href="#è£…é¥°å™¨å…¥é—¨" class="headerlink" title="è£…é¥°å™¨å…¥é—¨"></a>è£…é¥°å™¨å…¥é—¨</h2><p><strong>è£…é¥°å™¨æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œå®ƒçš„ä½œç”¨æ˜¯åœ¨ä¸ä¿®æ”¹åŸå‡½æ•°ä»£ç çš„å‰æä¸‹ï¼Œç»™åŸå‡½æ•°â€œå¢åŠ æ–°åŠŸèƒ½â€</strong></p><p><strong>æ ¸å¿ƒåŸåˆ™ï¼šå¼€æ”¾å°é—­åŸåˆ™ (Open-Closed Principle)</strong></p><ul><li><strong>å°é—­</strong>ï¼šå¯¹ä¿®æ”¹æºä»£ç å°é—­ï¼ˆä¸è¦åŠ¨åŸæ¥çš„ä»£ç ï¼‰</li><li><strong>å¼€æ”¾</strong>ï¼šå¯¹æ‰©å±•åŠŸèƒ½å¼€æ”¾ï¼ˆæƒ³åŠ æ—¥å¿—ã€æƒ³åŠ æƒé™éªŒè¯ï¼Œéšä¾¿åŠ ï¼‰</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 1. æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•° (å¤–éƒ¨å‡½æ•°)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">add_gift</span>(<span class="hljs-params">func</span>):<br>    <br>    <span class="hljs-comment"># 2. å®šä¹‰å†…éƒ¨å‡½æ•° (åŒ…è£…çº¸)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>():<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; ğŸ æ­£åœ¨åŒ…è£…ç¤¼ç‰©...&quot;</span>)<br>        <span class="hljs-comment"># 3. è°ƒç”¨åŸå‡½æ•° (æ”¾å…¥ç¤¼ç‰©)</span><br>        func()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; âœ… ç¤¼ç‰©å·²å‘å‡ºï¼&quot;</span>)<br>        <br>    <span class="hljs-comment"># 4. è¿”å›å†…éƒ¨å‡½æ•°</span><br>    <span class="hljs-keyword">return</span> wrapper<br>    <br>    <br><span class="hljs-comment"># å†™æ³• Aï¼šåŸå‡½æ•°</span><br><span class="hljs-meta">@add_gift  </span><span class="hljs-comment"># &lt;--- è¿™å°±æ˜¯è£…é¥°å™¨è¯­æ³•ï¼Œç›¸å½“äºç»™ buy_shoe ç©¿äº†å±‚è¡£æœ</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">buy_shoe</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ä¸€åŒçƒé‹&quot;</span>)<br><br><span class="hljs-meta">@add_gift</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">buy_phone</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ä¸€å°æ‰‹æœº&quot;</span>)<br><br><span class="hljs-comment"># --- è¿è¡Œæµ‹è¯• ---</span><br><br><span class="hljs-comment"># å½“ä½ è°ƒç”¨ buy_shoe æ—¶ï¼Œå…¶å®ä½ è¿è¡Œçš„æ˜¯ wrapperï¼</span><br>buy_shoe()<br></code></pre></td></tr></table></figure><h2 id="å¸¦å‚æ•°å’Œè¿”å›å€¼"><a href="#å¸¦å‚æ•°å’Œè¿”å›å€¼" class="headerlink" title="å¸¦å‚æ•°å’Œè¿”å›å€¼"></a>å¸¦å‚æ•°å’Œè¿”å›å€¼</h2><p>ä¾‹å­è™½ç„¶ç®€å•ï¼Œä½†æœ‰ä¸¤ä¸ªè‡´å‘½çš„ç¼ºé™·ï¼š</p><ol><li><strong>ä¼ å‚é™åˆ¶</strong>ï¼šå¦‚æœåŸå‡½æ•°éœ€è¦å‚æ•°ï¼ˆæ¯”å¦‚ <code>buy_shoe(&quot;è€å…‹&quot;)</code>ï¼‰ï¼Œä¹‹å‰çš„ <code>wrapper()</code> æ²¡å®šä¹‰å‚æ•°ï¼Œä¸€è°ƒå°±æŠ¥é”™ã€‚</li><li><strong>åå™¬è¿”å›å€¼</strong>ï¼šå¦‚æœåŸå‡½æ•°æœ‰ <code>return</code>ï¼Œä¹‹å‰çš„ <code>wrapper()</code> æ²¡æœ‰æŠŠç»“æœè¿”å›å‡ºæ¥ï¼Œå¯¼è‡´å¤–ç•Œæ‹¿åˆ°çš„æ˜¯ <code>None</code>ã€‚</li></ol><p><strong>è£…é¥°å™¨çš„å†…éƒ¨å‡½æ•°æ ¼å¼è¦å’Œè¢«è£…é¥°çš„åŸå‡½æ•° ä¿æŒä¸€è‡´,å³: åŸå‡½æ•°æ˜¯æ— å‚æ— è¿”å›çš„, åˆ™è£…é¥°å™¨çš„å†…éƒ¨å‡½æ•°ä¹Ÿå¿…é¡»æ˜¯æ— å‚æ— è¿”å›çš„.åŸå‡½æ•°æœ‰å‚æœ‰è¿”å›çš„, åˆ™è£…é¥°å™¨çš„å†…éƒ¨å‡½æ•°ä¹Ÿå¿…é¡»æ˜¯æœ‰å‚æœ‰è¿”å›çš„.</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">my_decorator</span>(<span class="hljs-params">func</span>):<br>    <span class="hljs-comment"># 1. ã€ä¸‡èƒ½å‚æ•°ã€‘ï¼š*args, **kwargs</span><br>    <span class="hljs-comment"># ä¸ç®¡åŸå‡½æ•°ä¼ ä»€ä¹ˆå‚æ•°ï¼ˆä¸€ä¸ªã€ä¸¤ä¸ªã€å…³é”®å­—å‚æ•°ï¼‰ï¼Œæˆ‘å…¨éƒ½èƒ½æ¥ä½</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>(<span class="hljs-params">*args, **kwargs</span>):<br>        <br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; [è£…é¥°å™¨] æ­£åœ¨è¿›è¡Œæƒé™æ ¸å¯¹...&quot;</span>)<br>        <br>        <span class="hljs-comment"># 2. ã€è°ƒç”¨åŸå‡½æ•°ã€‘å¹¶ã€æ¥æ”¶è¿”å›å€¼ã€‘</span><br>        <span class="hljs-comment"># æŠŠåˆšæ‰æ¥ä½çš„å‚æ•°ï¼ŒåŸå°ä¸åŠ¨åœ°ä¼ ç»™åŸå‡½æ•°</span><br>        result = func(*args, **kwargs)<br>        <br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; [è£…é¥°å™¨] æ ¸å¯¹å®Œæ¯•ï¼Œæ”¾è¡Œã€‚&quot;</span>)<br>        <br>        <span class="hljs-comment"># 3. ã€è¿”å›ç»“æœã€‘</span><br>        <span class="hljs-comment"># è¿™ä¸€æ­¥å¦‚æœä¸å†™ï¼Œå¤–ç•Œæ‹¿åˆ°çš„å°±æ˜¯ None</span><br>        <span class="hljs-keyword">return</span> result<br>        <br>    <span class="hljs-keyword">return</span> wrapper<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åœºæ™¯ Aï¼šæœ‰å‚æ•°ï¼Œæ— è¿”å›å€¼</span><br><span class="hljs-meta">@my_decorator</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">eat</span>(<span class="hljs-params">food, drink</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;æ­£åœ¨åƒ<span class="hljs-subst">&#123;food&#125;</span>ï¼Œå–<span class="hljs-subst">&#123;drink&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># åœºæ™¯ Bï¼šæœ‰å‚æ•°ï¼Œæœ‰è¿”å›å€¼</span><br><span class="hljs-meta">@my_decorator</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">calculate_sum</span>(<span class="hljs-params">a, b</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ­£åœ¨åŠªåŠ›è®¡ç®—ä¸­...&quot;</span>)<br>    <span class="hljs-keyword">return</span> a + b<br><br><span class="hljs-comment"># --- æµ‹è¯• ---</span><br><br><span class="hljs-comment"># 1. æµ‹è¯• eat (ä¸¤ä¸ªå‚æ•°)</span><br>eat(<span class="hljs-string">&quot;ç«é”…&quot;</span>, <span class="hljs-string">&quot;å¯ä¹&quot;</span>)<br><span class="hljs-comment"># è¾“å‡ºï¼š</span><br><span class="hljs-comment"># &gt;&gt;&gt; [è£…é¥°å™¨] æ­£åœ¨è¿›è¡Œæƒé™æ ¸å¯¹...</span><br><span class="hljs-comment"># æ­£åœ¨åƒç«é”…ï¼Œå–å¯ä¹</span><br><span class="hljs-comment"># &gt;&gt;&gt; [è£…é¥°å™¨] æ ¸å¯¹å®Œæ¯•ï¼Œæ”¾è¡Œã€‚</span><br><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-&quot;</span> * <span class="hljs-number">20</span>)<br><br><span class="hljs-comment"># 2. æµ‹è¯• calculate_sum (æœ‰è¿”å›å€¼)</span><br>res = calculate_sum(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;è®¡ç®—ç»“æœæ˜¯: <span class="hljs-subst">&#123;res&#125;</span>&quot;</span>)<br><span class="hljs-comment"># è¾“å‡ºï¼š</span><br><span class="hljs-comment"># &gt;&gt;&gt; [è£…é¥°å™¨] æ­£åœ¨è¿›è¡Œæƒé™æ ¸å¯¹...</span><br><span class="hljs-comment"># æ­£åœ¨åŠªåŠ›è®¡ç®—ä¸­...</span><br><span class="hljs-comment"># &gt;&gt;&gt; [è£…é¥°å™¨] æ ¸å¯¹å®Œæ¯•ï¼Œæ”¾è¡Œã€‚</span><br><span class="hljs-comment"># è®¡ç®—ç»“æœæ˜¯: 30  &lt;-- å¦‚æœ wrapper æ²¡å†™ returnï¼Œè¿™é‡Œå°±æ˜¯ None</span><br></code></pre></td></tr></table></figure><p><strong>argså’Œkwargs<code>å°±åƒæ˜¯ä¸€ä¸ªå¼¹æ€§æ”¶çº³è¢‹ï¼Œæ— è®ºæ‰”è¿›æ¥å¤šå°‘ä¸ªå‚æ•°ï¼Œwrapper éƒ½èƒ½æ”¶ä¸‹ï¼Œç„¶åå†åŸå°ä¸åŠ¨åœ°ä¼ é€’ç»™</code>func</strong></p><p>ä¸‡èƒ½å…¬å¼ &#x3D; é—­åŒ… + <code>*args/**kwargs</code> + <code>return</code></p><h2 id="å¸¦å‚æ•°çš„è£…é¥°å™¨"><a href="#å¸¦å‚æ•°çš„è£…é¥°å™¨" class="headerlink" title="å¸¦å‚æ•°çš„è£…é¥°å™¨"></a>å¸¦å‚æ•°çš„è£…é¥°å™¨</h2><p>è¦åœ¨è£…é¥°å™¨é‡Œä¼ å‚æ•°ï¼Œéœ€è¦åœ¨åŸæœ¬çš„è£…é¥°å™¨å¤–é¢ï¼Œ<strong>å†åŒ…ä¸€å±‚å‡½æ•°</strong>ã€‚</p><ul><li><strong>ç¬¬ä¸€å±‚ (æœ€å¤–é¢)</strong>ï¼šè´Ÿè´£æ¥æ”¶<strong>è£…é¥°å™¨çš„å‚æ•°</strong>ï¼ˆæ¯”å¦‚ â€œERRORâ€ï¼‰ã€‚ç®¡å®ƒå«â€œè£…é¥°å™¨å·¥å‚â€ã€‚</li><li><strong>ç¬¬äºŒå±‚ (ä¸­é—´å±‚)</strong>ï¼šè´Ÿè´£æ¥æ”¶<strong>è¢«ä¿®é¥°çš„å‡½æ•°</strong>ï¼ˆ<code>func</code>ï¼‰ã€‚è¿™æ‰æ˜¯çœŸæ­£çš„è£…é¥°å™¨ã€‚</li><li><strong>ç¬¬ä¸‰å±‚ (æœ€é‡Œé¢)</strong>ï¼šè´Ÿè´£æ¥æ”¶<strong>å‡½æ•°çš„å‚æ•°</strong>ï¼ˆ<code>*args</code>ï¼‰ã€‚è¿™æ˜¯å…·ä½“çš„å¹²æ´»é€»è¾‘ï¼ˆWrapperï¼‰ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># --- ç¬¬ä¸€å±‚ï¼šå·¥å‚å±‚ (è´Ÿè´£æ¥æ”¶ level å‚æ•°) ---</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">logger</span>(<span class="hljs-params">level</span>):<br>    <br>    <span class="hljs-comment"># --- ç¬¬äºŒå±‚ï¼šè£…é¥°å™¨å±‚ (è´Ÿè´£æ¥æ”¶ func) ---</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">decorator</span>(<span class="hljs-params">func</span>):<br>        <br>        <span class="hljs-comment"># --- ç¬¬ä¸‰å±‚ï¼šWrapperå±‚ (è´Ÿè´£æ¥æ”¶ func çš„å‚æ•°) ---</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>(<span class="hljs-params">*args, **kwargs</span>):<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;[<span class="hljs-subst">&#123;level&#125;</span>] æ­£åœ¨å¯åŠ¨åŠŸèƒ½...&quot;</span>) <span class="hljs-comment"># è¿™é‡Œç”¨åˆ°äº†ç¬¬ä¸€å±‚çš„å˜é‡</span><br>            <br>            <span class="hljs-comment"># è°ƒç”¨åŸå‡½æ•°</span><br>            result = func(*args, **kwargs)<br>            <br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;[<span class="hljs-subst">&#123;level&#125;</span>] æ‰§è¡Œç»“æŸã€‚&quot;</span>)<br>            <span class="hljs-keyword">return</span> result<br>        <br>        <span class="hljs-keyword">return</span> wrapper <span class="hljs-comment"># è¿”å›ç¬¬ä¸‰å±‚</span><br>    <br>    <span class="hljs-keyword">return</span> decorator <span class="hljs-comment"># è¿”å›ç¬¬äºŒå±‚</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åœºæ™¯ 1ï¼šæ™®é€šæ“ä½œ</span><br><span class="hljs-meta">@logger(<span class="hljs-params">level=<span class="hljs-string">&quot;INFO&quot;</span></span>) </span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">open_page</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‰“å¼€ç½‘é¡µ...&quot;</span>)<br><br><span class="hljs-comment"># åœºæ™¯ 2ï¼šå±é™©æ“ä½œ</span><br><span class="hljs-meta">@logger(<span class="hljs-params">level=<span class="hljs-string">&quot;DANGER&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">delete_db</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åˆ åº“è·‘è·¯...&quot;</span>)<br><br><span class="hljs-comment"># --- è¿è¡Œ ---</span><br>open_page()<br><span class="hljs-comment"># è¾“å‡ºï¼š</span><br><span class="hljs-comment"># [INFO] æ­£åœ¨å¯åŠ¨åŠŸèƒ½...</span><br><span class="hljs-comment"># æ‰“å¼€ç½‘é¡µ...</span><br><br>delete_db()<br><span class="hljs-comment"># è¾“å‡ºï¼š</span><br><span class="hljs-comment"># [DANGER] æ­£åœ¨å¯åŠ¨åŠŸèƒ½...</span><br><span class="hljs-comment"># åˆ åº“è·‘è·¯...</span><br></code></pre></td></tr></table></figure><p><strong>FastAPI</strong> å’Œ <strong>Django</strong> ä¸­:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">&quot;/users&quot;</span></span>)  </span><span class="hljs-comment"># ä¼ äº†å‚æ•° &quot;/users&quot;</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_users</span>(): ...<br></code></pre></td></tr></table></figure><p>è¿™é‡Œ <code>@app.get</code> å°±æ˜¯ä¸€ä¸ªå¸¦å‚æ•°çš„è£…é¥°å™¨ï¼Œå®ƒè®°å½•äº† URL è·¯å¾„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@permission_required(<span class="hljs-params"><span class="hljs-string">&quot;admin&quot;</span></span>) </span><span class="hljs-comment"># ä¼ äº†å‚æ•° &quot;admin&quot;</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">delete_user</span>(): ...<br></code></pre></td></tr></table></figure><h2 id="functools-wraps"><a href="#functools-wraps" class="headerlink" title="functools.wraps"></a>functools.wraps</h2><p>ç”¨äº†è£…é¥°å™¨åï¼ŒåŸå‡½æ•°çš„åå­—ï¼ˆ<code>__name__</code>ï¼‰ä¼šå˜æˆ <code>wrapper</code>ï¼Œè¿™åœ¨è°ƒè¯•æ—¶å¾ˆä¸æ–¹ä¾¿</p><p>å…ˆçœ‹æ²¡æœ‰ <code>wraps</code> æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">my_decorator</span>(<span class="hljs-params">func</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>():<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‰§è¡Œè£…é¥°é€»è¾‘...&quot;</span>)<br>        func()<br>    <span class="hljs-keyword">return</span> wrapper<br><br><span class="hljs-meta">@my_decorator</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;è¿™æ˜¯ç™»å½•ç³»ç»Ÿçš„æ ¸å¿ƒå‡½æ•°&quot;&quot;&quot;</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ç™»å½•æˆåŠŸï¼&quot;</span>)<br><br><span class="hljs-comment"># --- è§è¯â€œèº«ä»½è¢«çªƒâ€ ---</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å‡½æ•°çš„åå­—æ˜¯: <span class="hljs-subst">&#123;login.__name__&#125;</span>&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å‡½æ•°çš„è¯´æ˜æ˜¯: <span class="hljs-subst">&#123;login.__doc__&#125;</span>&quot;</span>)<br><br><br><span class="hljs-comment"># å‡½æ•°çš„åå­—æ˜¯: wrapper   &lt;-- ç³Ÿç³•ï¼åŸæœ¬å« loginï¼Œç°åœ¨å˜æˆ wrapper äº†</span><br><span class="hljs-comment"># å‡½æ•°çš„è¯´æ˜æ˜¯: None      &lt;-- ç³Ÿç³•ï¼åŸæœ¬å†™çš„æ³¨é‡Šè¯´æ˜ä¹Ÿæ²¡äº†</span><br></code></pre></td></tr></table></figure><p><strong>ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ</strong> å› ä¸º <code>login = my_decorator(login)</code>ï¼Œç°åœ¨çš„ <code>login</code> å˜é‡å®é™…ä¸ŠæŒ‡å‘çš„æ˜¯é‚£ä¸ªå†…éƒ¨å‡½æ•° <code>wrapper</code>ã€‚æ‰€ä»¥ä½ æ‰“å°çš„è‡ªç„¶æ˜¯ <code>wrapper</code> çš„åå­—ã€‚</p><p>Python æ ‡å‡†åº“æä¾›äº†ä¸€ä¸ªç¥å™¨ <code>@functools.wraps</code>ã€‚å®ƒçš„ä½œç”¨æ˜¯ï¼š<strong>è‡ªåŠ¨æŠŠåŸå‡½æ•°ï¼ˆfuncï¼‰çš„å…ƒæ•°æ®ï¼ˆåå­—ã€æ³¨é‡Šæ–‡æ¡£ç­‰ï¼‰æ‹·è´ç»™ wrapperã€‚</strong></p><p>è¿™å°±æ˜¯æ‰€è°“çš„â€œä¼ªè£…â€ï¼šè®© wrapper çœ‹èµ·æ¥è·ŸåŸå‡½æ•°ä¸€æ¨¡ä¸€æ ·ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> functools  <span class="hljs-comment"># 1. å¯¼å…¥æ¨¡å—</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">my_decorator</span>(<span class="hljs-params">func</span>):<br>    <br>    <span class="hljs-comment"># 2. ã€å…³é”®ã€‘åœ¨å®šä¹‰ wrapper ä¹‹å‰ï¼ŒåŠ ä¸Šè¿™è¡Œä»£ç </span><br>    <span class="hljs-comment"># æ„æ€æ˜¯ï¼šæŠŠ func çš„èº«ä»½è¯ä¿¡æ¯è´´åˆ° wrapper è„‘é—¨ä¸Š</span><br><span class="hljs-meta">    @functools.wraps(<span class="hljs-params">func</span>) </span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>():<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‰§è¡Œè£…é¥°é€»è¾‘...&quot;</span>)<br>        func()<br>        <br>    <span class="hljs-keyword">return</span> wrapper<br><br><span class="hljs-meta">@my_decorator</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;è¿™æ˜¯ç™»å½•ç³»ç»Ÿçš„æ ¸å¿ƒå‡½æ•°&quot;&quot;&quot;</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ç™»å½•æˆåŠŸï¼&quot;</span>)<br><br><span class="hljs-comment"># --- å†æ¬¡æŸ¥éªŒèº«ä»½ ---</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å‡½æ•°çš„åå­—æ˜¯: <span class="hljs-subst">&#123;login.__name__&#125;</span>&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å‡½æ•°çš„è¯´æ˜æ˜¯: <span class="hljs-subst">&#123;login.__doc__&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># å‡½æ•°çš„åå­—æ˜¯: login</span><br><span class="hljs-comment"># å‡½æ•°çš„è¯´æ˜æ˜¯: è¿™æ˜¯ç™»å½•ç³»ç»Ÿçš„æ ¸å¿ƒå‡½æ•°</span><br></code></pre></td></tr></table></figure><p>ä¸ºä»€ä¹ˆè¿™å¾ˆå…³é”®ï¼Ÿ</p><p>åœ¨ç®€å•çš„è„šæœ¬é‡Œç¡®å®æ²¡å…³ç³»ï¼Œä½†åœ¨<strong>æ¡†æ¶å¼€å‘</strong>ä¸­è¿™æ˜¯è‡´å‘½çš„ï¼š</p><ol><li><strong>FastAPI &#x2F; Django ç”Ÿæˆæ–‡æ¡£</strong>ï¼š<ul><li>FastAPI ä¼šè‡ªåŠ¨è¯»å–å‡½æ•°åå’Œ docstring æ¥ç”Ÿæˆ Swagger æ¥å£æ–‡æ¡£ã€‚</li><li>å¦‚æœä½ ç”¨äº†è£…é¥°å™¨ä½†æ²¡åŠ  <code>wraps</code>ï¼ŒFastAPI çœ‹åˆ°çš„å‡½æ•°å…¨å« <code>wrapper</code>ï¼Œæ–‡æ¡£é‡Œçš„æ¥å£è¯´æ˜ä¹Ÿä¼šå…¨éƒ½å˜æˆç©ºç™½ã€‚API æ–‡æ¡£ç¬é—´å°±åºŸäº†ã€‚</li></ul></li><li><strong>è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶</strong>ï¼š<ul><li>åœ¨ Pytest æˆ– Unittest ä¸­ï¼Œæµ‹è¯•æŠ¥å‘Šé€šå¸¸ä¼šæ˜¾ç¤ºâ€œæ­£åœ¨æ‰§è¡Œ xxxx ç”¨ä¾‹â€ã€‚</li><li>å¦‚æœä¸åŠ  <code>wraps</code>ï¼Œæµ‹è¯•æŠ¥å‘Šé‡Œå¯èƒ½ä¼šæ˜¾ç¤ºâ€œæ­£åœ¨æ‰§è¡Œ wrapperâ€ï¼Œæ ¹æœ¬ä¸çŸ¥é“å´©çš„æ˜¯å“ªä¸ªç”¨ä¾‹ã€‚</li></ul></li></ol><hr><h1 id="æ‹·è´"><a href="#æ‹·è´" class="headerlink" title="æ‹·è´"></a>æ‹·è´</h1><h2 id="æ™®é€šèµ‹å€¼"><a href="#æ™®é€šèµ‹å€¼" class="headerlink" title="æ™®é€šèµ‹å€¼"></a>æ™®é€šèµ‹å€¼</h2><p>èµ‹å€¼æ“ä½œï¼ˆ<code>=</code>ï¼‰æ°¸è¿œåªæ˜¯å¤åˆ¶äº†å¯¹è±¡çš„å¼•ç”¨ï¼ˆå†…å­˜åœ°å€ï¼‰ï¼Œè€Œæ²¡æœ‰å¤åˆ¶å¯¹è±¡æœ¬èº«,å³ä»…ä»…æ˜¯å¤šäº†ä¸€ä¸ªæŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€çš„æŒ‡é’ˆ</p><img src="/2025/12/10/Python%E8%BF%9B%E9%98%B6/image2.png" class="" title="æ™®é€šèµ‹å€¼"><h2 id="æµ…æ‹·è´"><a href="#æµ…æ‹·è´" class="headerlink" title="æµ…æ‹·è´"></a>æµ…æ‹·è´</h2><h3 id="æµ…æ‹·è´å¯å˜ç±»å‹"><a href="#æµ…æ‹·è´å¯å˜ç±»å‹" class="headerlink" title="æµ…æ‹·è´å¯å˜ç±»å‹"></a>æµ…æ‹·è´å¯å˜ç±»å‹</h3><img src="/2025/12/10/Python%E8%BF%9B%E9%98%B6/image3.png" class="" title="æµ…æ‹·è´å¯å˜ç±»å‹"><p>å¯ä»¥æ¸…æ™°åœ°çœ‹å‡ºï¼Œæµ…æ‹·è´æ‹·è´å¯å˜ç±»å‹ï¼Œåªæ‹·è´ç¬¬ä¸€å±‚</p><h3 id="æµ…æ‹·è´ä¸å¯å˜ç±»å‹"><a href="#æµ…æ‹·è´ä¸å¯å˜ç±»å‹" class="headerlink" title="æµ…æ‹·è´ä¸å¯å˜ç±»å‹"></a>æµ…æ‹·è´ä¸å¯å˜ç±»å‹</h3><img src="/2025/12/10/Python%E8%BF%9B%E9%98%B6/image4.png" class="" title="æµ…æ‹·è´ä¸å¯å˜ç±»å‹"><p>å¯¹äºâ€œä¸å¯å˜ç±»å‹â€ï¼ˆå¦‚å…ƒç»„ tupleã€å­—ç¬¦ä¸² stringã€æ•°å­— numberï¼‰ï¼Œæµ…æ‹·è´ï¼ˆcopyï¼‰ç­‰åŒäºèµ‹å€¼ï¼ˆ&#x3D;ï¼‰ï¼Œæ ¹æœ¬ä¸ä¼šåˆ›å»ºæ–°å¯¹è±¡ï¼</p><h2 id="æ·±æ‹·è´"><a href="#æ·±æ‹·è´" class="headerlink" title="æ·±æ‹·è´"></a>æ·±æ‹·è´</h2><h3 id="æ·±æ‹·è´å¯å˜ç±»å‹"><a href="#æ·±æ‹·è´å¯å˜ç±»å‹" class="headerlink" title="æ·±æ‹·è´å¯å˜ç±»å‹"></a>æ·±æ‹·è´å¯å˜ç±»å‹</h3><img src="/2025/12/10/Python%E8%BF%9B%E9%98%B6/image5.png" class="" title="æ·±æ‹·è´å¯å˜ç±»å‹"><p>æ·±æ‹·è´æ‹·è´å¯å˜ç±»å‹ï¼Œåˆ™ä¼šæ‹·è´æ‰€æœ‰å¯å˜ç±»å‹çš„å±‚ã€‚</p><h3 id="æ·±æ‹·è´ä¸å¯å˜ç±»å‹"><a href="#æ·±æ‹·è´ä¸å¯å˜ç±»å‹" class="headerlink" title="æ·±æ‹·è´ä¸å¯å˜ç±»å‹"></a>æ·±æ‹·è´ä¸å¯å˜ç±»å‹</h3><img src="/2025/12/10/Python%E8%BF%9B%E9%98%B6/image6.png" class="" title="æ·±æ‹·è´ä¸å¯å˜ç±»å‹"><p>å¯¹äºâ€œä¸å¯å˜ç±»å‹â€ï¼ˆå¦‚å…ƒç»„ tupleã€å­—ç¬¦ä¸² stringã€æ•°å­— numberï¼‰ï¼Œæ·±æ‹·è´ï¼ˆdeepcopyï¼‰ç­‰åŒäºèµ‹å€¼ï¼ˆ&#x3D;ï¼‰ï¼Œæ ¹æœ¬ä¸ä¼šåˆ›å»ºæ–°å¯¹è±¡ï¼</p><hr><h1 id="ç½‘ç»œç¼–ç¨‹"><a href="#ç½‘ç»œç¼–ç¨‹" class="headerlink" title="ç½‘ç»œç¼–ç¨‹"></a>ç½‘ç»œç¼–ç¨‹</h1><h2 id="ç½‘ç»œç¼–ç¨‹åŸºç¡€"><a href="#ç½‘ç»œç¼–ç¨‹åŸºç¡€" class="headerlink" title="ç½‘ç»œç¼–ç¨‹åŸºç¡€"></a>ç½‘ç»œç¼–ç¨‹åŸºç¡€</h2><p>ç®€å•æ¥è¯´ï¼Œç½‘ç»œç¼–ç¨‹å°±æ˜¯è®©<strong>ä¸¤å°è®¡ç®—æœºï¼ˆæˆ–è€…åŒä¸€å°ç”µè„‘ä¸Šçš„ä¸¤ä¸ªç¨‹åºï¼‰äº’ç›¸è¯´è¯</strong>ã€‚ç½‘ç»œç¼–ç¨‹å…¶å®å°±æ˜¯ï¼š<strong>IP å®šä½ç”µè„‘ + Port å®šä½ç¨‹åº + TCP&#x2F;UDP å®šä½è§„åˆ™</strong>ã€‚</p><p>ä¸ºäº†å®ç°â€œè¯´è¯â€ï¼Œå¿…é¡»è§£å†³ä¸‰ä¸ªæ ¸å¿ƒé—®é¢˜ï¼š</p><ol><li><strong>æ‰¾äºº</strong>ï¼šå»å“ªé‡Œæ‰¾å¯¹æ–¹ï¼Ÿï¼ˆIP åœ°å€ï¼‰</li><li><strong>æ‰¾é—¨</strong>ï¼šæ‰¾åˆ°ç”µè„‘åï¼Œè·Ÿå“ªä¸ªè½¯ä»¶è¯´è¯ï¼Ÿï¼ˆç«¯å£å· Portï¼‰</li><li><strong>æ€ä¹ˆè¯´</strong>ï¼šç”¨ä»€ä¹ˆè§„åˆ™äº¤æµï¼Ÿï¼ˆåè®® Protocolï¼‰</li></ol><hr><h3 id="1-æ‰¾äººï¼šIP-åœ°å€-IP-Address"><a href="#1-æ‰¾äººï¼šIP-åœ°å€-IP-Address" class="headerlink" title="1. æ‰¾äººï¼šIP åœ°å€ (IP Address)"></a>1. æ‰¾äººï¼šIP åœ°å€ (IP Address)</h3><p>IP åœ°å€å°±æ˜¯è®¡ç®—æœºåœ¨ç½‘ç»œä¸–ç•Œçš„**â€œé—¨ç‰Œå·â€**ã€‚</p><ul><li><strong>å…¬ç½‘ IP</strong>ï¼šæ¯”å¦‚ç™¾åº¦çš„ IPï¼Œå…¨ä¸–ç•Œéƒ½èƒ½è®¿é—®ã€‚</li><li><strong>å±€åŸŸç½‘ IP</strong>ï¼šæ¯”å¦‚ <code>192.168.1.5</code>ï¼Œåªæœ‰ä½ å®¶è·¯ç”±å™¨ä¸‹é¢çš„è®¾å¤‡èƒ½äº’è®¿ã€‚</li><li><strong>æœ¬æœº IP</strong>ï¼š<code>127.0.0.1</code>ï¼ˆæœ‰ä¸ªåˆ«åå« <code>localhost</code>ï¼‰ï¼Œç‰¹æŒ‡â€œæˆ‘è‡ªå·±â€ã€‚åšæµ‹è¯•å¼€å‘æ—¶å…ˆåœ¨æœ¬åœ°éƒ¨ç½²æœåŠ¡ï¼Œç”¨çš„å°±æ˜¯è¿™ä¸ª IPã€‚</li></ul><hr><h3 id="2-æ‰¾é—¨ï¼šç«¯å£å·-Port"><a href="#2-æ‰¾é—¨ï¼šç«¯å£å·-Port" class="headerlink" title="2. æ‰¾é—¨ï¼šç«¯å£å· (Port)"></a>2. æ‰¾é—¨ï¼šç«¯å£å· (Port)</h3><p>æ‰¾åˆ°ç”µè„‘ï¼ˆIPï¼‰åï¼Œç”µè„‘é‡Œè¿è¡Œç€å‡ åä¸ªç¨‹åºï¼ˆå¾®ä¿¡ã€QQã€æµè§ˆå™¨ã€ä½ çš„æµ‹è¯•è„šæœ¬ï¼‰ã€‚æ¶ˆæ¯å‘ç»™è°å‘¢ï¼Ÿ</p><p>è¿™å°±éœ€è¦ç«¯å£å·ã€‚å®ƒå°±åƒæ˜¯è¿™æ ‹å¤§æ¥¼é‡Œçš„**â€œæˆ¿é—´å·â€**ã€‚</p><ul><li><strong>ç«¯å£èŒƒå›´</strong>ï¼š0 - 65535ã€‚</li><li><strong>çŸ¥åç«¯å£</strong>ï¼ˆä¸è¦å»å ç”¨ï¼‰ï¼š<ul><li><code>80</code>: ç½‘é¡µæµè§ˆ (HTTP)</li><li><code>443</code>: åŠ å¯†ç½‘é¡µ (HTTPS)</li><li><code>3306</code>: MySQL æ•°æ®åº“</li></ul></li><li><strong>åŠ¨æ€ç«¯å£</strong>ï¼šæˆ‘ä»¬å†™ç¨‹åºæ—¶ï¼Œä¸€èˆ¬ä½¿ç”¨ 1024 ä¹‹åçš„ç«¯å£ï¼ˆæ¯”å¦‚ 8000, 8080, 9999ï¼‰ï¼Œé¿å…å’Œç³»ç»Ÿå†²çªã€‚</li></ul><hr><h3 id="3-æ€ä¹ˆè¯´ï¼šé€šä¿¡åè®®-Protocol"><a href="#3-æ€ä¹ˆè¯´ï¼šé€šä¿¡åè®®-Protocol" class="headerlink" title="3. æ€ä¹ˆè¯´ï¼šé€šä¿¡åè®® (Protocol)"></a>3. æ€ä¹ˆè¯´ï¼šé€šä¿¡åè®® (Protocol)</h3><p>æ‰¾åˆ°äº†äººï¼Œä¹Ÿæ•²å¼€äº†é—¨ï¼Œæ¥ä¸‹æ¥æ€ä¹ˆäº¤æµï¼Ÿ</p><p>åœ¨ä¼ è¾“å±‚ï¼ˆTransport Layerï¼‰ï¼Œæœ€è‘—åçš„ä¸¤ä½â€œå¤§ä½¬â€æ˜¯ TCP å’Œ UDPã€‚å®ƒä»¬çš„æ€§æ ¼æˆªç„¶ä¸åŒï¼š</p><h4 id="A-TCP-åè®®-Transmission-Control-Protocol-â€”â€”-â€œæ‰“ç”µè¯â€"><a href="#A-TCP-åè®®-Transmission-Control-Protocol-â€”â€”-â€œæ‰“ç”µè¯â€" class="headerlink" title="A. TCP åè®® (Transmission Control Protocol) â€”â€” â€œæ‰“ç”µè¯â€"></a>A. TCP åè®® (Transmission Control Protocol) â€”â€” â€œæ‰“ç”µè¯â€</h4><ul><li><strong>æ€§æ ¼</strong>ï¼šä¸¥è°¨ã€é è°±ã€æ…¢çƒ­ã€‚</li><li><strong>ç‰¹ç‚¹</strong>ï¼š<strong>é¢å‘è¿æ¥</strong>ã€‚<ul><li>åœ¨å‘æ•°æ®å‰ï¼Œå¿…é¡»å…ˆå»ºç«‹è¿æ¥ï¼ˆè‘—åçš„<strong>ä¸‰æ¬¡æ¡æ‰‹</strong>ï¼‰ã€‚</li><li>å‘å‡ºå»çš„æ•°æ®ï¼Œå¯¹æ–¹å¿…é¡»ç¡®è®¤æ”¶åˆ°ï¼ˆACKï¼‰ã€‚å¦‚æœæ²¡æ”¶åˆ°ï¼Œæˆ‘ä¼šé‡å‘ã€‚</li><li>ä¿è¯æ•°æ®é¡ºåºä¸é”™ä¹±ã€‚</li></ul></li><li><strong>åº”ç”¨</strong>ï¼šç½‘é¡µè®¿é—® (HTTP)ã€æ–‡ä»¶ä¼ è¾“ã€é‚®ä»¶ã€æ¥å£è‡ªåŠ¨åŒ–ï¼ˆç»å¤§å¤šæ•°æ¥å£æµ‹è¯•æµ‹çš„éƒ½æ˜¯åŸºäº TCP çš„ HTTPï¼‰ã€‚</li></ul><h4 id="B-UDP-åè®®-User-Datagram-Protocol-â€”â€”-â€œå‘å¹¿æ’­-å¯„ä¿¡â€"><a href="#B-UDP-åè®®-User-Datagram-Protocol-â€”â€”-â€œå‘å¹¿æ’­-å¯„ä¿¡â€" class="headerlink" title="B. UDP åè®® (User Datagram Protocol) â€”â€” â€œå‘å¹¿æ’­&#x2F;å¯„ä¿¡â€"></a>B. UDP åè®® (User Datagram Protocol) â€”â€” â€œå‘å¹¿æ’­&#x2F;å¯„ä¿¡â€</h4><ul><li><strong>æ€§æ ¼</strong>ï¼šè±ªçˆ½ã€å¿«ã€ä¸è´Ÿè´£ä»»ã€‚</li><li><strong>ç‰¹ç‚¹</strong>ï¼š<strong>æ— è¿æ¥</strong>ã€‚<ul><li>æƒ³å‘å°±å‘ï¼Œä¸éœ€è¦å»ºç«‹è¿æ¥ã€‚</li><li>å‘å‡ºå»å°±ä¸ç®¡äº†ï¼Œå¯¹æ–¹æ”¶æ²¡æ”¶åˆ°æˆ‘ä¸çŸ¥é“ï¼Œä¹Ÿä¸é‡å‘ã€‚</li><li>å¯èƒ½ä¼šä¸¢åŒ…ï¼Œé¡ºåºå¯èƒ½ä¼šä¹±ã€‚</li></ul></li><li><strong>åº”ç”¨</strong>ï¼šè§†é¢‘ä¼šè®®ã€åœ¨çº¿ç›´æ’­ã€ç‹è€…è£è€€ï¼ˆå¡é¡¿ä¸€ä¸‹æ²¡å…³ç³»ï¼Œåªè¦å®æ—¶æ€§é«˜å°±è¡Œï¼‰ã€‚</li></ul><hr><h3 id="4-Python-çš„å·¥å…·ï¼šsocket"><a href="#4-Python-çš„å·¥å…·ï¼šsocket" class="headerlink" title="4. Python çš„å·¥å…·ï¼šsocket"></a>4. Python çš„å·¥å…·ï¼šsocket</h3><p>åœ¨ Python ä¸­ï¼Œå®ç°ç½‘ç»œç¼–ç¨‹ä¸»è¦é  socket (å¥—æ¥å­—) æ¨¡å—ã€‚</p><p>æŠŠ socket æƒ³è±¡æˆæ˜¯ä¸€ä¸ª**â€œç”µè¯æœºâ€**ã€‚</p><ul><li><strong>æœåŠ¡ç«¯ (Server)</strong>ï¼š<ol><li>ä¹°ä¸ªç”µè¯ (åˆ›å»º socket)ã€‚</li><li>æ’ä¸Šç”µè¯çº¿ï¼Œç»‘å®šå·ç  (bind IP &amp; Port)ã€‚</li><li>å®ˆåœ¨ç”µè¯æ—ç­‰é“ƒå£° (listen)ã€‚</li><li>æ¥ç”µè¯ (accept)ã€‚</li><li>è¯´è¯&#x2F;å¬è¯ (send&#x2F;recv)ã€‚</li></ol></li><li><strong>å®¢æˆ·ç«¯ (Client)</strong>ï¼š<ol><li>ä¹°ä¸ªç”µè¯ (åˆ›å»º socket)ã€‚</li><li>æ‹¨å· (connect IP &amp; Port)ã€‚</li><li>è¯´è¯&#x2F;å¬è¯ (send&#x2F;recv)ã€‚</li></ol></li></ul><hr><h2 id="ç½‘ç»œç¼–ç¨‹æ¡ˆä¾‹"><a href="#ç½‘ç»œç¼–ç¨‹æ¡ˆä¾‹" class="headerlink" title="ç½‘ç»œç¼–ç¨‹æ¡ˆä¾‹"></a>ç½‘ç»œç¼–ç¨‹æ¡ˆä¾‹</h2><img src="/2025/12/10/Python%E8%BF%9B%E9%98%B6/image7.png" class="" title="ç½‘ç»œç¼–ç¨‹"><p>è¿™å¼ å›¾æ˜¯ <strong>TCP ç½‘ç»œç¼–ç¨‹ä¸­æœ€ç»å…¸ã€æœ€æ ‡å‡†çš„æ ¸å¿ƒæµç¨‹å›¾</strong>ã€‚</p><hr><h3 id="1-å³ä¾§ï¼šTCP-æœåŠ¡å™¨-Server-â€”â€”-â€œå®¢æœä¸­å¿ƒâ€"><a href="#1-å³ä¾§ï¼šTCP-æœåŠ¡å™¨-Server-â€”â€”-â€œå®¢æœä¸­å¿ƒâ€" class="headerlink" title="1. å³ä¾§ï¼šTCP æœåŠ¡å™¨ (Server) â€”â€” â€œå®¢æœä¸­å¿ƒâ€"></a>1. å³ä¾§ï¼šTCP æœåŠ¡å™¨ (Server) â€”â€” â€œå®¢æœä¸­å¿ƒâ€</h3><p>æœåŠ¡å™¨å¿…é¡»å…ˆå¯åŠ¨ï¼Œååœ¨é‚£å„¿ç­‰ç€è¢«æ’©ã€‚</p><ol><li><strong>ä¹°ä¸ªæ‰‹æœº (<code>socket()</code>)</strong><ul><li>é¦–å…ˆéœ€è¦æœ‰ä¸€ä¸ªé€šä¿¡å·¥å…·ã€‚åœ¨ä»£ç ä¸­å°±æ˜¯åˆ›å»ºä¸€ä¸ªå¥—æ¥å­—å¯¹è±¡ã€‚</li></ul></li><li><strong>æ’å¡&#x2F;å®šå·ç  (<code>bind(IP, ç«¯å£å·)</code>)</strong><ul><li>æ‰‹æœºä¹°å¥½äº†ï¼Œä½ å¾—å‘Šè¯‰å¤§å®¶ä½ çš„å·ç æ˜¯å¤šå°‘ï¼ˆIPï¼‰ï¼Œä»¥åŠå¤§å®¶æ‰“è¿›æ¥æ‰¾å“ªä¸ªéƒ¨é—¨ï¼ˆç«¯å£å·ï¼Œæ¯”å¦‚ 8080ï¼‰ã€‚</li><li>å¦‚æœä¸ç»‘å®šï¼Œåˆ«äººæ ¹æœ¬æ‰¾ä¸åˆ°ä½ ã€‚</li></ul></li><li><strong>å¼€æœº&#x2F;è®¾ç½®æ’é˜Ÿ (<code>listen(æœ€å¤§ç›‘å¬æ•°)</code>)</strong><ul><li><strong>å¼€æœº</strong>ï¼šè®©ç«¯å£å¤„äºâ€œç›‘å¬çŠ¶æ€â€ï¼Œå‡†å¤‡æ¥å®¢ã€‚</li><li><strong>æœ€å¤§ç›‘å¬æ•°</strong>ï¼šç›¸å½“äºå®¢æœç³»ç»Ÿçš„â€œæ’é˜Ÿä¸Šé™â€ã€‚å¦‚æœåŒæ—¶æœ‰ 100 ä¸ªäººæ‰“è¿›æ¥ï¼Œä½†æˆ‘è®¾äº† 5ï¼Œé‚£ç¬¬ 6 ä¸ªäººå°±ä¼šå¬åˆ°â€œæ­£åœ¨é€šè¯ä¸­â€ã€‚</li></ul></li><li><strong>ç­‰å¾…æ¥å¬ (<code>accept()</code>) â€”â€” å…³é”®æ­¥éª¤ï¼</strong><ul><li>å›¾ä¸­æœ‰ä¸ªè“å­—è§£é‡Šéå¸¸é‡è¦ï¼š<strong>â€œç­‰å¾…ç›‘å¬ï¼Œä¼šè¿”å› 1 ä¸ªå…ƒç»„ (è´Ÿè´£å’Œå®¢æˆ·ç«¯äº¤äº’çš„ socket, å®¢æˆ·ç«¯ä¿¡æ¯)â€</strong>ã€‚</li><li><strong>é˜»å¡ (Blocking)</strong>ï¼šä»£ç è¿è¡Œåˆ°è¿™å„¿ä¼š<strong>åœä½</strong>ï¼ˆå¡ä½ï¼‰ï¼Œç›´åˆ°æœ‰ç”µè¯æ‰“è¿›æ¥ã€‚</li><li><strong>åˆ†èº«æœ¯</strong>ï¼šè¿™æ˜¯æ–°æ‰‹æœ€å®¹æ˜“æ™•çš„åœ°æ–¹ã€‚<code>accept</code> æ”¶åˆ°è¯·æ±‚åï¼Œä¼š<strong>ä¸“é—¨åˆ†é…ä¸€ä¸ªæ–°çš„åˆ†èº« socket</strong> å»è·Ÿè¿™ä¸ªå®¢æˆ·ä¸€å¯¹ä¸€èŠå¤©ã€‚åŸæ¥çš„ä¸» socket ç»§ç»­å›åˆ° <code>listen</code> çŠ¶æ€ç­‰ä¸‹ä¸€ä¸ªç”µè¯ã€‚</li></ul></li><li><strong>æ”¶å‘æ•°æ® (<code>recv() / send()</code>)</strong><ul><li>å›¾ä¸­çš„ç®­å¤´å±•ç¤ºäº†æ•°æ®çš„æµå‘ï¼šæœåŠ¡å™¨å…ˆæ¥æ”¶è¯·æ±‚ï¼Œå¤„ç†å®Œåï¼Œå†å‘é€å“åº”ã€‚</li></ul></li><li><strong>æŒ‚æ–­ (<code>close()</code>)</strong><ul><li>èŠå®Œäº†ï¼Œé‡Šæ”¾èµ„æºã€‚</li></ul></li></ol><hr><h3 id="2-å·¦ä¾§ï¼šTCP-å®¢æˆ·ç«¯-Client-â€”â€”-â€œæ‰“ç”µè¯çš„äººâ€"><a href="#2-å·¦ä¾§ï¼šTCP-å®¢æˆ·ç«¯-Client-â€”â€”-â€œæ‰“ç”µè¯çš„äººâ€" class="headerlink" title="2. å·¦ä¾§ï¼šTCP å®¢æˆ·ç«¯ (Client) â€”â€” â€œæ‰“ç”µè¯çš„äººâ€"></a>2. å·¦ä¾§ï¼šTCP å®¢æˆ·ç«¯ (Client) â€”â€” â€œæ‰“ç”µè¯çš„äººâ€</h3><p>å®¢æˆ·ç«¯å°±æ¯”è¾ƒä¸»åŠ¨äº†ã€‚</p><ol><li><strong>ä¹°ä¸ªæ‰‹æœº (<code>socket()</code>)</strong><ul><li>åŒæ ·å…ˆåˆ›å»ºä¸€ä¸ª socket å¯¹è±¡ã€‚</li></ul></li><li><strong>æ‹¨å· (<code>connect(IP, ç«¯å£å·)</code>)</strong><ul><li><strong>ä¸‰æ¬¡æ¡æ‰‹</strong>ï¼šä¹Ÿå°±æ˜¯å›¾ä¸­é—´å†™çš„â€œè¿æ¥å»ºç«‹â€ã€‚</li><li>è¿™ä¸€æ­¥å¦‚æœæˆåŠŸï¼Œå°±è¯´æ˜ç”µè¯é€šäº†ï¼›å¦‚æœå¤±è´¥ï¼ˆæ¯”å¦‚æœåŠ¡å™¨æ²¡å¼€ï¼‰ï¼Œç¨‹åºå°±ä¼šç›´æ¥æŠ¥é”™ <code>ConnectionRefusedError</code>ã€‚</li></ul></li><li><strong>å‘æ”¶æ•°æ® (<code>send() / recv()</code>)</strong><ul><li>æ³¨æ„ç®­å¤´æ–¹å‘ï¼šå®¢æˆ·ç«¯é€šå¸¸æ˜¯<strong>å…ˆè¯´è¯</strong>ï¼ˆå‘é€è¯·æ±‚ <code>send</code>ï¼‰ï¼Œç„¶å<strong>ç­‰ç€å¬</strong>ï¼ˆæ¥æ”¶å“åº” <code>recv</code>ï¼‰ã€‚</li></ul></li><li><strong>æŒ‚æ–­ (<code>close()</code>)</strong><ul><li>æ‰“å®Œæ”¶å·¥ã€‚</li></ul></li></ol><hr><h3 id="3-å›¾ä¸­çš„ä¸‰ä¸ªâ€œéšè—ç»†èŠ‚â€"><a href="#3-å›¾ä¸­çš„ä¸‰ä¸ªâ€œéšè—ç»†èŠ‚â€" class="headerlink" title="3. å›¾ä¸­çš„ä¸‰ä¸ªâ€œéšè—ç»†èŠ‚â€"></a>3. å›¾ä¸­çš„ä¸‰ä¸ªâ€œéšè—ç»†èŠ‚â€</h3><p>è¿™å¼ å›¾é‡Œæœ‰å‡ è¡Œä¸èµ·çœ¼çš„å°å­—ï¼Œä½†è¿™æ°æ°æ˜¯å†™ä»£ç æ—¶æœ€å®¹æ˜“è¸©å‘çš„åœ°æ–¹ï¼š</p><ol><li><strong>â€œäºŒè¿›åˆ¶ä¼ è¾“â€ (ç»¿è‰²å­—)</strong><ul><li>ç½‘ç»œä¸è®¤è¯†ä¸­æ–‡ï¼Œä¹Ÿä¸è®¤è¯†å­—ç¬¦ä¸²ã€‚</li><li><strong>æ½œå°è¯</strong>ï¼šä½ åœ¨ Python é‡Œ <code>send(&quot;ä½ å¥½&quot;)</code> æ˜¯ä¼šæŠ¥é”™çš„ï¼å¿…é¡» <code>send(&quot;ä½ å¥½&quot;.encode(&quot;utf-8&quot;))</code>ï¼ŒæŠŠå®ƒå˜æˆ <code>bytes</code> ç±»å‹æ‰èƒ½ä¼ ã€‚</li></ul></li><li><strong>â€œä¸€ç›´é˜»å¡åˆ°å®¢æˆ·è¿æ¥åˆ°è¾¾â€</strong><ul><li>è¿™å°±æ˜¯ <code>accept()</code> çš„ç‰¹æ€§ã€‚å¦‚æœæ²¡äººè¿ä½ ï¼Œä½ çš„ç¨‹åºå°±ä¼šåƒæ­»æœºä¸€æ ·åœåœ¨é‚£ä¸€è¡Œä¸åŠ¨ã€‚</li></ul></li><li><strong>äº¤äº’é€»è¾‘ (<code>send</code> å¯¹ <code>recv</code>)</strong><ul><li>çœ‹å›¾ä¸­é—´çš„æ¨ªå‘ç®­å¤´ï¼š<ul><li>å®¢æˆ·ç«¯çš„ <code>send()</code> æ•°æ®æµå‘ -&gt; æœåŠ¡å™¨çš„ <code>recv()</code>ã€‚</li><li>æœåŠ¡å™¨çš„ <code>send()</code> æ•°æ®æµå‘ -&gt; å®¢æˆ·ç«¯çš„ <code>recv()</code>ã€‚</li></ul></li><li>å¦‚æœä¸¤è¾¹åŒæ—¶å†™ <code>recv()</code>ï¼Œå°±ä¼šå‘ç”Ÿ<strong>æ­»é”</strong>ï¼ˆä¿©äººéƒ½åœ¨ç­‰å¯¹æ–¹å…ˆè¯´è¯ï¼Œç»“æœè°ä¹Ÿä¸ç†è°ï¼‰ã€‚</li></ul></li></ol><hr><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>è¿™å¼ å›¾å°±æ˜¯ TCP ä»£ç çš„<strong>éª¨æ¶</strong>ã€‚</p><ul><li><strong>Server</strong>: <code>socket</code> -&gt; <code>bind</code> -&gt; <code>listen</code> -&gt; <code>accept</code> (å¾ªç¯) -&gt; <code>recv/send</code> -&gt; <code>close</code></li><li><strong>Client</strong>: <code>socket</code> -&gt; <code>connect</code> -&gt; <code>send/recv</code> -&gt; <code>close</code></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> socket<br><br><span class="hljs-comment"># 1. ä¹°ä¸ªæ‰‹æœº (åˆ›å»º socket å¯¹è±¡)</span><br><span class="hljs-comment"># AF_INET: ä½¿ç”¨ IPv4</span><br><span class="hljs-comment"># SOCK_STREAM: ä½¿ç”¨ TCP åè®®</span><br>server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)<br><br><span class="hljs-comment"># 2. æ’å¡ (ç»‘å®š IP å’Œ ç«¯å£)</span><br><span class="hljs-comment"># &#x27;127.0.0.1&#x27; ä»£è¡¨æœ¬æœº</span><br>server_socket.bind((<span class="hljs-string">&#x27;127.0.0.1&#x27;</span>, <span class="hljs-number">8080</span>))<br><br><span class="hljs-comment"># 3. å¼€æœº (ç›‘å¬)</span><br>server_socket.listen(<span class="hljs-number">5</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; å®¢æœä¸­å¿ƒå·²å¯åŠ¨ï¼Œæ­£åœ¨ç­‰å¾…å®¢æˆ·ç”µè¯...&quot;</span>)<br><br><span class="hljs-comment"># 4. ç­‰å¾…æ¥å¬ (accept) -- ç¨‹åºä¼šå¡åœ¨è¿™é‡Œç›´åˆ°æœ‰äººè¿æ¥</span><br><span class="hljs-comment"># client_sock: ä¸“é—¨è´Ÿè´£è·Ÿè¿™ä¸ªå®¢æˆ·èŠå¤©çš„åˆ†èº« socket</span><br><span class="hljs-comment"># addr: å®¢æˆ·çš„ IP åœ°å€</span><br>client_sock, addr = server_socket.accept()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;&gt;&gt;&gt; ç”µè¯é€šäº†ï¼å®¢æˆ·åœ°å€: <span class="hljs-subst">&#123;addr&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># 5. æ¥æ”¶æ¶ˆæ¯ (recv) -- å¯¹åº”å›¾ä¸­çš„ç¬¬ä¸€å¯¹ send/recv</span><br><span class="hljs-comment"># æ³¨æ„ï¼šç½‘ç»œä¼ è¾“å¿…é¡»ç”¨ bytesï¼Œæ‰€ä»¥è¦ decode è§£ç </span><br>data = client_sock.recv(<span class="hljs-number">1024</span>) <br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;æ”¶åˆ°å®¢æˆ·æ¶ˆæ¯: <span class="hljs-subst">&#123;data.decode(<span class="hljs-string">&#x27;utf-8&#x27;</span>)&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># 6. å‘é€å›å¤ (send) -- å¯¹åº”å›¾ä¸­çš„ç¬¬äºŒå¯¹ send/recv</span><br>msg = <span class="hljs-string">&quot;ä½ å¥½ï¼Œæˆ‘æ˜¯å®¢æœå°å†°ï¼Œå¾ˆé«˜å…´ä¸ºæ‚¨æœåŠ¡ï¼&quot;</span><br>client_sock.send(msg.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>)) <span class="hljs-comment"># å¿…é¡» encode è½¬æˆäºŒè¿›åˆ¶</span><br><br><span class="hljs-comment"># 7. æŒ‚æ–­</span><br>client_sock.close()<br>server_socket.close()<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> socket<br><br><span class="hljs-comment"># 1. ä¹°ä¸ªæ‰‹æœº</span><br>client_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)<br><br><span class="hljs-comment"># 2. æ‹¨å· (è¿æ¥æœåŠ¡å™¨)</span><br><span class="hljs-comment"># å¿…é¡»å’ŒæœåŠ¡å™¨çš„ IPã€ç«¯å£ä¸€è‡´</span><br>client_socket.connect((<span class="hljs-string">&#x27;127.0.0.1&#x27;</span>, <span class="hljs-number">8080</span>))<br><br><span class="hljs-comment"># 3. å…ˆè¯´è¯ (send)</span><br>msg = <span class="hljs-string">&quot;ä½ å¥½ï¼Œæˆ‘è¦æŸ¥ä½™é¢&quot;</span><br>client_socket.send(msg.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>))<br><br><span class="hljs-comment"># 4. ç­‰å›å¤ (recv)</span><br>data = client_socket.recv(<span class="hljs-number">1024</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;æ”¶åˆ°å®¢æœå›å¤: <span class="hljs-subst">&#123;data.decode(<span class="hljs-string">&#x27;utf-8&#x27;</span>)&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># 5. æŒ‚æ–­</span><br>client_socket.close()<br></code></pre></td></tr></table></figure><hr><h1 id="å¤šçº¿ç¨‹"><a href="#å¤šçº¿ç¨‹" class="headerlink" title="å¤šçº¿ç¨‹"></a>å¤šçº¿ç¨‹</h1><h2 id="å¤šçº¿ç¨‹åŸºç¡€"><a href="#å¤šçº¿ç¨‹åŸºç¡€" class="headerlink" title="å¤šçº¿ç¨‹åŸºç¡€"></a>å¤šçº¿ç¨‹åŸºç¡€</h2><h3 id="1-æ ¸å¿ƒæ¦‚å¿µï¼šè¿›ç¨‹-vs-çº¿ç¨‹"><a href="#1-æ ¸å¿ƒæ¦‚å¿µï¼šè¿›ç¨‹-vs-çº¿ç¨‹" class="headerlink" title="1. æ ¸å¿ƒæ¦‚å¿µï¼šè¿›ç¨‹ vs çº¿ç¨‹"></a>1. æ ¸å¿ƒæ¦‚å¿µï¼šè¿›ç¨‹ vs çº¿ç¨‹</h3><ul><li><strong>è¿›ç¨‹ (Process)</strong>ï¼š<ul><li><strong>å®šä¹‰</strong>ï¼šèµ„æºåˆ†é…çš„æœ€å°å•ä½ã€‚</li><li><strong>æ¯”å–»</strong>ï¼šä¸€ä¸ªç‹¬ç«‹è¿è¡Œçš„ <code>.exe</code> ç¨‹åºï¼Œæ¯”å¦‚ QQ</li><li><strong>ç‰¹ç‚¹</strong>ï¼šæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œäº’ä¸å¹²æ‰°ã€‚QQ å´©äº†ï¼Œä¸ä¼šå½±å“å¾®ä¿¡ã€‚</li><li><strong>å¼€é”€</strong>ï¼šåˆ›å»ºå’Œé”€æ¯éƒ½å¾ˆæ…¢ï¼Œåƒç›–å·¥å‚ä¸€æ ·è´¹åŠ²ã€‚</li></ul></li><li><strong>çº¿ç¨‹ (Thread)</strong>ï¼š<ul><li><strong>å®šä¹‰</strong>ï¼šCPU è°ƒåº¦çš„æœ€å°å•ä½ã€‚</li><li><strong>æ¯”å–»</strong>ï¼š<strong>å·¥å‚é‡Œçš„å·¥äºº</strong>ã€‚</li><li><strong>ç‰¹ç‚¹</strong>ï¼š<ul><li>ä¸€ä¸ªè¿›ç¨‹ï¼ˆå·¥å‚ï¼‰é‡Œè‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ï¼ˆè€æ¿è‡ªå·±å¹²æ´»ï¼‰ï¼Œä¹Ÿå¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼ˆé›‡äº† 10 ä¸ªå·¥äººï¼‰ã€‚</li><li><strong>å…±äº«èµ„æº</strong>ï¼šæ‰€æœ‰çº¿ç¨‹éƒ½åœ¨åŒä¸€ä¸ªå·¥å‚é‡Œï¼Œå…±ç”¨åŒä¸€ä¸ªé£Ÿå ‚ã€åŒä¸€ä¸ªå•æ‰€ï¼ˆå…±äº«å†…å­˜ï¼‰ã€‚è¿™å°±å¸¦æ¥äº†â€œäº‰æŠ¢èµ„æºâ€çš„é—®é¢˜</li></ul></li><li><strong>å¼€é”€</strong>ï¼šåˆ›å»ºéå¸¸å¿«ï¼Œåƒæ‹›ä¸ªä¸´æ—¶å·¥ä¸€æ ·ç®€å•ã€‚</li></ul></li></ul><hr><h3 id="2-ä¸²è¡Œã€å¹¶å‘ã€å¹¶è¡Œ"><a href="#2-ä¸²è¡Œã€å¹¶å‘ã€å¹¶è¡Œ" class="headerlink" title="2. ä¸²è¡Œã€å¹¶å‘ã€å¹¶è¡Œ"></a>2. ä¸²è¡Œã€å¹¶å‘ã€å¹¶è¡Œ</h3><ul><li><strong>ä¸²è¡Œ (Serial)</strong>ï¼š<ul><li><strong>æ¨¡å¼</strong>ï¼šä¸€ä¸ªä¸€ä¸ªæ¥ã€‚</li><li><strong>ä¾‹å­</strong>ï¼šä½ å»æ’é˜Ÿæ‰“é¥­ï¼Œå‰ä¸€ä¸ªäººæ²¡æ‰“å®Œï¼Œä½ åªèƒ½å¹²ç­‰ã€‚</li></ul></li><li><strong>å¹¶å‘ (Concurrency) â€”â€” Python å¤šçº¿ç¨‹ä¸»è¦å±äºè¿™ç§</strong>ï¼š<ul><li><strong>æ¨¡å¼</strong>ï¼š<strong>å‡è£…</strong>åŒæ—¶åœ¨åšã€‚å…¶å®æ˜¯ CPU åˆ‡æ¢å¾—å¤ªå¿«äº†ï¼Œè®©ä½ äº§ç”Ÿäº†é”™è§‰ã€‚</li><li><strong>ä¾‹å­</strong>ï¼šä½ ä¸€è¾¹åƒé¥­ä¸€è¾¹å›å¾®ä¿¡ã€‚å…¶å®ä½ ä¸èƒ½åŒæ—¶æŠŠé¥­é€è¿›å˜´é‡ŒåˆåŒæ—¶æ‰“å­—ã€‚ä½ æ˜¯â€œåƒä¸€å£é¥­ -&gt; æ”¾ä¸‹ç­·å­å›ä¸¤å¥ -&gt; å†åƒä¸€å£â€ã€‚å› ä¸ºåˆ‡æ¢é€Ÿåº¦æå¿«ï¼Œçœ‹èµ·æ¥åƒæ˜¯åŒæ—¶è¿›è¡Œçš„ã€‚</li></ul></li><li><strong>å¹¶è¡Œ (Parallelism)</strong>ï¼š<ul><li><strong>æ¨¡å¼</strong>ï¼š<strong>çœŸæ­£</strong>åŒæ—¶åœ¨åšã€‚</li><li><strong>ä¾‹å­</strong>ï¼šä½ ç”¨å·¦æ‰‹æ‹¿å‹ºå­å–æ±¤ï¼Œä½ æœ‹å‹ååœ¨å¯¹é¢ç”¨å³æ‰‹æ‹¿ç­·å­åƒé¢ã€‚ä½ ä¿©äº’ä¸å¹²æ‰°ï¼ŒçœŸæ­£çš„åŒæ—¶è¿›è¡Œï¼ˆè¿™é€šå¸¸éœ€è¦å¤šæ ¸ CPU æ”¯æŒï¼‰ã€‚</li></ul></li></ul><hr><h3 id="3-Python-å¤šçº¿ç¨‹çš„â€œé˜¿å–€ç‰æ–¯ä¹‹è¸µâ€ï¼šGIL-é”"><a href="#3-Python-å¤šçº¿ç¨‹çš„â€œé˜¿å–€ç‰æ–¯ä¹‹è¸µâ€ï¼šGIL-é”" class="headerlink" title="3. Python å¤šçº¿ç¨‹çš„â€œé˜¿å–€ç‰æ–¯ä¹‹è¸µâ€ï¼šGIL é”"></a>3. Python å¤šçº¿ç¨‹çš„â€œé˜¿å–€ç‰æ–¯ä¹‹è¸µâ€ï¼šGIL é”</h3><p>åœ¨ Python ä¸­è°ˆå¤šçº¿ç¨‹ï¼Œå¿…é¡»å¾—æ <strong>GIL (Global Interpreter Lockï¼Œå…¨å±€è§£é‡Šå™¨é”)</strong>ã€‚</p><ul><li><strong>ç°è±¡</strong>ï¼šå› ä¸ºæœ‰ GIL çš„å­˜åœ¨ï¼ŒPython çš„å¤šçº¿ç¨‹åœ¨<strong>åŒä¸€æ—¶åˆ»ï¼Œåªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨ CPU ä¸Šè¿è¡Œ</strong>ã€‚</li><li><strong>åæœ</strong>ï¼š<ul><li>Python çš„å¤šçº¿ç¨‹æ˜¯ <strong>â€œä¼ªå¤šçº¿ç¨‹â€</strong>ï¼ˆé’ˆå¯¹ CPU å¯†é›†å‹ä»»åŠ¡ï¼‰ã€‚å“ªæ€•ä½ æ˜¯ 8 æ ¸ CPUï¼ŒPython å¤šçº¿ç¨‹ä¹Ÿåªèƒ½ç”¨ 1 ä¸ªæ ¸ã€‚</li></ul></li><li><strong>é‚£å¤šçº¿ç¨‹è¿˜æœ‰ç”¨å—ï¼Ÿ</strong><ul><li><strong>éå¸¸æœ‰ç”¨ï¼</strong> ä½†è¦åˆ†åœºæ™¯ï¼š</li><li><strong>è®¡ç®—å¯†é›†å‹ï¼ˆCPU Boundï¼‰</strong>ï¼šæ¯”å¦‚è§†é¢‘è§£ç ã€ç§‘å­¦è®¡ç®—ã€‚<strong>ï¼ˆPython å¤šçº¿ç¨‹æ²¡ç”¨ï¼Œåè€Œæ›´æ…¢ï¼Œå› ä¸ºè¦é¢‘ç¹åˆ‡æ¢ï¼‰</strong>ã€‚</li><li><strong>IO å¯†é›†å‹ï¼ˆIO Boundï¼‰</strong>ï¼šæ¯”å¦‚ <strong>çˆ¬è™«ã€æ¥å£è¯·æ±‚ã€è¯»å†™æ–‡ä»¶</strong>ã€‚<strong>ï¼ˆPython å¤šçº¿ç¨‹ç¥å™¨ï¼ï¼‰</strong><ul><li><strong>åŸå› </strong>ï¼šå½“çº¿ç¨‹ A å»è¯·æ±‚ç½‘ç»œï¼ˆIO æ“ä½œï¼‰æ—¶ï¼Œå®ƒå¤„äºâ€œç­‰å¾…â€çŠ¶æ€ï¼ˆä¸å  CPUï¼‰ï¼ŒPython ä¼šç«‹åˆ»é‡Šæ”¾ GIL é”ï¼Œè®©çº¿ç¨‹ B èµ¶ç´§å»å¹²æ´»ã€‚è¿™æ ·å°±åˆ©ç”¨äº†ç­‰å¾…çš„æ—¶é—´ã€‚</li></ul></li></ul></li></ul><hr><h2 id="å¤šçº¿ç¨‹ç¤ºä¾‹"><a href="#å¤šçº¿ç¨‹ç¤ºä¾‹" class="headerlink" title="å¤šçº¿ç¨‹ç¤ºä¾‹"></a>å¤šçº¿ç¨‹ç¤ºä¾‹</h2><img src="/2025/12/10/Python%E8%BF%9B%E9%98%B6/image8.png" class="" title="å¤šçº¿ç¨‹"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">download</span>(<span class="hljs-params">filename</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å¼€å§‹ä¸‹è½½: <span class="hljs-subst">&#123;filename&#125;</span>&quot;</span>)<br>    time.sleep(<span class="hljs-number">1</span>)  <span class="hljs-comment"># æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿï¼Œè€—æ—¶1ç§’</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ä¸‹è½½å®Œæˆ: <span class="hljs-subst">&#123;filename&#125;</span>&quot;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main_single</span>():<br>    start_time = time.time()<br>    <br>    <span class="hljs-comment"># ä¾æ¬¡è°ƒç”¨ 5 æ¬¡</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>):<br>        download(<span class="hljs-string">f&quot;å›¾ç‰‡_<span class="hljs-subst">&#123;i+<span class="hljs-number">1</span>&#125;</span>.jpg&quot;</span>)<br>        <br>    end_time = time.time()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;\n[å•çº¿ç¨‹] æ€»è€—æ—¶: <span class="hljs-subst">&#123;end_time - start_time:<span class="hljs-number">.2</span>f&#125;</span> ç§’&quot;</span>)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    main_single()<br>    <br>    <br><span class="hljs-comment"># å¼€å§‹ä¸‹è½½: å›¾ç‰‡_1.jpg</span><br><span class="hljs-comment"># ... (ç­‰1ç§’)</span><br><span class="hljs-comment"># ä¸‹è½½å®Œæˆ: å›¾ç‰‡_1.jpg</span><br><span class="hljs-comment"># ...</span><br><span class="hljs-comment"># [å•çº¿ç¨‹] æ€»è€—æ—¶: 5.02 ç§’</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">import</span> threading<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">download</span>(<span class="hljs-params">filename</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å¼€å§‹ä¸‹è½½: <span class="hljs-subst">&#123;filename&#125;</span>&quot;</span>)<br>    time.sleep(<span class="hljs-number">1</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ä¸‹è½½å®Œæˆ: <span class="hljs-subst">&#123;filename&#125;</span>&quot;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main_multi</span>():<br>    start_time = time.time()<br>    <br>    <span class="hljs-comment"># ç”¨æ¥å­˜æ”¾æ‰€æœ‰çº¿ç¨‹å¯¹è±¡çš„åˆ—è¡¨</span><br>    threads = []<br>    <br>    <span class="hljs-comment"># 1. åˆ›å»ºå¹¶å¯åŠ¨çº¿ç¨‹</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>):<br>        <span class="hljs-comment"># target: æŒ‡å®šè¦å¹²ä»€ä¹ˆæ´» (å‡½æ•°å)</span><br>        <span class="hljs-comment"># args: æŒ‡å®šå‚æ•° (æ³¨æ„å¿…é¡»æ˜¯å…ƒç»„ï¼Œå¦‚æœæ˜¯1ä¸ªå‚æ•°åé¢è¦åŠ é€—å·)</span><br>        t = threading.Thread(target=download, args=(<span class="hljs-string">f&quot;å›¾ç‰‡_<span class="hljs-subst">&#123;i+<span class="hljs-number">1</span>&#125;</span>.jpg&quot;</span>,))<br>        <br>        <span class="hljs-comment"># å¯åŠ¨çº¿ç¨‹ï¼(ç›¸å½“äºå‘Šè¯‰å·¥äººï¼šå¼€å§‹å¹²æ´»ï¼)</span><br>        t.start()<br>        <br>        <span class="hljs-comment"># æŠŠå·¥äººçš„åå­—è®°ä¸‹æ¥</span><br>        threads.append(t)<br>        <br>    <span class="hljs-comment"># 2. ç­‰å¾…æ‰€æœ‰çº¿ç¨‹ç»“æŸ (è¿™ä¸€æ­¥è‡³å…³é‡è¦ï¼)</span><br>    <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> threads:<br>        t.join() <br>        <span class="hljs-comment"># joinçš„æ„æ€æ˜¯ï¼šä¸»ç¨‹åº(è€æ¿)åœ¨è¿™é‡Œç­‰ç€ï¼Œç›´åˆ°è¿™ä¸ªçº¿ç¨‹(å·¥äºº)å¹²å®Œæ´»æ‰èƒ½å¾€ä¸‹èµ°</span><br>        <br>    end_time = time.time()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;\n[å¤šçº¿ç¨‹] æ€»è€—æ—¶: <span class="hljs-subst">&#123;end_time - start_time:<span class="hljs-number">.2</span>f&#125;</span> ç§’&quot;</span>)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    main_multi()<br>    <br><span class="hljs-string">&quot;&quot;&quot;   </span><br><span class="hljs-string">å¼€å§‹ä¸‹è½½: å›¾ç‰‡_1.jpg</span><br><span class="hljs-string">å¼€å§‹ä¸‹è½½: å›¾ç‰‡_2.jpg</span><br><span class="hljs-string"><span class="hljs-meta">... </span>(å‡ ä¹åŒæ—¶æ‰“å°)</span><br><span class="hljs-string">ä¸‹è½½å®Œæˆ: å›¾ç‰‡_1.jpg</span><br><span class="hljs-string">...</span><br><span class="hljs-string">[å¤šçº¿ç¨‹] æ€»è€—æ—¶: 1.01 ç§’</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h4 id="A-t-start-vs-t-run"><a href="#A-t-start-vs-t-run" class="headerlink" title="A. t.start() vs t.run()"></a>A. <code>t.start()</code> vs <code>t.run()</code></h4><ul><li><strong><code>start()</code></strong>: <strong>æ­£ç¡®å†™æ³•</strong>ã€‚å®ƒä¼šå‘æ“ä½œç³»ç»Ÿç”³è¯·ä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼Œå¹¶åœ¨æ–°çº¿ç¨‹é‡Œæ‰§è¡Œä»£ç ï¼ˆçœŸæ­£çš„å¹¶å‘ï¼‰ã€‚</li><li><strong><code>run()</code></strong>: <strong>é”™è¯¯å†™æ³•</strong>ã€‚å®ƒåªæ˜¯æŠŠå‡½æ•°å½“æ™®é€šå‡½æ•°è°ƒç”¨äº†ä¸€éï¼Œè¿˜åœ¨ä¸»çº¿ç¨‹é‡Œè·‘ï¼Œæ ¹æœ¬æ²¡æœ‰å¤šçº¿ç¨‹æ•ˆæœã€‚</li></ul><h4 id="B-t-join-ä¸ºä»€ä¹ˆè¦å†™ï¼Ÿ"><a href="#B-t-join-ä¸ºä»€ä¹ˆè¦å†™ï¼Ÿ" class="headerlink" title="B. t.join() ä¸ºä»€ä¹ˆè¦å†™ï¼Ÿ"></a>B. <code>t.join()</code> ä¸ºä»€ä¹ˆè¦å†™ï¼Ÿ</h4><p>å¦‚æœæŠŠ <code>join</code> é‚£æ®µå¾ªç¯åˆ æ‰ï¼Œä¼šå‘ç°ç¨‹åºä¼šåœ¨ <strong>0.00ç§’</strong> å°±æ‰“å°â€œæ€»è€—æ—¶â€ï¼Œç„¶åæ‰æ…¢æ…¢æ‰“å°â€œä¸‹è½½å®Œæˆâ€ã€‚</p><ul><li><strong>åŸå› </strong>ï¼šPython çš„ä¸»çº¿ç¨‹ï¼ˆè€æ¿ï¼‰å¯åŠ¨å®Œå­çº¿ç¨‹ï¼ˆå·¥äººï¼‰åï¼Œé»˜è®¤æ˜¯<strong>ä¸ç­‰çš„</strong>ã€‚å·¥äººè¿˜åœ¨ä¸‹è½½ï¼Œè€æ¿å·²ç»æŠŠæœ€åä¸€å¥ <code>print(æ€»è€—æ—¶)</code> æ‰§è¡Œå®Œäº†ã€‚</li><li><strong>ä½œç”¨</strong>ï¼š<code>join()</code> å°±åƒæ˜¯è®¾äº†ä¸€ä¸ª<strong>å…³å¡</strong>ï¼šâ€œæ‰€æœ‰äººéƒ½å¾—åœ¨è¿™å„¿é›†åˆï¼è°æ²¡å¹²å®Œï¼Œä¸»ç¨‹åºå°±ä¸å‡†ç»“æŸï¼â€</li></ul><h2 id="çº¿ç¨‹æ± "><a href="#çº¿ç¨‹æ± " class="headerlink" title="çº¿ç¨‹æ± "></a>çº¿ç¨‹æ± </h2><h3 id="ä¸ºä»€ä¹ˆè¦ç”¨çº¿ç¨‹æ± ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦ç”¨çº¿ç¨‹æ± ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ç”¨çº¿ç¨‹æ± ï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¦ç”¨çº¿ç¨‹æ± ï¼Ÿ</h3><p>ä½¿ç”¨åŸå§‹çš„ <code>threading</code> æ¨¡å—æœ‰ä¸¤ä¸ªå¤§éº»çƒ¦ï¼š</p><ol><li><strong>ç®¡ç†éº»çƒ¦</strong>ï¼šå¦‚æœæœ‰ 1000 ä¸ªä»»åŠ¡ï¼Œä½ ä¸èƒ½çœŸçš„å¯åŠ¨ 1000 ä¸ªçº¿ç¨‹ï¼ˆCPU åˆ‡æ¢ä¼šç´¯æ­»ï¼Œå†…å­˜ä¼šçˆ†ï¼‰ã€‚ä½ éœ€è¦æ§åˆ¶<strong>æœ€å¤§å¹¶å‘æ•°</strong>ï¼ˆæ¯”å¦‚åªå…è®¸åŒæ—¶æœ‰ 5 ä¸ªäººå¹²æ´»ï¼Œåé¢çš„äººæ’é˜Ÿï¼‰ã€‚</li><li><strong>æ‹¿ç»“æœéº»çƒ¦</strong>ï¼š<code>threading.Thread</code> å¾ˆéš¾è·å–å‡½æ•°çš„<strong>è¿”å›å€¼</strong>ã€‚ä½ ä¸çŸ¥é“å·¥äººå¹²å¾—æ€ä¹ˆæ ·ï¼Œåªèƒ½é æ”¹å…¨å±€å˜é‡æˆ–ç”¨é˜Ÿåˆ—ï¼Œå¾ˆä¸‘é™‹ã€‚</li></ol><p><strong>çº¿ç¨‹æ± å®Œç¾è§£å†³äº†è¿™ä¸¤ä¸ªé—®é¢˜ã€‚ æ ¸å¿ƒæ¨¡å—ï¼š<code>concurrent.futures</code></strong></p><h4 id="å®æˆ˜ä»£ç -1ï¼šæœ€å¸¸ç”¨çš„-submit-æ–¹å¼ï¼ˆçµæ´»æ§åˆ¶ï¼‰"><a href="#å®æˆ˜ä»£ç -1ï¼šæœ€å¸¸ç”¨çš„-submit-æ–¹å¼ï¼ˆçµæ´»æ§åˆ¶ï¼‰" class="headerlink" title="å®æˆ˜ä»£ç  1ï¼šæœ€å¸¸ç”¨çš„ submit æ–¹å¼ï¼ˆçµæ´»æ§åˆ¶ï¼‰"></a>å®æˆ˜ä»£ç  1ï¼šæœ€å¸¸ç”¨çš„ <code>submit</code> æ–¹å¼ï¼ˆçµæ´»æ§åˆ¶ï¼‰</h4><p>è¿™ç§æ–¹å¼é€‚åˆï¼šä»»åŠ¡å‚æ•°å„ä¸ç›¸åŒï¼Œæˆ–è€…ä½ éœ€è¦å®æ—¶å¤„ç†æ¯ä¸ªå®Œæˆçš„ä»»åŠ¡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> concurrent.futures <span class="hljs-keyword">import</span> ThreadPoolExecutor, as_completed<br><span class="hljs-keyword">import</span> time<br><br><span class="hljs-comment"># æ¨¡æ‹Ÿä¸€ä¸ªæœ‰è¿”å›å€¼çš„ä»»åŠ¡</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">download</span>(<span class="hljs-params">name, seconds</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ğŸ”´ [å¼€å§‹] <span class="hljs-subst">&#123;name&#125;</span> éœ€è¦ <span class="hljs-subst">&#123;seconds&#125;</span>ç§’&quot;</span>)<br>    time.sleep(seconds)<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;âœ… <span class="hljs-subst">&#123;name&#125;</span> ä¸‹è½½æˆåŠŸï¼&quot;</span>  <span class="hljs-comment"># è¿™é‡Œæœ‰è¿”å›å€¼ï¼</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br>    <span class="hljs-comment"># max_workers=3: ä¹Ÿå°±æ˜¯è™½ç„¶æˆ‘æœ‰ 5 ä¸ªä»»åŠ¡ï¼Œä½†å…¬å¸åªæœ‰ 3 ä¸ªå·¥ä½</span><br>    <span class="hljs-comment"># å‰©ä¸‹ 2 ä¸ªä»»åŠ¡å¾—åœ¨å¤–é¢æ’é˜Ÿï¼Œç­‰æœ‰äººå¹²å®Œäº†æ‰èƒ½è¿›</span><br>    <span class="hljs-keyword">with</span> ThreadPoolExecutor(max_workers=<span class="hljs-number">3</span>) <span class="hljs-keyword">as</span> pool:<br>        <span class="hljs-comment"># 1. æäº¤ä»»åŠ¡ (submit)</span><br>        <span class="hljs-comment"># è¿™é‡Œçš„ task1, task2 æ˜¯ &quot;æœªæ¥å¯¹è±¡&quot; (Future)ï¼Œä»£è¡¨ä¸€ä¸ªå°†æ¥çš„ç»“æœ</span><br>        all_tasks = [<br>            pool.submit(download, <span class="hljs-string">&quot;ç”µå½±A&quot;</span>, <span class="hljs-number">2</span>),<br>            pool.submit(download, <span class="hljs-string">&quot;å›¾ç‰‡B&quot;</span>, <span class="hljs-number">1</span>),<br>            pool.submit(download, <span class="hljs-string">&quot;å°è¯´C&quot;</span>, <span class="hljs-number">3</span>),<br>            pool.submit(download, <span class="hljs-string">&quot;éŸ³ä¹D&quot;</span>, <span class="hljs-number">1</span>),<br>            pool.submit(download, <span class="hljs-string">&quot;æ–‡ä»¶E&quot;</span>, <span class="hljs-number">2</span>)<br>        ]<br>        <br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; ä»»åŠ¡å·²å…¨éƒ¨æäº¤ï¼Œæ­£åœ¨æ’é˜Ÿæ‰§è¡Œä¸­...\n&quot;</span>)<br><br>        <span class="hljs-comment"># 2. è·å–ç»“æœ (as_completed)</span><br>        <span class="hljs-comment"># è°å…ˆå¹²å®Œï¼Œè°å…ˆè¿”å›ã€‚ä¸ç”¨å‚»å‚»åœ°æŒ‰é¡ºåºç­‰ã€‚</span><br>        <span class="hljs-keyword">for</span> future <span class="hljs-keyword">in</span> as_completed(all_tasks):<br>            result = future.result() <span class="hljs-comment"># ã€å…³é”®ã€‘è·å–å‡½æ•°çš„è¿”å›å€¼</span><br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;æ”¶åˆ°ç»“æœ: <span class="hljs-subst">&#123;result&#125;</span>&quot;</span>)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    main()<br></code></pre></td></tr></table></figure><h4 id="å®æˆ˜ä»£ç -2ï¼šæç®€çš„-map-æ–¹å¼ï¼ˆæ‰¹é‡å¤„ç†ï¼‰"><a href="#å®æˆ˜ä»£ç -2ï¼šæç®€çš„-map-æ–¹å¼ï¼ˆæ‰¹é‡å¤„ç†ï¼‰" class="headerlink" title="å®æˆ˜ä»£ç  2ï¼šæç®€çš„ map æ–¹å¼ï¼ˆæ‰¹é‡å¤„ç†ï¼‰"></a>å®æˆ˜ä»£ç  2ï¼šæç®€çš„ <code>map</code> æ–¹å¼ï¼ˆæ‰¹é‡å¤„ç†ï¼‰</h4><p>è¿™ç§æ–¹å¼é€‚åˆï¼šä»»åŠ¡é€»è¾‘å®Œå…¨ä¸€æ ·ï¼Œåªæ˜¯å‚æ•°ä¸åŒï¼ˆæ¯”å¦‚ç»™ 100 ä¸ª URL åˆ—è¡¨å‘è¯·æ±‚ï¼‰ã€‚å®ƒçš„å†™æ³•è·Ÿ Python è‡ªå¸¦çš„ <code>map</code> ä¸€æ¨¡ä¸€æ ·ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> concurrent.futures <span class="hljs-keyword">import</span> ThreadPoolExecutor<br><span class="hljs-keyword">import</span> time<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">check_url</span>(<span class="hljs-params">url</span>):<br>    time.sleep(<span class="hljs-number">1</span>) <span class="hljs-comment"># æ¨¡æ‹Ÿè¯·æ±‚</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;[<span class="hljs-subst">&#123;url&#125;</span>] çŠ¶æ€ç : 200&quot;</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main_map</span>():<br>    urls = [<span class="hljs-string">&quot;www.baidu.com&quot;</span>, <span class="hljs-string">&quot;www.google.com&quot;</span>, <span class="hljs-string">&quot;www.python.org&quot;</span>]<br>    <br>    <span class="hljs-keyword">with</span> ThreadPoolExecutor(max_workers=<span class="hljs-number">2</span>) <span class="hljs-keyword">as</span> pool:<br>        <span class="hljs-comment"># ä¸€è¡Œä»£ç æå®šæ‰¹é‡æäº¤ + ç»“æœæŒ‰é¡ºåºè¿”å›</span><br>        <span class="hljs-comment"># æ³¨æ„ï¼šè¿™é‡Œçš„ç»“æœæ˜¯ä¸¥æ ¼æŒ‰ç…§ urls åˆ—è¡¨çš„é¡ºåºè¿”å›çš„</span><br>        results = pool.<span class="hljs-built_in">map</span>(check_url, urls)<br>        <br>        <span class="hljs-keyword">for</span> res <span class="hljs-keyword">in</span> results:<br>            <span class="hljs-built_in">print</span>(res)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    main_map()<br></code></pre></td></tr></table></figure><hr><h1 id="è¿­ä»£å™¨"><a href="#è¿­ä»£å™¨" class="headerlink" title="è¿­ä»£å™¨"></a>è¿­ä»£å™¨</h1><ul><li><strong>å¯è¿­ä»£å¯¹è±¡ (Iterable)</strong>ï¼š<ul><li><strong>å«ä¹‰</strong>ï¼šå…·æœ‰â€œè¢«éå†èƒ½åŠ›â€çš„æ•°æ®ã€‚</li><li><strong>ä¾‹å­</strong>ï¼š<code>list</code>, <code>tuple</code>, <code>str</code>, <code>dict</code>ã€‚</li><li><strong>ç‰¹å¾</strong>ï¼šå†…éƒ¨å®ç°äº† <code>__iter__</code> æ–¹æ³•ã€‚å®ƒæœ¬èº«ä¸è®°å½•ä½ç½®ï¼Œéœ€è¦è½¬åŒ–æˆè¿­ä»£å™¨æ‰èƒ½ç”¨ <code>next()</code>ã€‚</li></ul></li><li><strong>è¿­ä»£å™¨ (Iterator)</strong>ï¼š<ul><li><strong>å«ä¹‰</strong>ï¼šæ­£åœ¨æ‰§è¡Œéå†åŠ¨ä½œçš„é‚£ä¸ªâ€œæŒ‡é’ˆâ€ã€‚</li><li><strong>ä¾‹å­</strong>ï¼š<code>iter(list)</code> åçš„ç»“æœã€‚</li><li><strong>ç‰¹å¾</strong>ï¼šåŒæ—¶å®ç°äº† <code>__iter__</code> å’Œ <strong><code>__next__</code></strong> æ–¹æ³•ã€‚</li></ul></li></ul><p><code>for x in [1, 2, 3]</code>ï¼Œå…¶å® Python å·å·åšäº†ä¸‰ä»¶äº‹ï¼š</p><ol><li>è°ƒç”¨ <code>iter()</code> æŠŠåˆ—è¡¨å˜æˆè¿­ä»£å™¨ã€‚</li><li>ä¸æ–­è°ƒç”¨ <code>next()</code> è·å–ä¸‹ä¸€ä¸ªå€¼ã€‚</li><li>é‡åˆ° <code>StopIteration</code> å¼‚å¸¸æ—¶ï¼Œåœæ­¢å¾ªç¯ã€‚</li></ol><p>æ‰‹åŠ¨æ¨¡æ‹Ÿä¸€ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 1. è¿™æ˜¯ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ (Iterable)</span><br>my_list = [<span class="hljs-string">&quot;æ¥å£A&quot;</span>, <span class="hljs-string">&quot;æ¥å£B&quot;</span>, <span class="hljs-string">&quot;æ¥å£C&quot;</span>]<br><br><span class="hljs-comment"># âŒ ç›´æ¥ next(my_list) ä¼šæŠ¥é”™ï¼Œå› ä¸ºå®ƒè¿˜ä¸æ˜¯è¿­ä»£å™¨</span><br><br><span class="hljs-comment"># 2. å˜æˆè¿­ä»£å™¨ (Iterator)</span><br><span class="hljs-comment"># è¿™ä¸€æ­¥ç›¸å½“äºç»™è–¯ç‰‡ç­’è£…ä¸Šäº†å¼¹ç°§ï¼Œå¯ä»¥å¾€å¤–å¼¹äº†</span><br>my_iterator = <span class="hljs-built_in">iter</span>(my_list)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;è¿­ä»£å™¨é•¿è¿™æ ·: <span class="hljs-subst">&#123;my_iterator&#125;</span>&quot;</span>) <br><span class="hljs-comment"># &lt;list_iterator object at 0x...&gt;</span><br><br><span class="hljs-comment"># 3. æ‰‹åŠ¨è°ƒç”¨ next()</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>(my_iterator))  <span class="hljs-comment"># è¾“å‡º: æ¥å£A</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>(my_iterator))  <span class="hljs-comment"># è¾“å‡º: æ¥å£B</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>(my_iterator))  <span class="hljs-comment"># è¾“å‡º: æ¥å£C</span><br><br><span class="hljs-comment"># 4. å†æ‹¿ä¸€æ¬¡ï¼Ÿ</span><br><span class="hljs-comment"># print(next(my_iterator)) </span><br><span class="hljs-comment"># æŠ¥é”™ï¼StopIteration (è–¯ç‰‡åƒå®Œäº†)</span><br></code></pre></td></tr></table></figure><p>è¦åœ¨ Python ä¸­åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„è¿­ä»£å™¨ç±»ï¼Œéœ€è¦å®ç°ä¸¤ä¸ªé­”æœ¯æ–¹æ³•ï¼š</p><ul><li><code>__iter__(self)</code>: è¿”å›è‡ªå·±ã€‚</li><li><code>__next__(self)</code>: è¿”å›ä¸‹ä¸€ä¸ªæ•°æ®ï¼Œæˆ–è€…æŠ›å‡º <code>StopIteration</code>ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">UserGenerator</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, max_num</span>):<br>        <span class="hljs-variable language_">self</span>.max_num = max_num<br>        <span class="hljs-variable language_">self</span>.current = <span class="hljs-number">0</span><br><br>    <span class="hljs-comment"># 1. å¿…é¡»æœ‰è¿™ä¸ªï¼Œè¡¨æ˜æˆ‘æ˜¯å¯è¿­ä»£çš„</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__iter__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span><br><br>    <span class="hljs-comment"># 2. å¿…é¡»æœ‰è¿™ä¸ªï¼Œå®šä¹‰â€œä¸‹ä¸€æ¬¡â€è¿”å›ä»€ä¹ˆ</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__next__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-variable language_">self</span>.current += <span class="hljs-number">1</span><br>        <br>        <span class="hljs-comment"># åªè¦æ²¡è¶…æ ‡ï¼Œå°±è¿”å›æ–°è´¦å·</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span>.current &lt;= <span class="hljs-variable language_">self</span>.max_num:<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;User_<span class="hljs-subst">&#123;self.current&#125;</span>&quot;</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-comment"># è¶…æ ‡äº†ï¼Œé€šçŸ¥ for å¾ªç¯åœä¸‹æ¥</span><br>            <span class="hljs-keyword">raise</span> StopIteration<br><br><span class="hljs-comment"># --- ä½¿ç”¨ ---</span><br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªèƒ½ç”Ÿæˆ 3 ä¸ªè´¦å·çš„è¿­ä»£å™¨</span><br>users = UserGenerator(<span class="hljs-number">3</span>)<br><br><span class="hljs-comment"># åƒç”¨åˆ—è¡¨ä¸€æ ·ç”¨å®ƒ</span><br><span class="hljs-keyword">for</span> u <span class="hljs-keyword">in</span> users:<br>    <span class="hljs-built_in">print</span>(u)<br><br><span class="hljs-comment"># è¾“å‡ºï¼š</span><br><span class="hljs-comment"># User_1</span><br><span class="hljs-comment"># User_2</span><br><span class="hljs-comment"># User_3</span><br></code></pre></td></tr></table></figure><p>å‡è®¾æœ‰ä¸€ä¸ª 1GB çš„ CSV æ–‡ä»¶ï¼Œé‡Œé¢å­˜äº† <strong>100 ä¸‡æ¡</strong> çœŸå®çš„äº¤æ˜“æ•°æ®ï¼Œä½ è¦ç”¨è¿™äº›æ•°æ®æ¥è·‘æµ‹è¯•ã€‚</p><ul><li><strong>å¦‚æœä¸é€šè¿‡è¿­ä»£å™¨ï¼ˆç”¨ Listï¼‰</strong>ï¼š <code>data = open(&quot;big_data.csv&quot;).readlines()</code> è¿™ä¼šç¬é—´æŠŠ 100 ä¸‡è¡Œæ•°æ®å…¨éƒ¨åŠ è½½åˆ°å†…å­˜é‡Œï¼Œç”µè„‘å¯èƒ½ä¼šå¡æ­»ï¼ˆMemoryErrorï¼‰ã€‚</li><li><strong>å¦‚æœä½¿ç”¨è¿­ä»£å™¨</strong>ï¼š å†™ä¸€ä¸ªè¿­ä»£å™¨ï¼Œæ¯æ¬¡åªä»æ–‡ä»¶é‡Œ<strong>è¯»å–ä¸€è¡Œ</strong>ï¼Œæµ‹è¯•å®Œè¿™ä¸€è¡Œï¼Œæ‰”æ‰ï¼Œå†è¯»ä¸‹ä¸€è¡Œã€‚ <strong>ç»“æœ</strong>ï¼šä¸ç®¡æ–‡ä»¶æœ‰å‡ ç™¾ GBï¼Œç¨‹åºåªå å‡  KB çš„å†…å­˜ã€‚è¿™å« <strong>â€œæƒ°æ€§æ±‚å€¼â€ (Lazy Evaluation)</strong>ã€‚</li></ul><hr><h1 id="ç”Ÿæˆå™¨"><a href="#ç”Ÿæˆå™¨" class="headerlink" title="ç”Ÿæˆå™¨"></a>ç”Ÿæˆå™¨</h1><p>ç”Ÿæˆå™¨ <strong>æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªè¿­ä»£å™¨</strong>ã€‚ ä½†ä¸éœ€è¦å†™å¤æ‚çš„ç±»ï¼Œåªéœ€è¦å†™ä¸€ä¸ª<strong>å‡½æ•°</strong>ã€‚</p><ul><li><strong>æ™®é€šå‡½æ•°</strong>ï¼šç”¨ <code>return</code> è¿”å›ç»“æœã€‚ä¸€æ—¦ <code>return</code>ï¼Œå‡½æ•°å°±ç»“æŸäº†ï¼Œå†…å­˜ä¹Ÿå°±é‡Šæ”¾äº†ã€‚</li><li><strong>ç”Ÿæˆå™¨å‡½æ•°</strong>ï¼šç”¨ <strong><code>yield</code></strong> è¿”å›ç»“æœã€‚<ul><li><strong>æš‚åœ</strong>ï¼šå‡½æ•°æ‰§è¡Œåˆ° <code>yield</code> æ—¶ï¼Œä¼šæŠŠç»“æœäº¤å‡ºå»ï¼Œç„¶å<strong>æš‚åœ</strong>åœ¨è¿™ä¸€è¡Œï¼ˆåƒæŒ‰äº†æš‚åœé”®ï¼‰ã€‚</li><li><strong>ä¿ç•™ç°åœº</strong>ï¼šå‡½æ•°å†…çš„å˜é‡ã€çŠ¶æ€å…¨éƒ½ä¿ç•™ç€ï¼Œæ²¡æ­»ã€‚</li><li><strong>æ¢å¤</strong>ï¼šä¸‹æ¬¡ä½ å†è°ƒç”¨ <code>next()</code> æ—¶ï¼Œå®ƒä»åˆšæ‰æš‚åœçš„åœ°æ–¹<strong>ç»§ç»­å¾€ä¸‹æ‰§è¡Œ</strong>ã€‚</li></ul></li></ul><p>æ™®é€šå‡½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">make_dumplings_list</span>():<br>    result = []<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ğŸ‘¨â€ğŸ³ æ­£åœ¨åŒ…ç¬¬ <span class="hljs-subst">&#123;i&#125;</span> ä¸ªé¥ºå­...&quot;</span>)<br>        result.append(<span class="hljs-string">f&quot;é¥ºå­_<span class="hljs-subst">&#123;i&#125;</span>&quot;</span>)<br>    <span class="hljs-keyword">return</span> result  <span class="hljs-comment"># å¿…é¡»å…¨éƒ¨åšå®Œæ‰èƒ½è¿”å›</span><br><br><span class="hljs-comment"># è°ƒç”¨</span><br>plate = make_dumplings_list()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ç«¯ä¸Šæ¥ï¼š<span class="hljs-subst">&#123;plate&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><p>ç”Ÿæˆå™¨å‡½æ•° (<code>yield</code>)ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">make_dumplings_gen</span>():<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ğŸ‘¨â€ğŸ³ æ­£åœ¨åŒ…ç¬¬ <span class="hljs-subst">&#123;i&#125;</span> ä¸ªé¥ºå­...&quot;</span>)<br>        <span class="hljs-comment"># ã€å…³é”®ã€‘æŠŠé¥ºå­äº¤å‡ºå»ï¼Œç„¶ååœ¨è¿™ä¸ªä½ç½®æš‚åœï¼</span><br>        <span class="hljs-keyword">yield</span> <span class="hljs-string">f&quot;é¥ºå­_<span class="hljs-subst">&#123;i&#125;</span>&quot;</span> <br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;   (ç¬¬ <span class="hljs-subst">&#123;i&#125;</span> ä¸ªé¥ºå­è¢«å–èµ°äº†...ç»§ç»­å¹²æ´»)&quot;</span>)<br><br><span class="hljs-comment"># è°ƒç”¨</span><br><span class="hljs-comment"># æ³¨æ„ï¼šè¿™ä¸€æ­¥å¹¶æ²¡æœ‰æ‰§è¡Œå‡½æ•°ä»£ç ï¼åªæ˜¯åˆ›å»ºäº†ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡</span><br>gen = make_dumplings_gen()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ç”Ÿæˆå™¨å¯¹è±¡: <span class="hljs-subst">&#123;gen&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># --- å¼€å§‹åƒ (æ‰‹åŠ¨é©±åŠ¨) ---</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; æˆ‘è¦åƒç¬¬ä¸€ä¸ª&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>(gen))  <span class="hljs-comment"># å¨å¸ˆåŒ…ç¬¬1ä¸ª -&gt; yield -&gt; æš‚åœ</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n&gt;&gt;&gt; æˆ‘è¦åƒç¬¬äºŒä¸ª&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>(gen))  <span class="hljs-comment"># å¨å¸ˆä»æš‚åœå¤„æ¢å¤ -&gt; åŒ…ç¬¬2ä¸ª -&gt; yield -&gt; æš‚åœ</span><br><br><span class="hljs-comment"># --- æˆ–è€…ç›´æ¥ç”¨ for å¾ªç¯ (è‡ªåŠ¨é©±åŠ¨) ---</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n&gt;&gt;&gt; å‰©ä¸‹çš„æˆ‘å…¨åŒ…äº†&quot;</span>)<br><span class="hljs-keyword">for</span> d <span class="hljs-keyword">in</span> gen:<br>    <span class="hljs-built_in">print</span>(d)<br>    <br><span class="hljs-string">&quot;&quot;&quot;    </span><br><span class="hljs-string"><span class="hljs-meta">&gt;&gt;&gt; </span>æˆ‘è¦åƒç¬¬ä¸€ä¸ª</span><br><span class="hljs-string">ğŸ‘¨â€ğŸ³ æ­£åœ¨åŒ…ç¬¬ 1 ä¸ªé¥ºå­...</span><br><span class="hljs-string">é¥ºå­_1</span><br><span class="hljs-string"></span><br><span class="hljs-string"><span class="hljs-meta">&gt;&gt;&gt; </span>æˆ‘è¦åƒç¬¬äºŒä¸ª</span><br><span class="hljs-string">   (ç¬¬ 1 ä¸ªé¥ºå­è¢«å–èµ°äº†...ç»§ç»­å¹²æ´»)</span><br><span class="hljs-string">ğŸ‘¨â€ğŸ³ æ­£åœ¨åŒ…ç¬¬ 2 ä¸ªé¥ºå­...</span><br><span class="hljs-string">é¥ºå­_2</span><br><span class="hljs-string"></span><br><span class="hljs-string"><span class="hljs-meta">&gt;&gt;&gt; </span>å‰©ä¸‹çš„æˆ‘å…¨åŒ…äº†</span><br><span class="hljs-string">   (ç¬¬ 2 ä¸ªé¥ºå­è¢«å–èµ°äº†...ç»§ç»­å¹²æ´»)</span><br><span class="hljs-string">ğŸ‘¨â€ğŸ³ æ­£åœ¨åŒ…ç¬¬ 3 ä¸ªé¥ºå­...</span><br><span class="hljs-string">é¥ºå­_3</span><br><span class="hljs-string">   (ç¬¬ 3 ä¸ªé¥ºå­è¢«å–èµ°äº†...ç»§ç»­å¹²æ´»)</span><br></code></pre></td></tr></table></figure><p>å†™æ³•2-ç”Ÿæˆå™¨è¡¨è¾¾å¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 1. åˆ—è¡¨æ¨å¯¼å¼ (è€—å†…å­˜)</span><br>list_data = [x * x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>)]<br><span class="hljs-built_in">print</span>(list_data) <br><span class="hljs-comment"># è¾“å‡º: [0, 1, 4, 9, ..., 81] (å†…å­˜é‡ŒçœŸçš„æœ‰10ä¸ªæ•°)</span><br><br><span class="hljs-comment"># 2. ç”Ÿæˆå™¨è¡¨è¾¾å¼ (çœå†…å­˜)</span><br>gen_data = (x * x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>))<br><span class="hljs-built_in">print</span>(gen_data)<br><span class="hljs-comment"># è¾“å‡º: &lt;generator object ...&gt; (å†…å­˜é‡Œåªæœ‰ä¸€ä¸ªå…¬å¼ï¼Œè¿˜æ²¡ç®—å‘¢)</span><br><br><span class="hljs-comment"># æƒ³ç”¨çš„æ—¶å€™å†ç®—</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>(gen_data)) <span class="hljs-comment"># 0</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">next</span>(gen_data)) <span class="hljs-comment"># 1</span><br></code></pre></td></tr></table></figure><hr><h1 id="Propertyå±æ€§"><a href="#Propertyå±æ€§" class="headerlink" title="Propertyå±æ€§"></a>Propertyå±æ€§</h1><h2 id="åªè¯»å±æ€§"><a href="#åªè¯»å±æ€§" class="headerlink" title="åªè¯»å±æ€§"></a>åªè¯»å±æ€§</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> datetime<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, birth_year</span>):<br>        <span class="hljs-variable language_">self</span>.name = name<br>        <span class="hljs-variable language_">self</span>.birth_year = birth_year<br><br>    <span class="hljs-comment"># ã€å…³é”®ã€‘åŠ ä¸Š @property</span><br>    <span class="hljs-comment"># æŠŠè¿™ä¸ªæ–¹æ³•å˜æˆä¸€ä¸ª &quot;åªè¯»å±æ€§&quot;</span><br><span class="hljs-meta">    @property</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">age</span>(<span class="hljs-params">self</span>):<br>        current_year = datetime.datetime.now().year<br>        <span class="hljs-keyword">return</span> current_year - <span class="hljs-variable language_">self</span>.birth_year<br><br>s1 = Student(<span class="hljs-string">&quot;å°æ˜&quot;</span>, <span class="hljs-number">2000</span>)<br><br><span class="hljs-comment"># 1. åƒè®¿é—®å˜é‡ä¸€æ ·è®¿é—® ageï¼ˆæ³¨æ„ï¼šåé¢æ²¡æœ‰æ‹¬å·ï¼ï¼‰</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ä»Šå¹´å¹´é¾„: <span class="hljs-subst">&#123;s1.age&#125;</span>&quot;</span>) <br><br><span class="hljs-comment"># 2. å°è¯•ä¿®æ”¹å®ƒï¼ˆä¼šæŠ¥é”™ï¼‰</span><br><span class="hljs-comment"># s1.age = 18 </span><br><span class="hljs-comment"># æŠ¥é”™ï¼šAttributeError: can&#x27;t set attribute (å› ä¸ºæˆ‘ä»¬åªå®šä¹‰äº† getterï¼Œæ²¡å®šä¹‰ setter)</span><br></code></pre></td></tr></table></figure><h2 id="è¯»å†™æ§åˆ¶"><a href="#è¯»å†™æ§åˆ¶" class="headerlink" title="è¯»å†™æ§åˆ¶"></a>è¯»å†™æ§åˆ¶</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-comment"># è¿™æ˜¯ä¸€ä¸ªç§æœ‰å˜é‡ï¼Œä¸å¯¹å¤–å…¬å¼€</span><br>        <span class="hljs-variable language_">self</span>._score = <span class="hljs-number">0</span><br><br>    <span class="hljs-comment"># --- 1. å®šä¹‰ Getter (è¯») ---</span><br><span class="hljs-meta">    @property</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">score</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>._score<br><br>    <span class="hljs-comment"># --- 2. å®šä¹‰ Setter (å†™) ---</span><br>    <span class="hljs-comment"># è¯­æ³•è§„åˆ™ï¼š@å‡½æ•°å.setter</span><br><span class="hljs-meta">    @score.setter</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">score</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">isinstance</span>(value, <span class="hljs-built_in">int</span>):<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;âŒ é”™è¯¯ï¼šåˆ†æ•°å¿…é¡»æ˜¯æ•´æ•°ï¼&quot;</span>)<br>            <span class="hljs-keyword">return</span><br>        <br>        <span class="hljs-keyword">if</span> value &lt; <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> value &gt; <span class="hljs-number">100</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;âŒ é”™è¯¯ï¼šåˆ†æ•° <span class="hljs-subst">&#123;value&#125;</span> è¶…å‡ºèŒƒå›´ (0-100)ï¼&quot;</span>)<br>            <span class="hljs-keyword">return</span><br>            <br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;âœ… åˆ†æ•° <span class="hljs-subst">&#123;value&#125;</span> è®¾ç½®æˆåŠŸ&quot;</span>)<br>        <span class="hljs-variable language_">self</span>._score = value<br><br><span class="hljs-comment"># --- æµ‹è¯• ---</span><br>s = Student()<br><br><span class="hljs-comment"># æ­£å¸¸èµ‹å€¼</span><br>s.score = <span class="hljs-number">90</span>  <span class="hljs-comment"># è‡ªåŠ¨è§¦å‘ @score.setter ä¸‹çš„å‡½æ•°</span><br><span class="hljs-built_in">print</span>(s.score) <span class="hljs-comment"># è‡ªåŠ¨è§¦å‘ @property ä¸‹çš„å‡½æ•°</span><br><br><span class="hljs-comment"># å¼‚å¸¸èµ‹å€¼ï¼ˆä¼šè¢« setter é‡Œçš„é€»è¾‘æ‹¦æˆªï¼‰</span><br>s.score = <span class="hljs-number">999</span> <br>s.score = <span class="hljs-string">&quot;ä¸åŠæ ¼&quot;</span><br><br><span class="hljs-comment"># å†æ¬¡æŸ¥çœ‹ï¼Œè¿˜æ˜¯åŸæ¥çš„ 90ï¼Œæ²¡è¢«æ±¡æŸ“</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å½“å‰çœŸå®åˆ†æ•°: <span class="hljs-subst">&#123;s.score&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><h1 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h1><h3 id="åŸºç¡€è¯­æ³•é€ŸæŸ¥è¡¨"><a href="#åŸºç¡€è¯­æ³•é€ŸæŸ¥è¡¨" class="headerlink" title="åŸºç¡€è¯­æ³•é€ŸæŸ¥è¡¨"></a>åŸºç¡€è¯­æ³•é€ŸæŸ¥è¡¨</h3><p>è®¤è¯†å‡ ä¸ªâ€œç‰¹æ®Šç¬¦å·â€ï¼ˆå…ƒå­—ç¬¦ï¼‰ï¼š</p><h4 id="A-ä»£è¡¨â€œå­—ç¬¦â€çš„ç¬¦å·"><a href="#A-ä»£è¡¨â€œå­—ç¬¦â€çš„ç¬¦å·" class="headerlink" title="A. ä»£è¡¨â€œå­—ç¬¦â€çš„ç¬¦å·"></a>A. ä»£è¡¨â€œå­—ç¬¦â€çš„ç¬¦å·</h4><ul><li><strong><code>.</code> (ç‚¹)</strong>ï¼šä¸‡èƒ½ç¬¦ã€‚ä»£è¡¨<strong>é™¤äº†æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦</strong>ã€‚</li><li><strong><code>\d</code></strong>ï¼šæ•°å­— (Digit)ã€‚ç­‰ä»·äº <code>[0-9]</code>ã€‚</li><li><strong><code>\w</code></strong>ï¼šå•è¯å­—ç¬¦ (Word)ã€‚ä»£è¡¨ <strong>æ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿ã€ä¸­æ–‡</strong>ï¼ˆPython 3 ä¸­ï¼‰ã€‚</li><li><strong><code>\s</code></strong>ï¼šç©ºç™½ç¬¦ (Space)ã€‚ä»£è¡¨ç©ºæ ¼ã€Tabã€æ¢è¡Œã€‚</li></ul><h4 id="B-ä»£è¡¨â€œæ•°é‡â€çš„ç¬¦å·"><a href="#B-ä»£è¡¨â€œæ•°é‡â€çš„ç¬¦å·" class="headerlink" title="B. ä»£è¡¨â€œæ•°é‡â€çš„ç¬¦å·"></a>B. ä»£è¡¨â€œæ•°é‡â€çš„ç¬¦å·</h4><ul><li><strong><code>*</code></strong>ï¼š0 æ¬¡æˆ–å¤šæ¬¡ï¼ˆæœ‰æ²¡æœ‰éƒ½è¡Œï¼Œè¶Šå¤šè¶Šå¥½ï¼‰ã€‚</li><li><strong><code>+</code></strong>ï¼š1 æ¬¡æˆ–å¤šæ¬¡ï¼ˆè‡³å°‘å¾—æœ‰ä¸€ä¸ªï¼‰ã€‚</li><li><strong><code>?</code></strong>ï¼š0 æ¬¡æˆ– 1 æ¬¡ï¼ˆè¦ä¹ˆæ²¡æœ‰ï¼Œè¦ä¹ˆæœ‰ä¸€ä¸ªï¼‰ã€‚</li><li><strong><code>&#123;n&#125;</code></strong>ï¼šæ°å¥½ n æ¬¡ã€‚</li><li><strong><code>&#123;n, m&#125;</code></strong>ï¼šn åˆ° m æ¬¡ã€‚</li></ul><h4 id="C-ä»£è¡¨â€œä½ç½®â€çš„ç¬¦å·"><a href="#C-ä»£è¡¨â€œä½ç½®â€çš„ç¬¦å·" class="headerlink" title="C. ä»£è¡¨â€œä½ç½®â€çš„ç¬¦å·"></a>C. ä»£è¡¨â€œä½ç½®â€çš„ç¬¦å·</h4><ul><li><strong><code>^</code></strong>ï¼šå¿…é¡»ä»¥â€¦å¼€å¤´ã€‚</li><li><strong><code>$</code></strong>ï¼šå¿…é¡»ä»¥â€¦ç»“å°¾ã€‚</li></ul><p>1ï¼š<code>re.findall()</code> â€”â€” æ‰¾åˆ°æ‰€æœ‰:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br><br>text = <span class="hljs-string">&quot;å¼ ä¸‰çš„ç”µè¯æ˜¯ 13811112222ï¼Œæå››çš„ç”µè¯æ˜¯ 15933334444ï¼Œè¿˜æœ‰ä¸€ä¸ªåº§æœº 010-123456ã€‚&quot;</span><br><br><span class="hljs-comment"># è§„åˆ™ï¼š1å¼€å¤´ï¼Œåé¢æ¥10ä¸ªæ•°å­—</span><br><span class="hljs-comment"># r&#x27;&#x27; è¡¨ç¤ºåŸç”Ÿå­—ç¬¦ä¸²ï¼Œé˜²æ­¢è½¬ä¹‰å­—ç¬¦æ£ä¹±ï¼Œå†™æ­£åˆ™å»ºè®®éƒ½è¦åŠ  r</span><br>pattern = <span class="hljs-string">r&quot;1\d&#123;10&#125;&quot;</span><br><br>phones = re.findall(pattern, text)<br><span class="hljs-built_in">print</span>(phones)<br><span class="hljs-comment"># è¾“å‡º: [&#x27;13811112222&#x27;, &#x27;15933334444&#x27;]</span><br></code></pre></td></tr></table></figure><p>2ï¼š<code>re.search()</code> â€”â€” æ‰¾åˆ°ç¬¬ä¸€ä¸ªå°±æ”¶å·¥ (æœ€å¸¸ç”¨):</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br><br>html = <span class="hljs-string">&quot;&lt;div&gt;è®¢å•å·: &lt;span id=&#x27;order&#x27;&gt;20231212001&lt;/span&gt;&lt;/div&gt;&quot;</span><br><br><span class="hljs-comment"># è§„åˆ™ï¼šæ‰¾æ•°å­—ï¼Œä½†æˆ‘è¦æ›´ç²¾ç¡®</span><br><span class="hljs-comment"># ä½¿ç”¨æ‹¬å· () è¿›è¡Œã€åˆ†ç»„æå–ã€‘ï¼Œè¿™æ˜¯åšæ¥å£æµ‹è¯•æå–æ•°æ®çš„æ ¸å¿ƒï¼</span><br><span class="hljs-comment"># r&quot;(\d&#123;11&#125;)&quot; æ„æ€æ˜¯ï¼šæ‰¾åˆ°11ä¸ªæ•°å­—ï¼Œå¹¶æŠŠè¿™11ä¸ªæ•°å­—å•ç‹¬æ‹¿å‡ºæ¥</span><br>match_obj = re.search(<span class="hljs-string">r&quot;id=&#x27;order&#x27;&gt;(\d+)&lt;&quot;</span>, html)<br><br><span class="hljs-keyword">if</span> match_obj:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;åŒ¹é…åˆ°çš„æ•´ä½“: <span class="hljs-subst">&#123;match_obj.group(<span class="hljs-number">0</span>)&#125;</span>&quot;</span>) <span class="hljs-comment"># id=&#x27;order&#x27;&gt;20231212001&lt;</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;æå–çš„ç›®æ ‡: <span class="hljs-subst">&#123;match_obj.group(<span class="hljs-number">1</span>)&#125;</span>&quot;</span>)   <span class="hljs-comment"># 20231212001 (æˆ‘ä»¬é€šå¸¸åªè¦è¿™ä¸ª)</span><br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ²¡æ‰¾åˆ°&quot;</span>)<br></code></pre></td></tr></table></figure><p>3ï¼š<code>re.sub()</code> â€”â€” æ›¿æ¢ (æ¸…æ´—æ•°æ®):</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br><br>text = <span class="hljs-string">&quot;æˆ‘ç»™ä½ è½¬äº†ï¿¥100å…ƒï¼Œåˆè½¬äº†$50å…ƒ&quot;</span><br><br><span class="hljs-comment"># æŠŠæ‰€æœ‰çš„è´§å¸ç¬¦å·å»æ‰ï¼Œåªç•™æ•°å­—</span><br><span class="hljs-comment"># [] è¡¨ç¤ºâ€œå…¶ä¸­ä»»æ„ä¸€ä¸ªâ€</span><br>new_text = re.sub(<span class="hljs-string">r&quot;[ï¿¥$å…ƒ]&quot;</span>, <span class="hljs-string">&quot;&quot;</span>, text)<br><br><span class="hljs-built_in">print</span>(new_text) <br><span class="hljs-comment"># è¾“å‡º: æˆ‘ç»™ä½ è½¬äº†100ï¼Œåˆè½¬äº†50</span><br></code></pre></td></tr></table></figure><p>4:re.match()â€“åªä»å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹åŒ¹é…:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br><br>text = <span class="hljs-string">&quot;Hello Python World&quot;</span><br>pattern = <span class="hljs-string">r&quot;Python&quot;</span><br><br><span class="hljs-comment"># --- 1. ä½¿ç”¨ match (ç¢°å£) ---</span><br><span class="hljs-comment"># match çœ‹äº†çœ‹ç¬¬ä¸€ä¸ªå•è¯ &quot;Hello&quot;ï¼Œå‘ç°ä¸æ˜¯ &quot;Python&quot;ï¼Œç›´æ¥æŠ¥é”™(è¿”å›None)</span><br>res_match = re.<span class="hljs-keyword">match</span>(pattern, text)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Match ç»“æœ: <span class="hljs-subst">&#123;res_match&#125;</span>&quot;</span>) <br><span class="hljs-comment"># è¾“å‡º: Match ç»“æœ: None</span><br><br><br><span class="hljs-comment"># --- 2. ä½¿ç”¨ search (æˆåŠŸ) ---</span><br><span class="hljs-comment"># search å¾ˆæœ‰è€å¿ƒï¼Œè·³è¿‡ Helloï¼Œåœ¨ç¬¬ 6 ä¸ªä½ç½®æ‰¾åˆ°äº† Python</span><br>res_search = re.search(pattern, text)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Search ç»“æœ: <span class="hljs-subst">&#123;res_search&#125;</span>&quot;</span>) <br><span class="hljs-comment"># è¾“å‡º: Search ç»“æœ: &lt;re.Match object; span=(6, 12), match=&#x27;Python&#x27;&gt;</span><br><br><br><span class="hljs-comment"># --- 3. åªæœ‰ä¸€ç§æƒ…å†µ match èƒ½æˆåŠŸ ---</span><br><span class="hljs-comment"># å¿…é¡»è®© Python å‡ºç°åœ¨å¼€å¤´</span><br>text_2 = <span class="hljs-string">&quot;Python is good&quot;</span><br>res_match_2 = re.<span class="hljs-keyword">match</span>(pattern, text_2)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Match æˆåŠŸ: <span class="hljs-subst">&#123;res_match_2&#125;</span>&quot;</span>)<br><span class="hljs-comment"># è¾“å‡º: Match æˆåŠŸ: &lt;re.Match object...&gt;</span><br></code></pre></td></tr></table></figure><p>5:è´ªå©ªä¸éè´ªå©ª:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br><br>s = <span class="hljs-string">&quot;&lt;div&gt;ç¬¬ä¸€ä¸ª&lt;/div&gt;&lt;div&gt;ç¬¬äºŒä¸ª&lt;/div&gt;&quot;</span><br><br><span class="hljs-comment"># 1. è´ªå©ªæ¨¡å¼ (.*)</span><br><span class="hljs-comment"># å®ƒä¼šä»ç¬¬ä¸€ä¸ª &lt;div&gt; ä¸€ç›´åƒåˆ°æœ€åä¸€ä¸ª &lt;/div&gt;ï¼Œä¸­é—´ä¸ç®¡æœ‰å¤šå°‘é—­åˆæ ‡ç­¾å…¨åäº†</span><br>res_greedy = re.findall(<span class="hljs-string">r&quot;&lt;div&gt;(.*)&lt;/div&gt;&quot;</span>, s)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;è´ªå©ª: <span class="hljs-subst">&#123;res_greedy&#125;</span>&quot;</span>)<br><span class="hljs-comment"># è¾“å‡º: [&#x27;ç¬¬ä¸€ä¸ª&lt;/div&gt;&lt;div&gt;ç¬¬äºŒä¸ª&#x27;]  &lt;-- ç¿»è½¦äº†ï¼</span><br><br><span class="hljs-comment"># 2. éè´ªå©ªæ¨¡å¼ (.*?)</span><br><span class="hljs-comment"># é‡åˆ°ç¬¬ä¸€ä¸ª &lt;/div&gt; å®ƒå°±è§‰å¾—â€œå¤Ÿäº†â€ï¼Œåœæ­¢åŒ¹é…</span><br>res_lazy = re.findall(<span class="hljs-string">r&quot;&lt;div&gt;(.*?)&lt;/div&gt;&quot;</span>, s)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;éè´ªå©ª: <span class="hljs-subst">&#123;res_lazy&#125;</span>&quot;</span>)<br><span class="hljs-comment"># è¾“å‡º: [&#x27;ç¬¬ä¸€ä¸ª&#x27;, &#x27;ç¬¬äºŒä¸ª&#x27;] &lt;-- è¿™æ‰æ˜¯æˆ‘ä»¬è¦çš„</span><br></code></pre></td></tr></table></figure><hr><h1 id="åƒåœ¾å›æ”¶æœºåˆ¶"><a href="#åƒåœ¾å›æ”¶æœºåˆ¶" class="headerlink" title="åƒåœ¾å›æ”¶æœºåˆ¶"></a>åƒåœ¾å›æ”¶æœºåˆ¶</h1><p>Python çš„ GC æœºåˆ¶æ˜¯ä»¥ã€å¼•ç”¨è®¡æ•°ã€‘ä¸ºä¸»ï¼Œä»¥ã€æ ‡è®°-æ¸…é™¤ã€‘å’Œã€åˆ†ä»£å›æ”¶ã€‘ä¸ºè¾…ã€‚</p><h2 id="å¼•ç”¨è®¡æ•°-Reference-Counting"><a href="#å¼•ç”¨è®¡æ•°-Reference-Counting" class="headerlink" title="å¼•ç”¨è®¡æ•° (Reference Counting)"></a>å¼•ç”¨è®¡æ•° (Reference Counting)</h2><p>è¿™æ˜¯ Python å†…å­˜ç®¡ç†æœ€æ ¸å¿ƒã€æœ€åŸºç¡€çš„æœºåˆ¶ã€‚å®ƒåƒæ˜¯ä¸€ä¸ª**â€œè®¡åˆ†å™¨â€**ã€‚</p><h4 id="1-åŸç†"><a href="#1-åŸç†" class="headerlink" title="1. åŸç†"></a>1. åŸç†</h4><p>Python ä¸­çš„æ¯ä¸ªå¯¹è±¡ï¼ˆæ¯”å¦‚ä¸€ä¸ªåˆ—è¡¨ã€ä¸€ä¸ªæ•°å­—ï¼‰å†…éƒ¨éƒ½æœ‰ä¸€ä¸ªå­—æ®µå« <code>ob_refcnt</code>ï¼Œè®°å½•ç€**â€œç°åœ¨æœ‰å¤šå°‘ä¸ªå˜é‡å¼•ç”¨ç€æˆ‘â€**ã€‚</p><ul><li><strong>è®¡æ•° +1 çš„æƒ…å†µ</strong>ï¼š<ul><li>å¯¹è±¡è¢«åˆ›å»ºï¼š<code>a = [1, 2]</code> ï¼ˆè®¡æ•°&#x3D;1ï¼‰</li><li>è¢«èµ‹å€¼ç»™åˆ«äººï¼š<code>b = a</code> ï¼ˆè®¡æ•°&#x3D;2ï¼‰</li><li>ä½œä¸ºå‚æ•°ä¼ ç»™å‡½æ•°ï¼š<code>func(a)</code> ï¼ˆè®¡æ•°+1ï¼Œå‡½æ•°ç»“æŸ-1ï¼‰</li><li>è¢«æ”¾è¿›å®¹å™¨é‡Œï¼š<code>list_c = [a]</code> ï¼ˆè®¡æ•°+1ï¼‰</li></ul></li><li><strong>è®¡æ•° -1 çš„æƒ…å†µ</strong>ï¼š<ul><li>å˜é‡è¢«æ˜¾å¼é”€æ¯ï¼š<code>del a</code></li><li>å˜é‡è¢«èµ‹äºˆäº†æ–°å€¼ï¼š<code>a = &quot;hello&quot;</code> ï¼ˆåŸæ¥çš„ <code>[1,2]</code> è®¡æ•°-1ï¼‰</li><li>ç¦»å¼€ä½œç”¨åŸŸï¼ˆå‡½æ•°è¿è¡Œç»“æŸï¼‰ï¼šå±€éƒ¨å˜é‡ä¼šè¢«è‡ªåŠ¨é”€æ¯ã€‚</li></ul></li><li><strong>å›æ”¶æ—¶åˆ»</strong>ï¼š<ul><li>ä¸€æ—¦æŸä¸ªå¯¹è±¡çš„å¼•ç”¨è®¡æ•°å˜æˆ <strong>0</strong>ï¼ŒPython é‡Œçš„â€œæ”¶å°¸é˜Ÿâ€ä¼š<strong>ç«‹åˆ»</strong>æŠŠå®ƒå›æ”¶ï¼Œé‡Šæ”¾å†…å­˜ã€‚è¿™æ˜¯ä¸€ç§<strong>å®æ—¶</strong>çš„å›æ”¶æœºåˆ¶ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> sys<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Hero</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name</span>):<br>        <span class="hljs-variable language_">self</span>.name = name<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;âœ… <span class="hljs-subst">&#123;self.name&#125;</span> å‡ºç”Ÿäº†&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__del__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ğŸ’€ <span class="hljs-subst">&#123;self.name&#125;</span> è¢«é”€æ¯äº† (å†…å­˜é‡Šæ”¾)&quot;</span>)<br><br><span class="hljs-comment"># --- æµ‹è¯• ---</span><br><br><span class="hljs-comment"># 1. åˆ›å»ºå¯¹è±¡ï¼ˆè®¡æ•°=1ï¼‰</span><br>h1 = Hero(<span class="hljs-string">&quot;äºšç´¢&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å¼•ç”¨è®¡æ•°: <span class="hljs-subst">&#123;sys.getrefcount(h1)&#125;</span>&quot;</span>) <br><span class="hljs-comment"># æ³¨æ„ï¼šsys.getrefcount() ä¼šæ¯”å®é™…å¤š 1ï¼Œå› ä¸ºå®ƒè‡ªå·±ä½œä¸ºå‚æ•°ä¹Ÿå¼•ç”¨äº†ä¸€æ¬¡</span><br><br><span class="hljs-comment"># 2. å¢åŠ å¼•ç”¨ï¼ˆè®¡æ•°+1ï¼‰</span><br>h2 = h1<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å¼•ç”¨è®¡æ•°: <span class="hljs-subst">&#123;sys.getrefcount(h1)&#125;</span>&quot;</span>) <span class="hljs-comment"># ç°åœ¨æœ‰ä¸¤ä¸ªå˜é‡æŒ‡ç€å®ƒ</span><br><br><span class="hljs-comment"># 3. åˆ é™¤å…¶ä¸­ä¸€ä¸ªå¼•ç”¨</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; åˆ é™¤ h1...&quot;</span>)<br><span class="hljs-keyword">del</span> h1<br><span class="hljs-comment"># æ­¤æ—¶ h2 è¿˜åœ¨ï¼Œå¼•ç”¨è®¡æ•°æ²¡å½’é›¶ï¼Œæ‰€ä»¥äºšç´¢è¿˜æ´»ç€ï¼Œä¸ä¼šæ‰“å° &quot;è¢«é”€æ¯&quot;</span><br><br><span class="hljs-comment"># 4. åˆ é™¤æœ€åä¸€ä¸ªå¼•ç”¨</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; åˆ é™¤ h2...&quot;</span>)<br><span class="hljs-keyword">del</span> h2<br><span class="hljs-comment"># æ­¤æ—¶å¼•ç”¨è®¡æ•°ä¸º 0ï¼Œç³»ç»Ÿç«‹åˆ»è§¦å‘å›æ”¶ï¼Œæ‰“å° &quot;è¢«é”€æ¯&quot;</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; ç¨‹åºç»“æŸ&quot;</span>)<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">âœ… äºšç´¢ å‡ºç”Ÿäº†</span><br><span class="hljs-string">å¼•ç”¨è®¡æ•°: 2</span><br><span class="hljs-string">å¼•ç”¨è®¡æ•°: 3</span><br><span class="hljs-string"><span class="hljs-meta">&gt;&gt;&gt; </span>åˆ é™¤ h1...</span><br><span class="hljs-string"><span class="hljs-meta">&gt;&gt;&gt; </span>åˆ é™¤ h2...</span><br><span class="hljs-string">ğŸ’€ äºšç´¢ è¢«é”€æ¯äº† (å†…å­˜é‡Šæ”¾)</span><br><span class="hljs-string"><span class="hljs-meta">&gt;&gt;&gt; </span>ç¨‹åºç»“æŸ</span><br></code></pre></td></tr></table></figure><h4 id="è‡´å‘½ç¼ºç‚¹ï¼šå¾ªç¯å¼•ç”¨-Circular-Reference"><a href="#è‡´å‘½ç¼ºç‚¹ï¼šå¾ªç¯å¼•ç”¨-Circular-Reference" class="headerlink" title="è‡´å‘½ç¼ºç‚¹ï¼šå¾ªç¯å¼•ç”¨ (Circular Reference)"></a>è‡´å‘½ç¼ºç‚¹ï¼šå¾ªç¯å¼•ç”¨ (Circular Reference)</h4><p>å¼•ç”¨è®¡æ•°éå¸¸å¿«ï¼Œä½†æœ‰ä¸€ä¸ªæ­»ç©´ã€‚è¯·çœ‹ä¸‹é¢è¿™ä¸ªç»å…¸çš„â€œäº’ä¸ºèˆ”ç‹—â€åœºæ™¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python">a = [<span class="hljs-number">1</span>]<br>b = [<span class="hljs-number">2</span>]<br><br><span class="hljs-comment"># äº’ç›¸å¼•ç”¨</span><br>a.append(b) <span class="hljs-comment"># a å¼•ç”¨ b</span><br>b.append(a) <span class="hljs-comment"># b å¼•ç”¨ a</span><br><br><span class="hljs-comment"># åˆ é™¤å¤–éƒ¨å¼•ç”¨</span><br><span class="hljs-keyword">del</span> a<br><span class="hljs-keyword">del</span> b<br></code></pre></td></tr></table></figure><p><strong>ç»“æœ</strong>ï¼š</p><ul><li>æ‰§è¡Œ <code>del a</code> åï¼Œ<code>[1]</code> çš„è®¡æ•°ä» 2 å‡ä¸º 1ï¼ˆå› ä¸º <code>b</code> è¿˜åœ¨å¼•ç”¨å®ƒï¼‰ã€‚</li><li>æ‰§è¡Œ <code>del b</code> åï¼Œ<code>[2]</code> çš„è®¡æ•°ä» 2 å‡ä¸º 1ï¼ˆå› ä¸º <code>a</code> è¿˜åœ¨å¼•ç”¨å®ƒï¼‰ã€‚</li><li><strong>æ­»é”</strong>ï¼šå¤–ç•Œå·²ç»è°ä¹Ÿæ‰¾ä¸åˆ°è¿™ä¸¤ä¸ªåˆ—è¡¨äº†ï¼Œä½†å®ƒä¿©åœ¨å†…å­˜é‡Œäº’ç›¸æŠ“ç€å¯¹æ–¹ï¼Œè®¡æ•°å™¨æ°¸è¿œä¸ä¸º 0ã€‚è¿™å°±é€ æˆäº†<strong>å†…å­˜æ³„æ¼</strong>ã€‚</li></ul><p><strong>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒPython å¼•å…¥äº†åé¢ä¸¤æŠŠè¾…åŠ©æ–§å¤´ã€‚</strong></p><hr><h2 id="æ ‡è®°-æ¸…é™¤-Mark-and-Sweep"><a href="#æ ‡è®°-æ¸…é™¤-Mark-and-Sweep" class="headerlink" title="æ ‡è®°-æ¸…é™¤ (Mark and Sweep)"></a>æ ‡è®°-æ¸…é™¤ (Mark and Sweep)</h2><p>è¿™æŠŠæ–§å¤´ä¸“é—¨ç”¨æ¥è§£å†³<strong>å¾ªç¯å¼•ç”¨</strong>çš„é—®é¢˜ã€‚</p><p>å®ƒä¸å†ç›¯ç€è®¡æ•°å™¨çœ‹ï¼Œè€Œæ˜¯ä»æ›´é«˜çš„è§†è§’çœ‹**â€œè¿é€šæ€§â€**ã€‚</p><h4 id="1-åŸç†ï¼ˆå›¾è®ºæ€æƒ³ï¼‰"><a href="#1-åŸç†ï¼ˆå›¾è®ºæ€æƒ³ï¼‰" class="headerlink" title="1. åŸç†ï¼ˆå›¾è®ºæ€æƒ³ï¼‰"></a>1. åŸç†ï¼ˆå›¾è®ºæ€æƒ³ï¼‰</h4><p>Python ä¼šæŠŠæ‰€æœ‰çš„å¯¹è±¡çœ‹ä½œå›¾çš„èŠ‚ç‚¹ï¼Œå¼•ç”¨çœ‹ä½œè¾¹ã€‚</p><ul><li><strong>Root (æ ¹èŠ‚ç‚¹)</strong>ï¼šå…¨å±€å˜é‡ã€è°ƒç”¨æ ˆé‡Œçš„å˜é‡ã€å¯„å­˜å™¨ã€‚è¿™äº›æ˜¯ç»å¯¹ä¸èƒ½å›æ”¶çš„â€œå¤§äººç‰©â€ã€‚</li></ul><h4 id="2-è¿‡ç¨‹"><a href="#2-è¿‡ç¨‹" class="headerlink" title="2. è¿‡ç¨‹"></a>2. è¿‡ç¨‹</h4><ol><li><strong>æ ‡è®° (Mark)</strong>ï¼šGC ç®—æ³•ä»â€œæ ¹èŠ‚ç‚¹â€å‡ºå‘ï¼Œæ²¿ç€å¼•ç”¨é“¾å¾€ä¸‹èµ°ã€‚å‡¡æ˜¯èƒ½èµ°åˆ°çš„å¯¹è±¡ï¼Œéƒ½æ‰“ä¸Šâ€œ<strong>å­˜æ´»</strong>â€çš„æ ‡ç­¾ã€‚</li><li><strong>æ¸…é™¤ (Sweep)</strong>ï¼šéå†æ‰€æœ‰å¯¹è±¡ï¼Œå‡¡æ˜¯<strong>æ²¡æœ‰</strong>è¢«æ‰“ä¸Šâ€œå­˜æ´»â€æ ‡ç­¾çš„ï¼ˆä¹Ÿå°±æ˜¯é‚£äº›ä¸å¤–ç•Œå½»åº•å¤±è”çš„â€œå­¤å²›â€ï¼Œæ¯”å¦‚åˆšæ‰äº’ä¸ºèˆ”ç‹—çš„é‚£ä¿©ï¼‰ï¼Œç»Ÿç»Ÿå¹²æ‰ã€‚</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> gc<br><span class="hljs-keyword">import</span> sys<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Node</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name</span>):<br>        <span class="hljs-variable language_">self</span>.name = name<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;âœ… <span class="hljs-subst">&#123;self.name&#125;</span> å‡†å¤‡å¥½äº†&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__del__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;â™»ï¸ <span class="hljs-subst">&#123;self.name&#125;</span> è¢« GC å›æ”¶äº†&quot;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">create_cycle</span>():<br>    <span class="hljs-comment"># 1. åˆ›å»ºä¸¤ä¸ªå¯¹è±¡</span><br>    n1 = Node(<span class="hljs-string">&quot;èŠ‚ç‚¹A&quot;</span>)<br>    n2 = Node(<span class="hljs-string">&quot;èŠ‚ç‚¹B&quot;</span>)<br><br>    <span class="hljs-comment"># 2. åˆ¶é€ å¾ªç¯å¼•ç”¨ (äº’ä¸ºèˆ”ç‹—)</span><br>    n1.partner = n2 <span class="hljs-comment"># Python å…è®¸åœ¨å¯¹è±¡åˆ›å»ºåçš„ä»»ä½•æ—¶é—´ï¼Œç»™å®ƒèº«ä¸Šè´´ä»»ä½•æ–°çš„å±æ€§æ ‡ç­¾ã€‚</span><br>    n2.partner = n1<br><br>    <span class="hljs-comment"># 3. åˆ é™¤å¤–éƒ¨å¼•ç”¨</span><br>    <span class="hljs-comment"># æŒ‰ç†è¯´ï¼Œå‡½æ•°ç»“æŸï¼Œn1 å’Œ n2 åº”è¯¥è¢«é”€æ¯ã€‚</span><br>    <span class="hljs-comment"># ä½†å› ä¸ºå®ƒä»¬äº’ç›¸æ‹‰ç€å¯¹æ–¹ï¼Œå¼•ç”¨è®¡æ•°ä¸ä¸º 0ï¼Œæ‰€ä»¥é»˜è®¤æ— æ³•å›æ”¶ï¼</span><br>    <span class="hljs-keyword">del</span> n1<br>    <span class="hljs-keyword">del</span> n2<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; å‡½æ•°è¿è¡Œç»“æŸï¼Œå¤–éƒ¨å¼•ç”¨å·²æ–­å¼€&quot;</span>)<br><br><span class="hljs-comment"># --- æµ‹è¯• ---</span><br><br><span class="hljs-comment"># ä¸ºäº†æ¼”ç¤ºæ•ˆæœï¼Œæˆ‘ä»¬å…ˆå…³é—­è‡ªåŠ¨ GCï¼Œæ¨¡æ‹Ÿå¼•ç”¨è®¡æ•°è§£å†³ä¸äº†çš„åœºæ™¯</span><br>gc.disable()<br><br>create_cycle()<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;--- ç­‰å¾…ç‰‡åˆ» ---&quot;</span>)<br><span class="hljs-comment"># æ­¤æ—¶ä½ ä¼šå‘ç°ï¼Œå¹¶æ²¡æœ‰æ‰“å° &quot;è¢« GC å›æ”¶äº†&quot;ï¼Œè¯´æ˜å†…å­˜æ³„æ¼äº†ï¼</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; æ‰‹åŠ¨è§¦å‘ GC (æ ‡è®°-æ¸…é™¤)...&quot;</span>)<br><span class="hljs-comment"># æ‰‹åŠ¨å¬å”¤æ”¶å°¸é˜Ÿ</span><br>collected_num = gc.collect()<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;æœ¬æ¬¡ GC æ¸…ç†äº† <span class="hljs-subst">&#123;collected_num&#125;</span> ä¸ªåƒåœ¾å¯¹è±¡&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;--- ç¨‹åºå½»åº•ç»“æŸ ---&quot;</span>)<br></code></pre></td></tr></table></figure><hr><h2 id="åˆ†ä»£å›æ”¶-Generational-Collection"><a href="#åˆ†ä»£å›æ”¶-Generational-Collection" class="headerlink" title="åˆ†ä»£å›æ”¶ (Generational Collection)"></a>åˆ†ä»£å›æ”¶ (Generational Collection)</h2><p>æ ‡è®°-æ¸…é™¤è™½ç„¶èƒ½è§£å†³å¾ªç¯å¼•ç”¨ï¼Œä½†å®ƒè¦æŠŠæ‰€æœ‰å¯¹è±¡æ‰«æä¸€éï¼Œ<strong>å¤ªæ…¢äº†</strong>ï¼ ä¸ºäº†ä¸æ‹–æ…¢ç¨‹åºè¿è¡Œé€Ÿåº¦ï¼ŒPython å¼•å…¥äº†**â€œåˆ†ä»£å›æ”¶â€**ï¼ˆåŸºäºâ€œç©ºé—´æ¢æ—¶é—´â€çš„æ€æƒ³ï¼‰ã€‚</p><h4 id="1-æ ¸å¿ƒå‡è®¾"><a href="#1-æ ¸å¿ƒå‡è®¾" class="headerlink" title="1. æ ¸å¿ƒå‡è®¾"></a>1. æ ¸å¿ƒå‡è®¾</h4><p><strong>â€œå¯¹è±¡å­˜æ´»è¶Šä¹…ï¼Œå®ƒæ˜¯åƒåœ¾çš„å¯èƒ½æ€§è¶Šå°ã€‚â€</strong></p><ul><li>æ–°åˆ›å»ºçš„å¯¹è±¡ï¼ˆæ¯”å¦‚å¾ªç¯é‡Œçš„ä¸´æ—¶å˜é‡ï¼‰å¾€å¾€æ­»å¾—å¿«ã€‚</li><li>è€ä¸æ­»çš„å¯¹è±¡ï¼ˆæ¯”å¦‚å…¨å±€é…ç½®ï¼‰å¾€å¾€ä¼šä¸€ç›´æ´»ä¸‹å»ã€‚</li></ul><h4 id="2-ä¸‰ä»£äºº-0ä»£-1ä»£-2ä»£"><a href="#2-ä¸‰ä»£äºº-0ä»£-1ä»£-2ä»£" class="headerlink" title="2. ä¸‰ä»£äºº (0ä»£, 1ä»£, 2ä»£)"></a>2. ä¸‰ä»£äºº (0ä»£, 1ä»£, 2ä»£)</h4><p>Python å°†æ‰€æœ‰çš„å¯¹è±¡åˆ†ä¸ºä¸‰ä»£ï¼š</p><ul><li><strong>0ä»£ (Generation 0)</strong>ï¼šæ–°ç”Ÿä»£ã€‚æ‰€æœ‰æ–°åˆ›å»ºçš„å¯¹è±¡éƒ½æ”¾è¿™é‡Œã€‚</li><li><strong>1ä»£ (Generation 1)</strong>ï¼šä¸­ç”Ÿä»£ã€‚</li><li><strong>2ä»£ (Generation 2)</strong>ï¼šè€å¹´ä»£ã€‚</li></ul><h4 id="3-å›æ”¶é€»è¾‘"><a href="#3-å›æ”¶é€»è¾‘" class="headerlink" title="3. å›æ”¶é€»è¾‘"></a>3. å›æ”¶é€»è¾‘</h4><ol><li><strong>æ‰«æé¢‘ç‡</strong>ï¼š0ä»£æ‰«ææœ€å‹¤å¿«ï¼Œ1ä»£æ¬¡ä¹‹ï¼Œ2ä»£æœ€æ‡’ã€‚</li><li><strong>æ™‹å‡æœºåˆ¶</strong>ï¼š<ul><li>å½“ GC æ‰«æ 0ä»£åˆ—è¡¨æ—¶ï¼Œå‘ç°æœ‰äº›å¯¹è±¡å±…ç„¶è¿˜æ´»ç€ï¼ˆæ²¡è¢«å›æ”¶ï¼‰ï¼Œé‚£å°±æŠŠå®ƒä»¬<strong>ç§»å…¥ 1ä»£</strong>ã€‚</li><li>åŒç†ï¼Œå¦‚æœåœ¨æ‰«æ 1ä»£æ—¶å¯¹è±¡è¿˜æ²¡æ­»ï¼Œå°±<strong>ç§»å…¥ 2ä»£</strong>ã€‚</li></ul></li><li><strong>è§¦å‘é˜ˆå€¼</strong>ï¼ˆäº†è§£å³å¯ï¼‰ï¼š<ul><li>å½“ 0ä»£å¯¹è±¡æ•°é‡è¾¾åˆ°ä¸€å®šé˜ˆå€¼ï¼ˆé»˜è®¤ 700 ä¸ªï¼‰ï¼Œå°±ä¼šè§¦å‘ä¸€æ¬¡ 0ä»£ GCã€‚</li><li>å½“ 0ä»£ GC è§¦å‘ 10 æ¬¡ï¼Œæ‰ä¼šè§¦å‘ä¸€æ¬¡ 1ä»£ GCã€‚</li><li>å½“ 1ä»£ GC è§¦å‘ 10 æ¬¡ï¼Œæ‰ä¼šè§¦å‘ä¸€æ¬¡ 2ä»£ GCã€‚</li></ul></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> gc<br><br><span class="hljs-comment"># è·å–å½“å‰çš„åˆ†ä»£å›æ”¶é˜ˆå€¼</span><br>threshold = gc.get_threshold()<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;700 è¡¨ç¤ºï¼š0ä»£å¯¹è±¡è¶…è¿‡ 700 ä¸ªè§¦å‘ä¸€æ¬¡ GC&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;10  è¡¨ç¤ºï¼š0ä»£ GC è§¦å‘ 10 æ¬¡ï¼Œè§¦å‘ä¸€æ¬¡ 1ä»£ GC&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;10  è¡¨ç¤ºï¼š1ä»£ GC è§¦å‘ 10 æ¬¡ï¼Œè§¦å‘ä¸€æ¬¡ 2ä»£ GC&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å½“å‰é˜ˆå€¼: <span class="hljs-subst">&#123;threshold&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># è·å–å½“å‰æ¯ä¸€ä»£çš„åƒåœ¾æ•°é‡</span><br><span class="hljs-comment"># ç»“æœç±»ä¼¼ (count0, count1, count2)</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å½“å‰å„ä»£åƒåœ¾æ•°é‡: <span class="hljs-subst">&#123;gc.get_count()&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><hr><h1 id="æ•°æ®ç»“æ„åŸç†"><a href="#æ•°æ®ç»“æ„åŸç†" class="headerlink" title="æ•°æ®ç»“æ„åŸç†"></a>æ•°æ®ç»“æ„åŸç†</h1><h3 id="1-åˆ—è¡¨-List-vs-å…ƒç»„-Tuple"><a href="#1-åˆ—è¡¨-List-vs-å…ƒç»„-Tuple" class="headerlink" title="1. åˆ—è¡¨ (List) vs å…ƒç»„ (Tuple)"></a>1. åˆ—è¡¨ (List) vs å…ƒç»„ (Tuple)</h3><p><strong>é¢è¯•é¢˜</strong>ï¼šâ€œList å’Œ Tuple æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆ Python è¦è®¾è®¡ä¸¤ä¸ªçœ‹ä¼¼ä¸€æ ·çš„ä¸œè¥¿ï¼Ÿâ€</p><h4 id="æ ¸å¿ƒåŒºåˆ«ï¼š"><a href="#æ ¸å¿ƒåŒºåˆ«ï¼š" class="headerlink" title="æ ¸å¿ƒåŒºåˆ«ï¼š"></a>æ ¸å¿ƒåŒºåˆ«ï¼š</h4><ol><li><strong>å¯å˜æ€§ (Mutability)</strong>ï¼š<ul><li><strong>List (<code>[]</code>)</strong>ï¼š<strong>å¯å˜çš„ï¼ˆMutableï¼‰</strong>ã€‚<ul><li><strong>æ¯”å–»</strong>ï¼šå®ƒå°±åƒä¸€ä¸ª**â€œèƒŒåŒ…â€**ã€‚ä½ å¯ä»¥éšæ—¶å¾€é‡Œå¡ä¸œè¥¿ã€æ‹¿ä¸œè¥¿å‡ºæ¥ï¼Œç”šè‡³æŠŠé‡Œé¢çš„è‹¹æœæ¢æˆé¦™è•‰ã€‚</li></ul></li><li><strong>Tuple (<code>()</code>)</strong>ï¼š<strong>ä¸å¯å˜çš„ï¼ˆImmutableï¼‰</strong>ã€‚<ul><li><strong>æ¯”å–»</strong>ï¼šå®ƒå°±åƒä¸€ä¸ª**â€œç¥ç€â€<strong>æˆ–è€…</strong>â€œå°æ­»çš„å¿«é€’ç®±â€**ã€‚ä¸€æ—¦å‡ºå‚ï¼ˆåˆ›å»ºï¼‰ï¼Œé‡Œé¢çš„ä¸œè¥¿å°±å®šæ­»äº†ã€‚ä½ æƒ³æ”¹ï¼Ÿåªèƒ½æ‰“ç¢äº†é‡æ–°åšä¸€ä¸ªã€‚</li></ul></li></ul></li><li><strong>æ€§èƒ½ (Performance)</strong>ï¼š<ul><li><strong>Tuple æ¯” List å¿«</strong>ã€‚</li><li><strong>åŸå› </strong>ï¼š<ul><li>Python å¯¹ Tuple åšäº†<strong>å†…å­˜ç¼“å­˜æœºåˆ¶</strong>ã€‚å½“ä½ åˆ›å»ºä¸€ä¸ª tuple æ—¶ï¼ŒPython çŸ¥é“å®ƒä¸ä¼šå˜ï¼Œæ‰€ä»¥å¯ä»¥æ”¾å¿ƒå¤§èƒ†åœ°åˆ†é…ä¸€æ®µå›ºå®šçš„å†…å­˜ï¼Œä¸éœ€è¦åƒ List é‚£æ ·é¢„ç•™é¢å¤–çš„ç©ºé—´ï¼ˆä¸ºäº† appendï¼‰ã€‚</li><li>å¦‚æœä½ çš„æ•°æ®åªè¯»ä¸æ”¹ï¼ˆæ¯”å¦‚é…ç½®å‚æ•°ã€æ•°æ®åº“æŸ¥å‡ºæ¥çš„ç»“æœï¼‰ï¼Œè¯·æ— è„‘ç”¨ Tupleã€‚</li></ul></li></ul></li><li><strong>ä½œä¸ºå­—å…¸çš„ Key</strong>ï¼š<ul><li><strong>Tuple å¯ä»¥</strong>åšå­—å…¸çš„ Keyï¼ˆåªè¦é‡Œé¢è£…çš„ä¹Ÿæ˜¯ä¸å¯å˜å…ƒç´ ï¼‰ã€‚</li><li><strong>List ä¸è¡Œ</strong>ï¼ˆå› ä¸ºå®ƒæ˜¯å¯å˜çš„ï¼Œä¸å¯å“ˆå¸Œï¼‰ã€‚</li></ul></li></ol><hr><h3 id="2-å­—å…¸-Dict-çš„åº•å±‚åŸç†-â€”â€”-å“ˆå¸Œè¡¨-Hash-Table"><a href="#2-å­—å…¸-Dict-çš„åº•å±‚åŸç†-â€”â€”-å“ˆå¸Œè¡¨-Hash-Table" class="headerlink" title="2. å­—å…¸ (Dict) çš„åº•å±‚åŸç† â€”â€” å“ˆå¸Œè¡¨ (Hash Table)"></a>2. å­—å…¸ (Dict) çš„åº•å±‚åŸç† â€”â€” å“ˆå¸Œè¡¨ (Hash Table)</h3><p><strong>é¢è¯•é¢˜</strong>ï¼šâ€œå­—å…¸ä¸ºä»€ä¹ˆæŸ¥æ‰¾é€Ÿåº¦è¿™ä¹ˆå¿«ï¼Ÿåº•å±‚æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿâ€</p><p>è¿™æ˜¯ Python é¢è¯•ä¸­<strong>å«é‡‘é‡æœ€é«˜</strong>çš„é—®é¢˜ã€‚</p><h4 id="æ ¸å¿ƒåŸç†ï¼š"><a href="#æ ¸å¿ƒåŸç†ï¼š" class="headerlink" title="æ ¸å¿ƒåŸç†ï¼š"></a>æ ¸å¿ƒåŸç†ï¼š</h4><p>å­—å…¸æŸ¥æ‰¾æ˜¯ <strong>O(1)</strong> çš„æ—¶é—´å¤æ‚åº¦ï¼ˆä¹Ÿå°±æ˜¯<strong>ç§’æŸ¥</strong>ï¼Œä¸ç®¡å­—å…¸é‡Œæœ‰ 1 ä¸‡ä¸ªæ•°æ®è¿˜æ˜¯ 1 äº¿ä¸ªï¼ŒæŸ¥æ‰¾é€Ÿåº¦å‡ ä¹ä¸€æ ·å¿«ï¼‰ã€‚</p><p><strong>æ¯”å–»ï¼šè¶…å¸‚å‚¨ç‰©æŸœ</strong></p><ul><li><strong>Hash å‡½æ•°</strong>ï¼šå°±æ˜¯<strong>æ¡å½¢ç æ‰«ææª</strong>ã€‚</li><li><strong>Key</strong>ï¼šä½ æ‰‹é‡Œçš„<strong>å°ç¥¨</strong>ã€‚</li><li><strong>Value</strong>ï¼šæŸœå­é‡Œçš„<strong>åŒ…</strong>ã€‚</li></ul><p>å½“ä½ æƒ³å­˜ä¸œè¥¿ï¼ˆ<code>dict[&quot;name&quot;] = &quot;äºšç´¢&quot;</code>ï¼‰ï¼š</p><ol><li>Python æ‹¿ç€ â€œnameâ€ è¿™ä¸ª Keyï¼Œé€šè¿‡ <strong>å“ˆå¸Œå‡½æ•° (hash function)</strong> ç®—å‡ºä¸€ä¸ªæ•°å­—ï¼ˆæ¯”å¦‚ 10086ï¼‰ã€‚</li><li>è¿™ä¸ªæ•°å­—ç›´æ¥å¯¹åº”å†…å­˜é‡Œçš„<strong>åœ°å€ç´¢å¼•</strong>ã€‚</li><li>Python ç›´æ¥æŠŠ â€œäºšç´¢â€ æ‰”è¿› 10086 å·æŸœå­ã€‚</li></ol><p>å½“ä½ æƒ³å–ä¸œè¥¿ï¼ˆ<code>dict[&quot;name&quot;]</code>ï¼‰ï¼š</p><ol><li>Python æ‹¿ç€ â€œnameâ€ å†ç®—ä¸€æ¬¡å“ˆå¸Œå€¼ï¼Œç®—å‡º 10086ã€‚</li><li>ç›´æ¥å» 10086 å·æŸœå­æ‹¿æ•°æ®ã€‚</li><li><strong>å®Œå…¨ä¸éœ€è¦éå†ï¼</strong> ä¸éœ€è¦ä¸€ä¸ªä¸ªæŸœå­æ‰“å¼€çœ‹ã€‚</li></ol><h4 id="è¿½é—®ï¼šå“ˆå¸Œå†²çª-Hash-Collision"><a href="#è¿½é—®ï¼šå“ˆå¸Œå†²çª-Hash-Collision" class="headerlink" title="è¿½é—®ï¼šå“ˆå¸Œå†²çª (Hash Collision)"></a>è¿½é—®ï¼šå“ˆå¸Œå†²çª (Hash Collision)</h4><p><strong>é¢è¯•é¢˜</strong>ï¼šâ€œå¦‚æœä¸¤ä¸ªä¸åŒçš„ Keyï¼Œç®—å‡ºæ¥çš„å“ˆå¸Œå€¼ä¸€æ ·ï¼ˆéƒ½è¦æŠ¢ 10086 å·æŸœå­ï¼‰æ€ä¹ˆåŠï¼Ÿâ€</p><ul><li><strong>Java (HashMap)</strong>ï¼šé‡‡ç”¨**â€œé“¾åœ°å€æ³•â€**ã€‚å¦‚æœä½ æ¥äº†å‘ç° 10086 æœ‰äººäº†ï¼Œä½ åœ¨ 10086 åé¢æŒ‚ä¸ªé’©å­ï¼ŒåŠåœ¨ä¸‹é¢ï¼ˆå½¢æˆé“¾è¡¨ï¼‰ã€‚</li><li><strong>Python (Dict)</strong>ï¼šé‡‡ç”¨**â€œå¼€æ”¾å¯»å€æ³•â€ (Open Addressing)**ã€‚<ul><li><strong>é€»è¾‘</strong>ï¼šå¦‚æœä½ æ¥äº†å‘ç° 10086 è¢«å äº†ï¼ŒPython ä¼šè¯´ï¼šâ€œåˆ«æ€¥ï¼Œå¾€åçœ‹ï¼â€</li><li>å®ƒä¼šæŒ‰ç…§æŸç§è§„åˆ™ï¼ˆæ¯”å¦‚çœ‹ 10087ã€10088â€¦ï¼‰å»æ‰¾<strong>ä¸‹ä¸€ä¸ªç©ºçš„æŸœå­</strong>å­˜è¿›å»ã€‚</li><li><em>æ³¨ï¼šPython 3.6+ ä¹‹åå¯¹å­—å…¸è¿›è¡Œäº†å¤§é‡ä¼˜åŒ–ï¼ˆå˜å¾—æœ‰åºä¸”æ›´çœå†…å­˜ï¼‰ï¼Œä½†æ ¸å¿ƒä¾ç„¶æ˜¯å“ˆå¸Œè¡¨ã€‚</em></li></ul></li></ul><hr><h3 id="3-åˆ—è¡¨-List-çš„åº•å±‚-â€”â€”-åŠ¨æ€æ•°ç»„"><a href="#3-åˆ—è¡¨-List-çš„åº•å±‚-â€”â€”-åŠ¨æ€æ•°ç»„" class="headerlink" title="3. åˆ—è¡¨ (List) çš„åº•å±‚ â€”â€” åŠ¨æ€æ•°ç»„"></a>3. åˆ—è¡¨ (List) çš„åº•å±‚ â€”â€” åŠ¨æ€æ•°ç»„</h3><p><strong>é¢è¯•é¢˜</strong>ï¼šâ€œList æ˜¯æ€ä¹ˆå®ç°åŠ¨æ€æ‰©å®¹çš„ï¼Ÿä¸ºä»€ä¹ˆ append å¾ˆå¿«ï¼Œinsert å¾ˆæ…¢ï¼Ÿâ€</p><h4 id="åŸç†ï¼š"><a href="#åŸç†ï¼š" class="headerlink" title="åŸç†ï¼š"></a>åŸç†ï¼š</h4><p>Python çš„ List ä¸æ˜¯é“¾è¡¨ï¼Œè€Œæ˜¯<strong>è¿ç»­çš„å†…å­˜ç©ºé—´ï¼ˆæ•°ç»„ï¼‰</strong>ï¼Œé‡Œé¢å­˜çš„æ˜¯<strong>æŒ‡é’ˆ</strong>ï¼ˆæŒ‡å‘å…·ä½“çš„å¯¹è±¡ï¼‰ã€‚</p><ol><li><strong>ä¸ºä»€ä¹ˆ append (å°¾éƒ¨æ’å…¥) å¿«ï¼Ÿ</strong><ul><li>List åœ¨åˆå§‹åŒ–æ—¶ï¼Œä¼š<strong>å·å·å¤šç”³è¯·ä¸€ç‚¹å†…å­˜</strong>ã€‚</li><li>æ¯”å¦‚ä½ å­˜ 3 ä¸ªæ•°ï¼Œå®ƒå®é™…ç”³è¯·äº† 4 ä¸ªå‘ä½ã€‚å½“ä½  <code>append</code> ç¬¬ 4 ä¸ªæ•°æ—¶ï¼Œç›´æ¥æ”¾è¿›å»å°±è¡Œï¼Œä¸éœ€è¦æ‰¾æ“ä½œç³»ç»Ÿè¦å†…å­˜ã€‚</li></ul></li><li><strong>åŠ¨æ€æ‰©å®¹ (Resizing)</strong>ï¼š<ul><li>å¦‚æœä½  append ç¬¬ 5 ä¸ªæ•°ï¼Œå‘ä½ä¸å¤Ÿäº†æ€ä¹ˆåŠï¼Ÿ</li><li>Python ä¼šç›´æ¥ç”³è¯·ä¸€ä¸ª<strong>æ›´å¤§çš„å†…å­˜æ¡</strong>ï¼ˆé€šå¸¸æ˜¯åŸæ¥çš„ 1.125 å€å·¦å³ï¼‰ï¼Œç„¶åæŠŠæ—§æ•°æ®<strong>ç»Ÿç»Ÿå¤åˆ¶è¿‡å»</strong>ï¼Œå†æŠŠæ—§å†…å­˜æ‰”æ‰ã€‚</li><li>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå¶å°”ä¸€æ¬¡ append ä¼šå˜æ…¢çš„åŸå› ã€‚</li></ul></li><li><strong>ä¸ºä»€ä¹ˆ insert (ä¸­é—´æ’å…¥) æ…¢ï¼Ÿ</strong><ul><li>å¦‚æœä½ åœ¨ index&#x3D;0 çš„ä½ç½®æ’å…¥ä¸€ä¸ªæ•°æ®ã€‚</li><li>Python å¿…é¡»æŠŠåé¢æ‰€æœ‰çš„æ•°æ®<strong>å…¨ä½“èµ·ç«‹ï¼Œå‘åæŒªä¸€ä¸ªä½ç½®</strong>ï¼Œç»™æ–°æ¥çš„è…¾åœ°å„¿ã€‚</li><li>æ•°æ®è¶Šå¤šï¼ŒæŒªåŠ¨è¶Šæ…¢ã€‚æ‰€ä»¥ List æå…¶ä¸é€‚åˆåšâ€œé˜Ÿåˆ—â€ä½¿ç”¨ã€‚</li></ul></li></ol>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Pythonè¿›é˜¶</tag>
      
      <tag>é¢å‘å¯¹è±¡</tag>
      
      <tag>è£…é¥°å™¨</tag>
      
      <tag>æ‹·è´</tag>
      
      <tag>å¤šçº¿ç¨‹</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PythonåŸºç¡€</title>
    <link href="/2025/12/09/Python%E5%9F%BA%E7%A1%80/"/>
    <url>/2025/12/09/Python%E5%9F%BA%E7%A1%80/</url>
    
    <content type="html"><![CDATA[<h1 id="åŸºç¡€è¯­æ³•"><a href="#åŸºç¡€è¯­æ³•" class="headerlink" title="åŸºç¡€è¯­æ³•"></a>åŸºç¡€è¯­æ³•</h1><h2 id="1-1-å­—é¢é‡"><a href="#1-1-å­—é¢é‡" class="headerlink" title="1.1 å­—é¢é‡"></a>1.1 å­—é¢é‡</h2><p>å­—é¢é‡ï¼šåœ¨ä»£ç ä¸­ï¼Œè¢«å†™ä¸‹æ¥çš„çš„å›ºå®šçš„å€¼ï¼Œç§°ä¹‹ä¸ºå­—é¢é‡</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-number">666</span>)<br></code></pre></td></tr></table></figure><hr><h2 id="1-2-æ³¨é‡Š"><a href="#1-2-æ³¨é‡Š" class="headerlink" title="1.2 æ³¨é‡Š"></a>1.2 æ³¨é‡Š</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å•è¡Œæ³¨é‡Š</span><br><span class="hljs-built_in">print</span>(<span class="hljs-number">666</span>)<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">å¤šè¡Œæ³¨é‡Š</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;äººç”Ÿè‹¦çŸ­_&quot;</span>)<br></code></pre></td></tr></table></figure><hr><h2 id="1-3-å˜é‡"><a href="#1-3-å˜é‡" class="headerlink" title="1.3 å˜é‡"></a>1.3 å˜é‡</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å®šä¹‰ä¸€ä¸ªå˜é‡</span><br>money = <span class="hljs-number">50</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;é’±åŒ…è¿˜æœ‰:&quot;</span>,money)<br><br>money -= <span class="hljs-number">10</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;é’±åŒ…è¿˜æœ‰:&quot;</span>,money)<br></code></pre></td></tr></table></figure><hr><h2 id="1-4-æ•°æ®ç±»å‹"><a href="#1-4-æ•°æ®ç±»å‹" class="headerlink" title="1.4 æ•°æ®ç±»å‹"></a>1.4 æ•°æ®ç±»å‹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(<span class="hljs-string">&quot;å°é»&quot;</span>)) <span class="hljs-comment"># &lt;class &#x27;str&#x27;&gt;</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(<span class="hljs-number">123</span>)) <span class="hljs-comment"># &lt;class &#x27;int&#x27;&gt;</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(<span class="hljs-number">13.14</span>)) <span class="hljs-comment"># &lt;class &#x27;float&#x27;&gt;</span><br></code></pre></td></tr></table></figure><hr><h2 id="1-5-ç±»å‹è½¬æ¢"><a href="#1-5-ç±»å‹è½¬æ¢" class="headerlink" title="1.5 ç±»å‹è½¬æ¢"></a>1.5 ç±»å‹è½¬æ¢</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># int() è½¬æ¢ä¸ºæ•´æ•°ç±»å‹</span><br>a = <span class="hljs-built_in">int</span>(<span class="hljs-number">99.6</span>) <span class="hljs-comment"># 99.6 è½¬æ¢ä¸º 99</span><br><span class="hljs-comment"># float() è½¬æ¢ä¸ºæµ®ç‚¹ç±»å‹</span><br>b = <span class="hljs-built_in">float</span>(<span class="hljs-number">99</span>) <span class="hljs-comment"># 99 è½¬æ¢ä¸º 99.0</span><br><span class="hljs-comment"># str() è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹</span><br>c = <span class="hljs-built_in">str</span>(<span class="hljs-number">99</span>) <span class="hljs-comment"># 99 è½¬æ¢ä¸º &quot;99&quot;</span><br><span class="hljs-comment"># bool() è½¬æ¢ä¸ºå¸ƒå°”ç±»å‹</span><br>d = <span class="hljs-built_in">bool</span>(<span class="hljs-number">1</span>) <span class="hljs-comment"># 1 è½¬æ¢ä¸º True</span><br></code></pre></td></tr></table></figure><hr><h2 id="1-6-å­—ç¬¦ä¸²æ‹¼æ¥"><a href="#1-6-å­—ç¬¦ä¸²æ‹¼æ¥" class="headerlink" title="1.6 å­—ç¬¦ä¸²æ‹¼æ¥"></a>1.6 å­—ç¬¦ä¸²æ‹¼æ¥</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;xiaoli&quot;</span> + <span class="hljs-string">&quot;666&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;xiaoli&quot;</span>, <span class="hljs-string">&quot;666&quot;</span>)<br><span class="hljs-comment"># ç”¨+æ‹¼æ¥åªé€‚ç”¨äºå­—ç¬¦ä¸² ä¸é€‚ç”¨ä¸æ•´æ•°å‹æˆ–æµ®ç‚¹å‹</span><br></code></pre></td></tr></table></figure><hr><h2 id="1-7-å­—ç¬¦ä¸²æ ¼å¼åŒ–"><a href="#1-7-å­—ç¬¦ä¸²æ ¼å¼åŒ–" class="headerlink" title="1.7 å­—ç¬¦ä¸²æ ¼å¼åŒ–"></a>1.7 å­—ç¬¦ä¸²æ ¼å¼åŒ–</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;å°é»&quot;</span><br>age = <span class="hljs-number">22</span><br><span class="hljs-comment"># æ–¹å¼ä¸€</span><br><span class="hljs-comment"># %s å³å°†å†…å®¹è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ”¾å…¥å ä½ä½ç½®</span><br>message1 = <span class="hljs-string">&quot;æˆ‘çš„åå­—æ˜¯%s&quot;</span> %name<br>message2 = <span class="hljs-string">&quot;æˆ‘çš„åå­—æ˜¯%s,å¹´é¾„æ˜¯%d&quot;</span> %(name,age)<br><span class="hljs-built_in">print</span>(message1) <span class="hljs-comment"># æˆ‘çš„åå­—æ˜¯å°é»</span><br><span class="hljs-built_in">print</span>(message2) <span class="hljs-comment"># æˆ‘çš„åå­—æ˜¯å°é»,å¹´é¾„æ˜¯22</span><br><span class="hljs-comment"># æ•°å­—ç²¾åº¦æ§åˆ¶ (ä¼šåšå››èˆäº”å…¥)</span><br>message3 = <span class="hljs-string">&quot;æˆ‘çš„åå­—æ˜¯%s,å¹´é¾„æ˜¯%.2f&quot;</span> %(name,age)<br><span class="hljs-built_in">print</span>(message3) <span class="hljs-comment"># æˆ‘çš„åå­—æ˜¯å°é»,å¹´é¾„æ˜¯22.00</span><br><span class="hljs-comment"># æ–¹å¼äºŒ æ¯”è¾ƒå¿«æ· ä¸å…³å¿ƒç²¾åº¦æ§åˆ¶</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;æˆ‘çš„åå­—æ˜¯<span class="hljs-subst">&#123;name&#125;</span>,å¹´é¾„æ˜¯<span class="hljs-subst">&#123;age&#125;</span>&quot;</span>) <span class="hljs-comment"># æˆ‘çš„åå­—æ˜¯å°é»,å¹´é¾„æ˜¯22</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æˆ‘çš„åå­—æ˜¯&quot;</span>,name,<span class="hljs-string">&quot;å¹´é¾„æ˜¯&quot;</span>,age) <span class="hljs-comment"># æˆ‘çš„åå­—æ˜¯ å°é» å¹´é¾„æ˜¯ 22</span><br>age = <span class="hljs-number">22.0</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æˆ‘çš„å¹´é¾„æ˜¯&#123;:.2f&#125;&quot;</span>.<span class="hljs-built_in">format</span>(age)) <span class="hljs-comment"># æˆ‘çš„å¹´é¾„æ˜¯22.00</span><br></code></pre></td></tr></table></figure><hr><h2 id="1-8-è¡¨è¾¾å¼æ ¼å¼åŒ–"><a href="#1-8-è¡¨è¾¾å¼æ ¼å¼åŒ–" class="headerlink" title="1.8 è¡¨è¾¾å¼æ ¼å¼åŒ–"></a>1.8 è¡¨è¾¾å¼æ ¼å¼åŒ–</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æˆ‘çš„å¹´é¾„æ˜¯%s&quot;</span> %(<span class="hljs-number">11</span> + <span class="hljs-number">11</span>)) <span class="hljs-comment"># æˆ‘çš„å¹´é¾„æ˜¯22</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;æˆ‘çš„å¹´é¾„æ˜¯<span class="hljs-subst">&#123;<span class="hljs-number">11</span> + <span class="hljs-number">11</span>&#125;</span>&quot;</span>) <span class="hljs-comment"># æˆ‘çš„å¹´é¾„æ˜¯22</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å­—ç¬¦ä¸²åœ¨pythonä¸­çš„æ•°æ®ç±»å‹æ˜¯%s&quot;</span> %(<span class="hljs-built_in">type</span>(<span class="hljs-string">&quot;å­—ç¬¦ä¸²&quot;</span>))) <span class="hljs-comment"># å­—ç¬¦ä¸²åœ¨pythonä¸­çš„æ•°æ®ç±»å‹æ˜¯&lt;class &#x27;str&#x27;&gt;</span><br></code></pre></td></tr></table></figure><hr><h1 id="åˆ¤æ–­è¯­å¥"><a href="#åˆ¤æ–­è¯­å¥" class="headerlink" title="åˆ¤æ–­è¯­å¥"></a>åˆ¤æ–­è¯­å¥</h1><h2 id="2-1-å¸ƒå°”ç±»å‹"><a href="#2-1-å¸ƒå°”ç±»å‹" class="headerlink" title="2.1 å¸ƒå°”ç±»å‹"></a>2.1 å¸ƒå°”ç±»å‹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">a = <span class="hljs-literal">True</span><br>b = <span class="hljs-literal">False</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;açš„å†…å®¹æ˜¯<span class="hljs-subst">&#123;a&#125;</span>,æ•°æ®ç±»å‹æ˜¯<span class="hljs-subst">&#123;<span class="hljs-built_in">type</span>(a)&#125;</span>&quot;</span>) <span class="hljs-comment"># açš„å†…å®¹æ˜¯True,æ•°æ®ç±»å‹æ˜¯&lt;class &#x27;bool&#x27;&gt;</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;bçš„å†…å®¹æ˜¯<span class="hljs-subst">&#123;b&#125;</span>,æ•°æ®ç±»å‹æ˜¯<span class="hljs-subst">&#123;<span class="hljs-built_in">type</span>(b)&#125;</span>&quot;</span>) <span class="hljs-comment"># bçš„å†…å®¹æ˜¯False,æ•°æ®ç±»å‹æ˜¯&lt;class &#x27;bool&#x27;&gt;</span><br><br>result = <span class="hljs-number">10</span> &gt; <span class="hljs-number">5</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;10 &gt; 5 çš„ç»“æœæ˜¯<span class="hljs-subst">&#123;result&#125;</span>&quot;</span>) <span class="hljs-comment"># 10 &gt; 5 çš„ç»“æœæ˜¯True</span><br></code></pre></td></tr></table></figure><hr><h2 id="2-2-åˆ¤æ–­è¯­å¥"><a href="#2-2-åˆ¤æ–­è¯­å¥" class="headerlink" title="2.2 åˆ¤æ–­è¯­å¥"></a>2.2 åˆ¤æ–­è¯­å¥</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># äº§ç”Ÿä¸€ä¸ª1-10ä¹‹é—´çš„éšæœºæ•°å­—</span><br>num = random.randint(<span class="hljs-number">1</span>,<span class="hljs-number">10</span>)<br><span class="hljs-comment"># print(num)</span><br>guess_num = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¾“å…¥æ‚¨çŒœæµ‹çš„æ•°:&quot;</span>))<br><span class="hljs-keyword">if</span> guess_num == num:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ­å–œï¼Œç¬¬ä¸€æ¬¡å°±çŒœä¸­äº†&quot;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-keyword">if</span> guess_num &gt; num:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;çŒœå¤§äº†&quot;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;çŒœå°äº†&quot;</span>)<br>    guess_num = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;å†çŒœä¸€æ¬¡å§:&quot;</span>))<br>    <span class="hljs-keyword">if</span> guess_num == num:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ­å–œï¼Œç¬¬äºŒæ¬¡çŒœä¸­äº†&quot;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">if</span> guess_num &gt; num:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;çŒœå¤§äº†&quot;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;çŒœå°äº†&quot;</span>)<br>        guess_num = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;å†çŒœä¸€æ¬¡å§:&quot;</span>))<br>        <span class="hljs-keyword">if</span> guess_num == num:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ­å–œï¼Œç¬¬ä¸‰æ¬¡çŒœä¸­äº†&quot;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å¾ˆé—æ†¾ï¼Œä¸‰æ¬¡ä½ éƒ½æ²¡çŒœä¸­&quot;</span>)<br></code></pre></td></tr></table></figure><hr><h1 id="å¾ªç¯è¯­å¥"><a href="#å¾ªç¯è¯­å¥" class="headerlink" title="å¾ªç¯è¯­å¥"></a>å¾ªç¯è¯­å¥</h1><h2 id="3-1-whileå¾ªç¯"><a href="#3-1-whileå¾ªç¯" class="headerlink" title="3.1 whileå¾ªç¯"></a>3.1 whileå¾ªç¯</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">i = <span class="hljs-number">1</span><br><span class="hljs-keyword">while</span> i &lt;= <span class="hljs-number">9</span>:<br>    j = <span class="hljs-number">1</span><br>    <span class="hljs-keyword">while</span> j &lt;= i:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;j&#125;</span> * <span class="hljs-subst">&#123;i&#125;</span> = <span class="hljs-subst">&#123;j * i&#125;</span>\t&quot;</span>, end=<span class="hljs-string">&#x27;&#x27;</span>)  <span class="hljs-comment"># ä¸æ¢è¡Œä¸”å¯¹é½</span><br>        j += <span class="hljs-number">1</span><br>    i += <span class="hljs-number">1</span><br>    <span class="hljs-built_in">print</span>()  <span class="hljs-comment"># æ¢è¡Œ</span><br></code></pre></td></tr></table></figure><hr><h2 id="3-2-forå¾ªç¯"><a href="#3-2-forå¾ªç¯" class="headerlink" title="3.2 forå¾ªç¯"></a>3.2 forå¾ªç¯</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­æœ‰å¤šå°‘ä¸ªa</span><br>name = <span class="hljs-string">&quot;xiaoli is a rapper&quot;</span><br>count = <span class="hljs-number">0</span><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> name:<br>    <span class="hljs-keyword">if</span> x == <span class="hljs-string">&quot;a&quot;</span>:<br>        count += <span class="hljs-number">1</span><br><span class="hljs-built_in">print</span>(count)<br></code></pre></td></tr></table></figure><hr><h2 id="3-3-range"><a href="#3-3-range" class="headerlink" title="3.3 range"></a>3.3 range</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># rangeçš„ä½œç”¨ è·å¾—ä¸€ä¸ªæ•°å­—åºåˆ—</span><br>num1 = <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>)<br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> num1:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;x&#125;</span>\t&quot;</span>,end=<span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-built_in">print</span>()<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>,<span class="hljs-number">10</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;x&#125;</span>\t&quot;</span>, end=<span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-built_in">print</span>()<br><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>,<span class="hljs-number">10</span>,<span class="hljs-number">2</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;x&#125;</span>\t&quot;</span>, end=<span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-built_in">print</span>()<br></code></pre></td></tr></table></figure><hr><h1 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h1><h2 id="4-1-ä¼ å‚æ–¹å¼"><a href="#4-1-ä¼ å‚æ–¹å¼" class="headerlink" title="4.1 ä¼ å‚æ–¹å¼"></a>4.1 ä¼ å‚æ–¹å¼</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å±•ç¤ºå¤šç§ä¼ å‚çš„å½¢å¼</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">user_info</span>(<span class="hljs-params">name, age, gender</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å§“åæ˜¯<span class="hljs-subst">&#123;name&#125;</span>,å¹´é¾„æ˜¯<span class="hljs-subst">&#123;age&#125;</span>,æ€§åˆ«æ˜¯<span class="hljs-subst">&#123;gender&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># ä½ç½®ä¼ å‚</span><br>user_info(<span class="hljs-string">&#x27;å°æ˜&#x27;</span>, <span class="hljs-number">20</span>, <span class="hljs-string">&#x27;ç”·&#x27;</span>) <span class="hljs-comment"># å§“åæ˜¯å°æ˜,å¹´é¾„æ˜¯20,æ€§åˆ«æ˜¯ç”·</span><br><br><span class="hljs-comment"># å…³é”®å­—ä¼ å‚</span><br>user_info(name=<span class="hljs-string">&#x27;å°ç‹&#x27;</span>, age=<span class="hljs-number">19</span>, gender=<span class="hljs-string">&#x27;å¥³&#x27;</span>) <span class="hljs-comment"># å§“åæ˜¯å°ç‹,å¹´é¾„æ˜¯19,æ€§åˆ«æ˜¯å¥³</span><br>user_info(age=<span class="hljs-number">19</span>, gender=<span class="hljs-string">&#x27;ç”·&#x27;</span>, name=<span class="hljs-string">&#x27;å°é»&#x27;</span>)  <span class="hljs-comment"># ä½ç½®å¯éšæ„</span><br><br><span class="hljs-comment"># ç¼ºçœå‚æ•°(é»˜è®¤å‚æ•°å¿…é¡»å†™åœ¨æœ€åé¢)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">user_info</span>(<span class="hljs-params">name, age, gender=<span class="hljs-string">&#x27;ç”·&#x27;</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å§“åæ˜¯<span class="hljs-subst">&#123;name&#125;</span>,å¹´é¾„æ˜¯<span class="hljs-subst">&#123;age&#125;</span>,æ€§åˆ«æ˜¯<span class="hljs-subst">&#123;gender&#125;</span>&quot;</span>)<br><br>user_info(<span class="hljs-string">&#x27;å°æ˜&#x27;</span>, <span class="hljs-number">13</span>) <span class="hljs-comment"># å§“åæ˜¯å°æ˜,å¹´é¾„æ˜¯13,æ€§åˆ«æ˜¯ç”·</span><br>user_info(<span class="hljs-string">&#x27;å°æ˜&#x27;</span>, <span class="hljs-number">13</span>, gender=<span class="hljs-string">&#x27;å¥³&#x27;</span>) <span class="hljs-comment"># å§“åæ˜¯å°æ˜,å¹´é¾„æ˜¯13,æ€§åˆ«æ˜¯å¥³</span><br><br><span class="hljs-comment"># ä½ç½®ä¸å®šé•¿ ä¸å®šé•¿å®šä¹‰çš„å½¢å¼å‚æ•°ä¼šä½œä¸ºå…ƒç»„å­˜åœ¨ï¼Œæ¥å—ä¸å®šé•¿æ•°é‡çš„å‚æ•°ä¼ å…¥</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">user_info</span>(<span class="hljs-params">*args</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;argsçš„å†…å®¹æ˜¯<span class="hljs-subst">&#123;args&#125;</span>ï¼Œç±»å‹æ˜¯<span class="hljs-subst">&#123;<span class="hljs-built_in">type</span>(args)&#125;</span>&quot;</span>)<br><br>user_info(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;å°é»&#x27;</span>, <span class="hljs-string">&#x27;ç”·å­©&#x27;</span>) <span class="hljs-comment"># argsçš„å†…å®¹æ˜¯(1, 2, 3, &#x27;å°é»&#x27;, &#x27;ç”·å­©&#x27;)ï¼Œç±»å‹æ˜¯&lt;class &#x27;tuple&#x27;&gt;</span><br><br><span class="hljs-comment"># å…³é”®å­—ä¸å®šé•¿ ä¸å®šé•¿å®šä¹‰çš„å½¢å¼å‚æ•°ä¼šä½œä¸ºå­—å…¸å­˜åœ¨ï¼Œæ¥å—ä¸å®šé•¿æ•°é‡çš„å‚æ•°ä¼ å…¥</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">user_info</span>(<span class="hljs-params">**kwargs</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;argsçš„å†…å®¹æ˜¯<span class="hljs-subst">&#123;kwargs&#125;</span>ï¼Œç±»å‹æ˜¯<span class="hljs-subst">&#123;<span class="hljs-built_in">type</span>(kwargs)&#125;</span>&quot;</span>)<br><br>user_info(name=<span class="hljs-string">&quot;å°é»&quot;</span>, age=<span class="hljs-number">22</span>, gender=<span class="hljs-string">&#x27;ç”·&#x27;</span>) <span class="hljs-comment"># argsçš„å†…å®¹æ˜¯&#123;&#x27;name&#x27;: &#x27;å°é»&#x27;, &#x27;age&#x27;: 22, &#x27;gender&#x27;: &#x27;ç”·&#x27;&#125;ï¼Œç±»å‹æ˜¯&lt;class &#x27;dict&#x27;&gt;</span><br></code></pre></td></tr></table></figure><hr><h2 id="4-2-å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’"><a href="#4-2-å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’" class="headerlink" title="4.2 å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’"></a>4.2 å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_func</span>(<span class="hljs-params">compute</span>):<br>    result = compute(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;è®¡ç®—ç»“æœæ˜¯<span class="hljs-subst">&#123;result&#125;</span>,å‚æ•°ç±»å‹æ˜¯<span class="hljs-subst">&#123;<span class="hljs-built_in">type</span>(compute)&#125;</span>&quot;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">compute</span>(<span class="hljs-params">x,y</span>):<br>    <span class="hljs-keyword">return</span> x + y<br><br>test_func(compute) <span class="hljs-comment"># è®¡ç®—ç»“æœæ˜¯3,å‚æ•°ç±»å‹æ˜¯&lt;class &#x27;function&#x27;&gt;</span><br></code></pre></td></tr></table></figure><hr><h2 id="4-3-lambdaåŒ¿åå‡½æ•°"><a href="#4-3-lambdaåŒ¿åå‡½æ•°" class="headerlink" title="4.3 lambdaåŒ¿åå‡½æ•°"></a>4.3 lambdaåŒ¿åå‡½æ•°</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">compute</span>):<br>    result = compute(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ç»“æœæ˜¯:<span class="hljs-subst">&#123;result&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># å°†åŒ¿åå‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥</span><br>func(<span class="hljs-keyword">lambda</span> x, y: x + y)<br></code></pre></td></tr></table></figure><hr><h1 id="æ•°æ®å®¹å™¨"><a href="#æ•°æ®å®¹å™¨" class="headerlink" title="æ•°æ®å®¹å™¨"></a>æ•°æ®å®¹å™¨</h1><h2 id="5-1-åˆ—è¡¨"><a href="#5-1-åˆ—è¡¨" class="headerlink" title="5.1 åˆ—è¡¨"></a>5.1 åˆ—è¡¨</h2><h3 id="åˆ—è¡¨å¸¸ç”¨æ–¹æ³•"><a href="#åˆ—è¡¨å¸¸ç”¨æ–¹æ³•" class="headerlink" title="åˆ—è¡¨å¸¸ç”¨æ–¹æ³•"></a>åˆ—è¡¨å¸¸ç”¨æ–¹æ³•</h3><p>åˆ—è¡¨å¯ä»¥ä¿®æ”¹ã€æ”¯æŒé‡å¤å…ƒç´ ä¸”æœ‰åº</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs python">mylist = [<span class="hljs-string">&quot;xiaoli&quot;</span>,<span class="hljs-number">666</span>,<span class="hljs-string">&quot;python&quot;</span>]<br><span class="hljs-comment"># æŸ¥æ‰¾æŸå…ƒç´ çš„ä¸‹æ ‡ç´¢å¼• è‹¥ä¸å­˜åœ¨ä¼šæŠ¥é”™</span><br><span class="hljs-built_in">print</span>(mylist.index(<span class="hljs-string">&quot;python&quot;</span>))<br><span class="hljs-comment"># ä¿®æ”¹ç›®æ ‡ç´¢å¼•å¯¹åº”å…ƒç´ çš„å€¼</span><br>mylist[<span class="hljs-number">2</span>] = <span class="hljs-string">&quot;å°é»&quot;</span><br><span class="hljs-built_in">print</span>(mylist)<br><span class="hljs-comment"># åœ¨ç›®æ ‡ç´¢å¼•å¤„æ’å…¥å…ƒç´ </span><br>mylist.insert(<span class="hljs-number">1</span>,<span class="hljs-string">&quot;python&quot;</span>)<br><span class="hljs-built_in">print</span>(mylist)<br><span class="hljs-comment"># åœ¨å°¾éƒ¨è¿½åŠ å…ƒç´ </span><br>mylist.append(<span class="hljs-string">&quot;äººç”Ÿè‹¦çŸ­&quot;</span>)<br>mylist += [<span class="hljs-string">&quot;äººç”Ÿè‹¦çŸ­&quot;</span>]<br>mylist *= <span class="hljs-number">2</span><br><span class="hljs-built_in">print</span>(mylist)<br><span class="hljs-comment"># åœ¨å°¾éƒ¨è¿½åŠ ä¸€ä¸ªæ•°æ®å®¹å™¨ä¸­çš„å…ƒç´ </span><br>mylist2 = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br>mylist.extend(mylist2)<br><span class="hljs-built_in">print</span>(mylist)<br><span class="hljs-comment"># åˆ é™¤ç›®æ ‡ç´¢å¼•å¤„çš„å…ƒç´  ä¸¤ç§æ–¹æ³• ç¬¬ä¸€ç§æ–¹æ³•å¯ä»¥å¾—åˆ°è¿”å›å€¼</span><br>element = mylist.pop(<span class="hljs-number">2</span>)<br><span class="hljs-built_in">print</span>(element)<br><span class="hljs-built_in">print</span>(mylist)<br><span class="hljs-keyword">del</span> mylist[<span class="hljs-number">6</span>]<br><span class="hljs-built_in">print</span>(mylist)<br><span class="hljs-comment"># åˆ é™¤æŸå…ƒç´ åœ¨åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹</span><br>mylist.remove(<span class="hljs-string">&quot;äººç”Ÿè‹¦çŸ­&quot;</span>)<br><span class="hljs-built_in">print</span>(mylist)<br><span class="hljs-comment"># ç»Ÿè®¡æŸå…ƒç´ çš„ä¸ªæ•°</span><br><span class="hljs-built_in">print</span>(mylist.count(<span class="hljs-string">&quot;xiaoli&quot;</span>))<br><span class="hljs-comment"># ç»Ÿè®¡æ‰€æœ‰å…ƒç´ çš„ä¸ªæ•°</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(mylist))<br><span class="hljs-comment"># æ¸…ç©ºåˆ—è¡¨</span><br>mylist.clear()<br><span class="hljs-built_in">print</span>(mylist)<br></code></pre></td></tr></table></figure><hr><h3 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">list_while_func</span>():<br>    mylist = [<span class="hljs-string">&quot;xiaoli&quot;</span>, <span class="hljs-number">666</span>, <span class="hljs-string">&quot;æœ€å¸…&quot;</span>, <span class="hljs-literal">True</span>]<br>    index = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">while</span> index &lt; <span class="hljs-built_in">len</span>(mylist):<br>        <span class="hljs-built_in">print</span>(mylist[index])<br>        index += <span class="hljs-number">1</span><br><br><span class="hljs-comment"># ä½¿ç”¨forå¾ªç¯éå†</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">list_for_func</span>():<br>    mylist = [<span class="hljs-string">&quot;xiaoli&quot;</span>, <span class="hljs-number">666</span>, <span class="hljs-string">&quot;æœ€å¸…&quot;</span>, <span class="hljs-literal">True</span>]<br>    <span class="hljs-keyword">for</span> element <span class="hljs-keyword">in</span> mylist:<br>        <span class="hljs-built_in">print</span>(element)<br><br>list_while_func()<br>list_for_func()<br></code></pre></td></tr></table></figure><hr><h2 id="5-2-å…ƒç»„"><a href="#5-2-å…ƒç»„" class="headerlink" title="5.2 å…ƒç»„"></a>5.2 å…ƒç»„</h2><p>å…ƒç»„ä¸å¯ä¿®æ”¹ï¼Œæ”¯æŒé‡å¤å…ƒç´ ä¸”æœ‰åº</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å®šä¹‰å…ƒç»„</span><br>t1 = (<span class="hljs-number">2</span>,<span class="hljs-string">&quot;Hello&quot;</span>,<span class="hljs-literal">True</span>)<br><span class="hljs-comment"># å®šä¹‰ç©ºå…ƒç¥–</span><br>t2 = ()<br>t3 = <span class="hljs-built_in">tuple</span>()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;t1çš„ç±»å‹æ˜¯<span class="hljs-subst">&#123;<span class="hljs-built_in">type</span>(t1)&#125;</span>,å†…å®¹æ˜¯<span class="hljs-subst">&#123;t1&#125;</span>&quot;</span>) <span class="hljs-comment"># t1çš„ç±»å‹æ˜¯&lt;class &#x27;tuple&#x27;&gt;,å†…å®¹æ˜¯(2, &#x27;Hello&#x27;, True)</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;t2çš„ç±»å‹æ˜¯<span class="hljs-subst">&#123;<span class="hljs-built_in">type</span>(t2)&#125;</span>,å†…å®¹æ˜¯<span class="hljs-subst">&#123;t2&#125;</span>&quot;</span>) <span class="hljs-comment"># t2çš„ç±»å‹æ˜¯&lt;class &#x27;tuple&#x27;&gt;,å†…å®¹æ˜¯()</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;t3çš„ç±»å‹æ˜¯<span class="hljs-subst">&#123;<span class="hljs-built_in">type</span>(t3)&#125;</span>,å†…å®¹æ˜¯<span class="hljs-subst">&#123;t3&#125;</span>&quot;</span>) <span class="hljs-comment"># t3çš„ç±»å‹æ˜¯&lt;class &#x27;tuple&#x27;&gt;,å†…å®¹æ˜¯()</span><br><span class="hljs-comment"># å®šä¹‰å•ä¸ªå…ƒç´ çš„å…ƒç»„</span><br>t4 = (<span class="hljs-string">&quot;hello&quot;</span>)<br>t5 = (<span class="hljs-string">&quot;hello&quot;</span>,)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;t4çš„ç±»å‹æ˜¯<span class="hljs-subst">&#123;<span class="hljs-built_in">type</span>(t4)&#125;</span>,å†…å®¹æ˜¯<span class="hljs-subst">&#123;t4&#125;</span>&quot;</span>) <span class="hljs-comment"># t4çš„ç±»å‹æ˜¯&lt;class &#x27;str&#x27;&gt;,å†…å®¹æ˜¯hello</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;t5çš„ç±»å‹æ˜¯<span class="hljs-subst">&#123;<span class="hljs-built_in">type</span>(t5)&#125;</span>,å†…å®¹æ˜¯<span class="hljs-subst">&#123;t5&#125;</span>&quot;</span>) <span class="hljs-comment"># t5çš„ç±»å‹æ˜¯&lt;class &#x27;tuple&#x27;&gt;,å†…å®¹æ˜¯(&#x27;hello&#x27;,)</span><br><span class="hljs-comment"># å…ƒç»„çš„åµŒå¥—</span><br>t6 = ((<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>),(<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;t6çš„ç±»å‹æ˜¯<span class="hljs-subst">&#123;<span class="hljs-built_in">type</span>(t6)&#125;</span>,å†…å®¹æ˜¯<span class="hljs-subst">&#123;t6&#125;</span>&quot;</span>) <span class="hljs-comment"># t6çš„ç±»å‹æ˜¯&lt;class &#x27;tuple&#x27;&gt;,å†…å®¹æ˜¯((1, 2, 3), (4, 5, 6))</span><br><span class="hljs-comment"># å–ç›®æ ‡ç´¢å¼•çš„å€¼</span><br><span class="hljs-built_in">print</span>(t6[<span class="hljs-number">1</span>][<span class="hljs-number">2</span>]) <span class="hljs-comment"># 6</span><br><span class="hljs-comment"># index</span><br><span class="hljs-built_in">print</span>(t1.index(<span class="hljs-string">&quot;Hello&quot;</span>)) <span class="hljs-comment"># 1</span><br><span class="hljs-comment"># count</span><br><span class="hljs-built_in">print</span>(t1.count(<span class="hljs-literal">True</span>)) <span class="hljs-comment"># 1</span><br><span class="hljs-comment"># len</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(t1)) <span class="hljs-comment"># 3</span><br><span class="hljs-comment"># whileéå†</span><br>index = <span class="hljs-number">0</span><br><span class="hljs-keyword">while</span> index &lt; <span class="hljs-built_in">len</span>(t1):<br>    <span class="hljs-built_in">print</span>(t1[index])<br>    index += <span class="hljs-number">1</span><br><br><span class="hljs-comment"># foréå†</span><br><span class="hljs-keyword">for</span> element <span class="hljs-keyword">in</span> t1:<br>    <span class="hljs-built_in">print</span>(element)<br><span class="hljs-comment"># ä¸å¯ä»¥ç›´æ¥ä¿®æ”¹å…ƒç»„ä¸­çš„å…ƒç´  å¦åˆ™ä¼šæŠ¥é”™</span><br><span class="hljs-comment"># ä½†æ˜¯è‹¥å…ƒç»„ä¸­åŒ…å«åˆ—è¡¨ åˆ™å¯ä»¥ä¿®æ”¹è¯¥åˆ—è¡¨ä¸­çš„å…ƒç´ </span><br></code></pre></td></tr></table></figure><hr><h2 id="5-3-é›†åˆ"><a href="#5-3-é›†åˆ" class="headerlink" title="5.3 é›†åˆ"></a>5.3 é›†åˆ</h2><p>é›†åˆä¸­çš„å…ƒç´ ä¸é‡å¤ä¸”å†…å®¹æ— åº ä¸æ”¯æŒæŒ‰ç…§ç´¢å¼•è®¿é—®å…ƒç´ </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs python">my_set = &#123;<span class="hljs-string">&quot;xiaoli&quot;</span>, <span class="hljs-string">&quot;learn&quot;</span>, <span class="hljs-string">&quot;python&quot;</span>&#125;<br>my_set_empty = <span class="hljs-built_in">set</span>()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;my_setå†…å®¹æ˜¯<span class="hljs-subst">&#123;my_set&#125;</span>,ç±»å‹æ˜¯<span class="hljs-subst">&#123;<span class="hljs-built_in">type</span>(my_set)&#125;</span>&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;my_setå†…å®¹æ˜¯<span class="hljs-subst">&#123;my_set_empty&#125;</span>,ç±»å‹æ˜¯<span class="hljs-subst">&#123;<span class="hljs-built_in">type</span>(my_set_empty)&#125;</span>&quot;</span>)<br><span class="hljs-comment"># æ·»åŠ æ–°å…ƒç´ </span><br>my_set.add(<span class="hljs-string">&quot;äººç”Ÿè‹¦çŸ­&quot;</span>)<br><span class="hljs-built_in">print</span>(my_set)<br><span class="hljs-comment"># ç§»é™¤å…ƒç´ </span><br>my_set.remove(<span class="hljs-string">&quot;learn&quot;</span>)<br><span class="hljs-built_in">print</span>(my_set)<br><span class="hljs-comment"># éšæœºå–å‡ºä¸€ä¸ªå…ƒç´ </span><br>element = my_set.pop()<br><span class="hljs-built_in">print</span>(element)<br><span class="hljs-built_in">print</span>(my_set)<br><span class="hljs-comment"># ç»Ÿè®¡é›†åˆä¸­å…ƒç´ çš„æ•°é‡</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(my_set))<br><span class="hljs-comment"># éå† ç”±äºä¸æ”¯æŒç´¢å¼•æŸ¥æ‰¾å…ƒç´  æ‰€ä»¥ä¸æ”¯æŒwhileå¾ªç¯éå†</span><br><span class="hljs-keyword">for</span> element <span class="hljs-keyword">in</span> my_set:<br>    <span class="hljs-built_in">print</span>(element)<br><span class="hljs-comment"># æ¸…ç©ºé›†åˆ</span><br>my_set.clear()<br><span class="hljs-built_in">print</span>(my_set)<br><br><span class="hljs-comment"># é›†åˆçš„æ•°å­¦è¿ç®—</span><br>set1 = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>&#125;<br>set2 = &#123;<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>&#125;<br><br><span class="hljs-comment"># å¹¶é›† &#123;1,2,3,4,5&#125;</span><br><span class="hljs-built_in">print</span>(set1.union(set2))<br><span class="hljs-built_in">print</span>(set1 | set2)<br><span class="hljs-comment"># äº¤é›† &#123;3&#125;</span><br><span class="hljs-built_in">print</span>(set1.intersection(set2))<br><span class="hljs-built_in">print</span>(set1 &amp; set2)<br><span class="hljs-comment"># å·®é›† &#123;1,2&#125;</span><br><span class="hljs-built_in">print</span>(set1.difference(set2))<br><span class="hljs-built_in">print</span>(set1 - set2)<br><span class="hljs-comment"># å¯¹ç§°å·®é›† &#123;1,2,4,5&#125;</span><br><span class="hljs-built_in">print</span>(set1.symmetric_difference(set2))<br><span class="hljs-built_in">print</span>(set1 ^ set2)<br></code></pre></td></tr></table></figure><hr><h2 id="5-4-å­—å…¸"><a href="#5-4-å­—å…¸" class="headerlink" title="5.4 å­—å…¸"></a>5.4 å­—å…¸</h2><p>å…¸å­˜å‚¨çš„å…ƒç´ æ˜¯é”®å€¼å¯¹ keyä¸å…è®¸é‡å¤</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs python">my_dict = &#123;<span class="hljs-string">&quot;é»é¸¿ç¿”&quot;</span>: <span class="hljs-number">99</span>, <span class="hljs-string">&quot;xiaoli&quot;</span>: <span class="hljs-number">98</span>, <span class="hljs-string">&quot;Lil Pear&quot;</span>: <span class="hljs-number">97</span>&#125;<br>my_dict_empty = &#123;&#125;  <span class="hljs-comment"># ç©ºå­—å…¸</span><br>my_dict_empty2 = <span class="hljs-built_in">dict</span>()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;my_dictçš„å†…å®¹æ˜¯<span class="hljs-subst">&#123;my_dict&#125;</span>,ç±»å‹æ˜¯<span class="hljs-subst">&#123;<span class="hljs-built_in">type</span>(my_dict)&#125;</span>&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;my_dict_emptyçš„å†…å®¹æ˜¯<span class="hljs-subst">&#123;my_dict_empty&#125;</span>,ç±»å‹æ˜¯<span class="hljs-subst">&#123;<span class="hljs-built_in">type</span>(my_dict_empty)&#125;</span>&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;my_dict_empty2çš„å†…å®¹æ˜¯<span class="hljs-subst">&#123;my_dict_empty2&#125;</span>,ç±»å‹æ˜¯<span class="hljs-subst">&#123;<span class="hljs-built_in">type</span>(my_dict_empty2)&#125;</span>&quot;</span>)<br><span class="hljs-comment"># é€šè¿‡keyè·å–value</span><br>score = my_dict[<span class="hljs-string">&quot;xiaoli&quot;</span>]<br><span class="hljs-built_in">print</span>(score)<br><span class="hljs-comment"># ä¿®æ”¹æˆ–æ–°å¢</span><br>my_dict[<span class="hljs-string">&quot;é»é¸¿ç¿”&quot;</span>] = <span class="hljs-number">99.5</span>  <span class="hljs-comment"># keyå­˜åœ¨åˆ™ä¿®æ”¹value</span><br>my_dict[<span class="hljs-string">&quot;å­™æ‚Ÿç©º&quot;</span>] = <span class="hljs-number">99.9</span>  <span class="hljs-comment"># è‹¥keyä¸å­˜åœ¨åˆ™ä¸ºæ–°å¢</span><br><span class="hljs-built_in">print</span>(my_dict)<br><span class="hljs-comment"># åˆ é™¤</span><br>value = my_dict.pop(<span class="hljs-string">&quot;å­™æ‚Ÿç©º&quot;</span>)<br><span class="hljs-built_in">print</span>(value)<br><span class="hljs-built_in">print</span>(my_dict)<br><span class="hljs-comment"># è·å–å…¨éƒ¨çš„key</span><br>keys = my_dict.keys()<br><span class="hljs-built_in">print</span>(keys)<br><span class="hljs-comment"># éå†å­—å…¸</span><br><span class="hljs-comment"># æ–¹å¼ä¸€</span><br><span class="hljs-keyword">for</span> key <span class="hljs-keyword">in</span> keys:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å­—å…¸çš„keyæ˜¯<span class="hljs-subst">&#123;key&#125;</span>,valueæ˜¯<span class="hljs-subst">&#123;my_dict[key]&#125;</span>&quot;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;-------------------&#x27;</span>)<br><span class="hljs-comment">#     æ–¹å¼äºŒ:</span><br><span class="hljs-keyword">for</span> key <span class="hljs-keyword">in</span> my_dict:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å­—å…¸çš„keyæ˜¯<span class="hljs-subst">&#123;key&#125;</span>,valueæ˜¯<span class="hljs-subst">&#123;my_dict[key]&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># æ–¹å¼ä¸‰: é€šè¿‡items()æ–¹æ³•è·å–key-valueå¯¹</span><br><span class="hljs-keyword">for</span> key, value <span class="hljs-keyword">in</span> my_dict.items():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å­—å…¸çš„keyæ˜¯<span class="hljs-subst">&#123;key&#125;</span>,valueæ˜¯<span class="hljs-subst">&#123;value&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># è·å–å…¨éƒ¨çš„value</span><br>values = my_dict.values()<br><span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> values:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å­—å…¸çš„valueæ˜¯<span class="hljs-subst">&#123;value&#125;</span>&quot;</span>)<br><span class="hljs-comment">#     é•¿åº¦</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(my_dict))<br><span class="hljs-comment"># æ¸…ç©º</span><br>my_dict.clear()<br><span class="hljs-built_in">print</span>(my_dict)<br><span class="hljs-comment"># å®šä¹‰åµŒå¥—å­—å…¸</span><br>stu_score_dict = &#123;<br>    <span class="hljs-string">&quot;é»é¸¿ç¿”&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;è¯­æ–‡&quot;</span>: <span class="hljs-number">97</span>,<br>        <span class="hljs-string">&quot;æ•°å­¦&quot;</span>: <span class="hljs-number">110</span>,<br>        <span class="hljs-string">&quot;è‹±è¯­&quot;</span>: <span class="hljs-number">107</span><br>    &#125;,<br>    <span class="hljs-string">&quot;xiaoli&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;è¯­æ–‡&quot;</span>: <span class="hljs-number">92</span>,<br>        <span class="hljs-string">&quot;æ•°å­¦&quot;</span>: <span class="hljs-number">140</span>,<br>        <span class="hljs-string">&quot;è‹±è¯­&quot;</span>: <span class="hljs-number">137</span><br>    &#125;,<br>    <span class="hljs-string">&quot;Lil Pear&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;è¯­æ–‡&quot;</span>: <span class="hljs-number">90</span>,<br>        <span class="hljs-string">&quot;æ•°å­¦&quot;</span>: <span class="hljs-number">120</span>,<br>        <span class="hljs-string">&quot;è‹±è¯­&quot;</span>: <span class="hljs-number">100</span><br>    &#125;<br>&#125;<br><span class="hljs-built_in">print</span>(stu_score_dict)<br><span class="hljs-comment"># å–value</span><br><span class="hljs-built_in">print</span>(stu_score_dict[<span class="hljs-string">&quot;é»é¸¿ç¿”&quot;</span>][<span class="hljs-string">&quot;æ•°å­¦&quot;</span>])<br></code></pre></td></tr></table></figure><hr><h2 id="5-5-å­—ç¬¦ä¸²"><a href="#5-5-å­—ç¬¦ä¸²" class="headerlink" title="5.5 å­—ç¬¦ä¸²"></a>5.5 å­—ç¬¦ä¸²</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å°é»ä¸“å±pythonå›ºå®šæ¨¡æ¿</span><br><span class="hljs-comment"># å¼€å‘æ—¶é—´ï¼š2024/7/5 21:42</span><br><span class="hljs-comment"># å­—ç¬¦ä¸²ä¸å¯ä¿®æ”¹ï¼Œæ”¯æŒé‡å¤å…ƒç´ ä¸”æœ‰åº</span><br>my_str = <span class="hljs-string">&quot;xiaoli is the best one&quot;</span><br><span class="hljs-built_in">print</span>(my_str)<br><span class="hljs-comment"># é€šè¿‡ç´¢å¼•å–å€¼</span><br><span class="hljs-built_in">print</span>(my_str[<span class="hljs-number">2</span>])<br><span class="hljs-comment"># indexæ–¹æ³•</span><br><span class="hljs-built_in">print</span>(my_str.index(<span class="hljs-string">&quot;is&quot;</span>))<br><span class="hljs-comment"># replace æ›¿æ¢</span><br>my_str2 = my_str.replace(<span class="hljs-string">&quot;xiaoli&quot;</span>, <span class="hljs-string">&quot;Lil Pear&quot;</span>)<br><span class="hljs-built_in">print</span>(my_str2)<br><span class="hljs-built_in">print</span>(my_str) <span class="hljs-comment">#ä¸å˜</span><br><span class="hljs-comment"># split å­—ç¬¦ä¸²åˆ†å‰²</span><br>mylist = my_str.split(<span class="hljs-string">&quot; &quot;</span>)<br><span class="hljs-built_in">print</span>(mylist)<br><span class="hljs-comment"># å­—ç¬¦ä¸²è§„æ•´</span><br>my_str3 = <span class="hljs-string">&quot;  xiaoli  &quot;</span><br>my_str4 = <span class="hljs-string">&quot;12xiaoli212&quot;</span><br><span class="hljs-built_in">print</span>(my_str3.strip())<br><span class="hljs-built_in">print</span>(my_str4.strip(<span class="hljs-string">&quot;12&quot;</span>))<br><span class="hljs-comment"># count</span><br><span class="hljs-built_in">print</span>(my_str.count(<span class="hljs-string">&quot;i&quot;</span>))<br><span class="hljs-comment"># len</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(my_str))<br></code></pre></td></tr></table></figure><hr><h2 id="5-6-åºåˆ—åˆ‡ç‰‡"><a href="#5-6-åºåˆ—åˆ‡ç‰‡" class="headerlink" title="5.6 åºåˆ—åˆ‡ç‰‡"></a>5.6 åºåˆ—åˆ‡ç‰‡</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">åºåˆ—æ˜¯æŒ‡ï¼šå†…å®¹è¿ç»­ã€æœ‰åºï¼Œå¯ä½¿ç”¨ä¸‹æ ‡ç´¢å¼•çš„ä¸€ç±»æ•°æ®å®¹å™¨</span><br><span class="hljs-string">åˆ—è¡¨ã€å…ƒç»„ã€å­—ç¬¦ä¸²ï¼Œå‡å¯ä»¥è§†ä¸ºåºåˆ—</span><br><span class="hljs-string">åˆ‡ç‰‡å°±æ˜¯ä»ä¸€ä¸ªåºåˆ—ä¸­å–å‡ºä¸€ä¸ªå­åºåˆ—</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>mylist = [<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>]<br>mytuple = (<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>)<br>mystr = <span class="hljs-string">&quot;0123456&quot;</span><br><span class="hljs-comment"># å¯¹åˆ—è¡¨è¿›è¡Œåˆ‡ç‰‡ï¼Œä»1å¼€å§‹ï¼Œ4ç»“æŸ(ä¸å«ç´¢å¼•4å¯¹åº”çš„å…ƒç´ )ï¼Œæ­¥é•¿ä¸º1(é»˜è®¤ä¸º1å¯ä¸å†™)</span><br>mylist2 = mylist[<span class="hljs-number">1</span>:<span class="hljs-number">4</span>]<br><span class="hljs-built_in">print</span>(mylist2)<br><span class="hljs-comment"># å¯¹å…ƒç»„è¿›è¡Œåˆ‡ç‰‡ï¼Œä»å¤´å¼€å§‹åˆ°å°¾ç»“æŸï¼Œæ­¥é•¿ä¸º1</span><br>mytuple2 = mytuple[:]<br><span class="hljs-built_in">print</span>(mytuple2)<br><span class="hljs-comment"># å¯¹å­—ç¬¦ä¸²è¿›è¡Œåˆ‡ç‰‡ï¼Œä»å¤´å¼€å§‹åˆ°å°¾ç»“æŸï¼Œæ­¥é•¿ä¸º2</span><br>mystr2 = mystr[<span class="hljs-number">0</span>:<span class="hljs-built_in">len</span>(mystr):<span class="hljs-number">2</span>]<br><span class="hljs-built_in">print</span>(mystr2)<br><br><span class="hljs-comment"># ä¹Ÿå¯ä»¥åå‘å–</span><br><span class="hljs-comment"># å¯¹åˆ—è¡¨è¿›è¡Œåˆ‡ç‰‡ï¼Œä»å¤´å¼€å§‹åˆ°å°¾ç»“æŸï¼Œæ­¥é•¿ä¸º-1</span><br>mylist3 = mylist[::-<span class="hljs-number">1</span>]<br><span class="hljs-built_in">print</span>(mylist3)<br><span class="hljs-comment"># å¯¹å…ƒç»„è¿›è¡Œåˆ‡ç‰‡ï¼Œä»3å¼€å§‹åˆ°1ç»“æŸï¼Œæ­¥é•¿ä¸º-1</span><br>mytuple3 = mytuple[<span class="hljs-number">3</span>:<span class="hljs-number">1</span>:-<span class="hljs-number">1</span>]<br><span class="hljs-built_in">print</span>(mytuple3)<br><span class="hljs-comment"># å¯¹å­—ç¬¦ä¸²è¿›è¡Œåˆ‡ç‰‡ ä»å¤´å¼€å§‹åˆ°å°¾ç»“æŸæ­¥é•¿ä¸º-2</span><br>mystr3 = mystr[::-<span class="hljs-number">2</span>]<br><span class="hljs-built_in">print</span>(mystr3)<br></code></pre></td></tr></table></figure><hr><h1 id="æ–‡ä»¶æ“ä½œ"><a href="#æ–‡ä»¶æ“ä½œ" class="headerlink" title="æ–‡ä»¶æ“ä½œ"></a>æ–‡ä»¶æ“ä½œ</h1><h2 id="6-1-æ–‡ä»¶è¯»å–"><a href="#6-1-æ–‡ä»¶è¯»å–" class="headerlink" title="6.1 æ–‡ä»¶è¯»å–"></a>6.1 æ–‡ä»¶è¯»å–</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python">f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;D:/pycharm_workspace/01_PythonBasic-learn/08_æ–‡ä»¶æ“ä½œ/test.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>, encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(f))<br><span class="hljs-comment"># è¯»å–æ–‡ä»¶</span><br><span class="hljs-comment"># print(f.read(9))  # è¯»å–9ä¸ªå­—èŠ‚çš„å†…å®¹</span><br><span class="hljs-comment"># print(f.read())</span><br><span class="hljs-comment"># io_list = f.readlines()  # è¯»å–æ–‡ä»¶çš„å…¨éƒ¨è¡Œå¹¶å­˜åˆ°åˆ—è¡¨ä¸­</span><br><span class="hljs-comment"># print(io_list)</span><br><br><span class="hljs-comment"># for line in f.readlines():</span><br><span class="hljs-comment">#     print(line)</span><br><br><span class="hljs-comment"># è¯»å–æ¯è¡Œæ•°æ®</span><br><span class="hljs-comment"># line1 = f.readline()</span><br><span class="hljs-comment"># line2 = f.readline()</span><br><span class="hljs-comment"># line3 = f.readline()</span><br><span class="hljs-comment"># print(line1)</span><br><span class="hljs-comment"># print(line2)</span><br><span class="hljs-comment"># print(line3)</span><br><br><span class="hljs-comment"># forå¾ªç¯è¯»å–æ–‡ä»¶è¡Œ</span><br><span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> f:<br>    <span class="hljs-built_in">print</span>(line.split(<span class="hljs-string">&quot; &quot;</span>))<br><span class="hljs-comment"># print(io_list)</span><br><span class="hljs-comment"># æ–‡ä»¶çš„å…³é—­</span><br>f.close()<br></code></pre></td></tr></table></figure><hr><h2 id="6-2-æ–‡ä»¶å†™å…¥"><a href="#6-2-æ–‡ä»¶å†™å…¥" class="headerlink" title="6.2 æ–‡ä»¶å†™å…¥"></a>6.2 æ–‡ä»¶å†™å…¥</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ–‡ä»¶ä¸å­˜åœ¨æ—¶ä¼šåˆ›å»ºæ–°æ–‡ä»¶å¹¶å†™å…¥å†…å®¹ è‹¥æ–‡ä»¶å­˜åœ¨åˆ™æ¸…ç©ºåŸæœ‰çš„å†…å®¹å¹¶å†™å…¥æ–°å†…å®¹ è‹¥è¦è¿½åŠ  åˆ™è°ƒæ•´ä¸ºaæ¨¡å¼</span><br>f1 = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;D:/pycharm_workspace/01_PythonBasic-learn/08_æ–‡ä»¶æ“ä½œ/test2.txt&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>, encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>)<br>f2 = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;D:/pycharm_workspace/01_PythonBasic-learn/08_æ–‡ä»¶æ“ä½œ/test.txt&quot;</span>, <span class="hljs-string">&quot;a&quot;</span>, encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>)<br>f1.write(<span class="hljs-string">&quot;ä½ çŸ¥é“çš„ï¼ŒLil Pearä¼šèµ°èµ·æ¥çš„&quot;</span>)  <span class="hljs-comment"># å†…å®¹å†™å…¥åˆ°å†…å­˜ä¸­</span><br>f2.write(<span class="hljs-string">&quot;\nä½ çŸ¥é“çš„ï¼ŒLil Pearä¼šèµ°èµ·æ¥çš„&quot;</span>)  <span class="hljs-comment"># å†…å®¹å†™å…¥åˆ°å†…å­˜ä¸­</span><br>f1.flush()  <span class="hljs-comment"># å°†å†…å­˜ä¸­çš„å†…å®¹å†™å…¥åˆ°æ–‡ä»¶ä¸­</span><br>f2.flush()  <span class="hljs-comment"># å°†å†…å­˜ä¸­çš„å†…å®¹å†™å…¥åˆ°æ–‡ä»¶ä¸­</span><br>f1.close()<br>f2.close()<br></code></pre></td></tr></table></figure><hr><h1 id="å¼‚å¸¸"><a href="#å¼‚å¸¸" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;D:\\pycharm_workspace\\01_PythonBasic-learn\\09_å¼‚å¸¸ã€æ¨¡å—ã€åŒ…\\test.txt&quot;</span>,<span class="hljs-string">&quot;r&quot;</span>,encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>)<br><span class="hljs-keyword">except</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ–‡ä»¶ä¸å­˜åœ¨ å‡ºç°å¼‚å¸¸äº† æ”¹ä¸ºwæ¨¡å¼&quot;</span>)<br>    f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;D:\\pycharm_workspace\\01_PythonBasic-learn\\09_å¼‚å¸¸ã€æ¨¡å—ã€åŒ…\\test.txt&quot;</span>,<span class="hljs-string">&quot;w&quot;</span>,encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>)<br><br><span class="hljs-comment"># æ•è·æŒ‡å®šçš„å¼‚å¸¸:</span><br><span class="hljs-keyword">try</span>:<br>    <span class="hljs-built_in">print</span>(name)<br><span class="hljs-keyword">except</span> NameError <span class="hljs-keyword">as</span> e:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å‡ºç°äº†å˜é‡æœªå®šä¹‰çš„å¼‚å¸¸&quot;</span>)<br><br><span class="hljs-comment"># æ•è·å¤šä¸ªç±»å‹çš„å¼‚å¸¸:</span><br><span class="hljs-keyword">try</span>:<br>    <span class="hljs-comment"># print(name)</span><br>    <span class="hljs-number">1</span>/<span class="hljs-number">0</span><br><span class="hljs-keyword">except</span> (NameError,ZeroDivisionError) <span class="hljs-keyword">as</span> e:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å‡ºç°äº†å˜é‡æœªå®šä¹‰æˆ–è€…é™¤ä»¥0çš„å¼‚å¸¸&quot;</span>)<br><br><span class="hljs-comment"># finally ä¸€å®šä¼šæ‰§è¡Œçš„è¯­å¥</span><br><span class="hljs-keyword">try</span>:<br>    f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;D:\\pycharm_workspace\\01_PythonBasic-learn\\09_å¼‚å¸¸ã€æ¨¡å—ã€åŒ…\\test2.txt&quot;</span>,<span class="hljs-string">&quot;r&quot;</span>,encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>)<br><span class="hljs-comment">#     æ•è·å…¨éƒ¨å¼‚å¸¸çš„ç¬¬äºŒç§å†™æ³•</span><br><span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ–‡ä»¶ä¸å­˜åœ¨ å‡ºç°å¼‚å¸¸äº† æ”¹ä¸ºwæ¨¡å¼&quot;</span>)<br>    f = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;D:\\pycharm_workspace\\01_PythonBasic-learn\\09_å¼‚å¸¸ã€æ¨¡å—ã€åŒ…\\test2.txt&quot;</span>,<span class="hljs-string">&quot;w&quot;</span>,encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å¥½é«˜å…´ï¼Œæ— å¼‚å¸¸&quot;</span>)<br><span class="hljs-keyword">finally</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ä¸€å®šä¼šæ‰§è¡Œfinallyä¸­çš„è¯­å¥&quot;</span>)<br>    f.close()<br></code></pre></td></tr></table></figure><hr><h1 id="æ¨¡å—"><a href="#æ¨¡å—" class="headerlink" title="æ¨¡å—"></a>æ¨¡å—</h1><p>æ¨¡å—å°±æ˜¯ä¸€ä¸ªPythonæ–‡ä»¶ï¼Œé‡Œé¢æœ‰ç±»ã€å‡½æ•°ã€å˜é‡ç­‰ï¼Œæˆ‘ä»¬å¯ä»¥æ‹¿è¿‡æ¥ç”¨ï¼ˆå¯¼å…¥æ¨¡å—å»ä½¿ç”¨ï¼‰</p><img src="/2025/12/09/Python%E5%9F%BA%E7%A1%80/image1.png" class="" title="æ¨¡å—"><p>å¸¸ç”¨çš„ç»„åˆå½¢å¼å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> æ¨¡å—å<br><br><span class="hljs-keyword">from</span> æ¨¡å—å <span class="hljs-keyword">import</span> ç±»ã€å˜é‡ã€æ–¹æ³•ç­‰<br><br><span class="hljs-keyword">from</span> æ¨¡å—å <span class="hljs-keyword">import</span> *<br><br><span class="hljs-keyword">import</span> æ¨¡å—å <span class="hljs-keyword">as</span> åˆ«å<br><br><span class="hljs-keyword">from</span> æ¨¡å—å <span class="hljs-keyword">import</span> åŠŸèƒ½å <span class="hljs-keyword">as</span> åˆ«å<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ç¬¬ä¸€ç§å†™æ³•</span><br><span class="hljs-keyword">import</span> time<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ä½ å¥½&quot;</span>)<br>time.sleep(<span class="hljs-number">5</span>)  <span class="hljs-comment"># ç¡çœ 5ç§’é’Ÿ</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æˆ‘å¥½&quot;</span>)<br><br><span class="hljs-comment"># ç¬¬äºŒç§å†™æ³•</span><br><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> *<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ä½ å¥½&quot;</span>)<br>sleep(<span class="hljs-number">5</span>)  <span class="hljs-comment"># ç¡çœ 5ç§’é’Ÿ</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æˆ‘å¥½&quot;</span>)<br></code></pre></td></tr></table></figure><p>è‡ªå®šä¹‰æ¨¡å—ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">test</span>(<span class="hljs-params">a, b</span>):<br>    <span class="hljs-built_in">print</span>(a + b)<br><br><span class="hljs-comment"># åªåœ¨å½“å‰æ–‡ä»¶ä¸­è°ƒç”¨è¯¥å‡½æ•°ï¼Œå…¶ä»–å¯¼å…¥çš„æ–‡ä»¶å†…ä¸ç¬¦åˆè¯¥æ¡ä»¶ï¼Œåˆ™ä¸æ‰§è¡Œtestå‡½æ•°è°ƒç”¨</span><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    test(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> my_module1<br><br>my_module1.test(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>) <span class="hljs-comment"># 3</span><br></code></pre></td></tr></table></figure><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œå½“ä¸€ä¸ªå¼€å‘äººå‘˜ç¼–å†™å®Œä¸€ä¸ªæ¨¡å—åï¼Œä¸ºäº†è®©æ¨¡å—èƒ½å¤Ÿåœ¨é¡¹ç›®ä¸­è¾¾åˆ°æƒ³è¦çš„æ•ˆæœï¼Œè¿™ä¸ªå¼€å‘äººå‘˜ä¼šè‡ªè¡Œåœ¨pyæ–‡ä»¶ä¸­æ·»åŠ ä¸€äº›æµ‹è¯•ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼Œåœ¨my_module1.pyæ–‡ä»¶ä¸­æ·»åŠ æµ‹è¯•ä»£ç test(1,1).æ­¤æ—¶ï¼Œæ— è®ºæ˜¯å½“å‰æ–‡ä»¶ï¼Œè¿˜æ˜¯å…¶ä»–å·²ç»å¯¼å…¥äº†è¯¥æ¨¡å—çš„æ–‡ä»¶ï¼Œåœ¨è¿è¡Œçš„æ—¶å€™éƒ½ä¼šè‡ªåŠ¨æ‰§è¡Œ<code>test</code>å‡½æ•°çš„è°ƒç”¨</p><p>æ³¨æ„äº‹é¡¹ï¼šå½“å¯¼å…¥å¤šä¸ªæ¨¡å—çš„æ—¶å€™ï¼Œä¸”æ¨¡å—å†…æœ‰åŒååŠŸèƒ½. å½“è°ƒç”¨è¿™ä¸ªåŒååŠŸèƒ½çš„æ—¶å€™ï¼Œè°ƒç”¨åˆ°çš„æ˜¯åé¢å¯¼å…¥çš„æ¨¡å—çš„åŠŸèƒ½</p><p>å¦‚æœä¸€ä¸ªæ¨¡å—æ–‡ä»¶ä¸­æœ‰<code>__all__</code>å˜é‡ï¼Œå½“ä½¿ç”¨<code>from xxx import *</code>å¯¼å…¥æ—¶ï¼Œåªèƒ½å¯¼å…¥è¿™ä¸ªåˆ—è¡¨ä¸­çš„å…ƒç´ </p><hr><h1 id="åŒ…"><a href="#åŒ…" class="headerlink" title="åŒ…"></a>åŒ…</h1><p>ä»ç‰©ç†ä¸Šçœ‹ï¼ŒåŒ…å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œåœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹åŒ…å«äº†ä¸€ä¸ª <strong>init</strong>.py æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å¤¹å¯ç”¨äºåŒ…å«å¤šä¸ªæ¨¡å—æ–‡ä»¶</p><p>ä»é€»è¾‘ä¸Šçœ‹ï¼ŒåŒ…çš„æœ¬è´¨ä¾ç„¶æ˜¯æ¨¡å—</p><p>å½“æˆ‘ä»¬çš„æ¨¡å—æ–‡ä»¶è¶Šæ¥è¶Šå¤šæ—¶,åŒ…å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç®¡ç†è¿™äº›æ¨¡å—, åŒ…çš„ä½œç”¨å°±æ˜¯åŒ…å«å¤šä¸ªæ¨¡å—ï¼Œä½†åŒ…çš„æœ¬è´¨ä¾ç„¶æ˜¯æ¨¡å—</p><img src="/2025/12/09/Python%E5%9F%BA%E7%A1%80/package.png" class="" title="åŒ…"><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs actionscript"><span class="hljs-meta"><span class="hljs-keyword">import</span> åŒ…å.æ¨¡å—å</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">åŒ…å.æ¨¡å—å.ç›®æ ‡</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PythonåŸºç¡€</tag>
      
      <tag>æµç¨‹æ§åˆ¶</tag>
      
      <tag>æ•°ç»„</tag>
      
      <tag>æ–¹æ³•</tag>
      
      <tag>åŸºç¡€è¯­æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java SEåŸºç¡€</title>
    <link href="/2025/12/09/Java-SE%E5%9F%BA%E7%A1%80/"/>
    <url>/2025/12/09/Java-SE%E5%9F%BA%E7%A1%80/</url>
    
    <content type="html"><![CDATA[<h1 id="Javaå…¥é—¨"><a href="#Javaå…¥é—¨" class="headerlink" title="Javaå…¥é—¨"></a>Javaå…¥é—¨</h1><h2 id="1-1-æ³¨é‡Š"><a href="#1-1-æ³¨é‡Š" class="headerlink" title="1.1 æ³¨é‡Š"></a>1.1 æ³¨é‡Š</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">ç›®æ ‡ï¼šå­¦ä¼šä½¿ç”¨æ³¨é‡Š</span><br><span class="hljs-comment">     è¿™æ˜¯ç¨‹åºçš„è®²è§£æ³¨é‡Š</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NoteDemo</span>&#123;<br>    <span class="hljs-comment">//è¿™æ˜¯ç¨‹åºçš„ä¸»æ–¹æ³•ï¼Œæ˜¯ç¨‹åºçš„å…¥å£</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;æˆ‘å¼€å§‹å­¦ä¹ Javaç¨‹åºï¼Œå¥½å—¨çš®~~&quot;</span>);<br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">        çª—å‰æ˜æœˆå…‰</span><br><span class="hljs-comment">        ç–‘æ˜¯åœ°ä¸Šéœœ</span><br><span class="hljs-comment">        ä¸¾å¤´æœ›æ˜æœˆ</span><br><span class="hljs-comment">        ä½å¤´æ€æ•…ä¹¡</span><br><span class="hljs-comment">        */</span><br>        System.out.println(<span class="hljs-string">&quot;æ’­ä»”&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;deli&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><hr><h2 id="1-2-å­—é¢é‡"><a href="#1-2-å­—é¢é‡" class="headerlink" title="1.2 å­—é¢é‡"></a>1.2 å­—é¢é‡</h2><p>å­—é¢é‡å…¶å®å°±æ˜¯å‘Šè¯‰ç¨‹åºå‘˜æ•°æ®åœ¨ç¨‹åºä¸­çš„ä¹¦å†™æ ¼å¼ã€‚ä¸‹é¢æ˜¯å¸¸ç”¨çš„æ•°æ®åœ¨ç¨‹åºä¸­çš„ä¹¦å†™æ ¼å¼</p><img src="/2025/12/09/Java-SE%E5%9F%BA%E7%A1%80/image1.png" class="" title="å­—é¢é‡"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/*</span><br><span class="hljs-comment">ç›®æ ‡ï¼šéœ€è¦åŒå­¦ä»¬æŒæ¡å¸¸è§æ•°æ®åœ¨ç¨‹åºä¸­çš„ä¹¦å†™æ ¼å¼</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LiteralDemo</span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        <span class="hljs-comment">//1.æ•´æ•°</span><br>        System.out.println(<span class="hljs-number">666</span>);<br>        <br>        <span class="hljs-comment">//2.å°æ•°</span><br>        System.out.println(<span class="hljs-number">3.66</span>);<br>        <br>        <span class="hljs-comment">//3.å­—ç¬¦: å­—ç¬¦å¿…é¡»ç”¨å•å¼•å·å¼•èµ·æ¥</span><br>        System.out.println(<span class="hljs-string">&#x27;a&#x27;</span>);<br>        System.out.println(<span class="hljs-string">&#x27;0&#x27;</span>);<br>        System.out.println(<span class="hljs-string">&#x27;ä¸­&#x27;</span>);<br>        System.out.println(<span class="hljs-string">&#x27; &#x27;</span>); <span class="hljs-comment">//ç©ºæ ¼ä¹Ÿç®—å­—ç¬¦</span><br>        <span class="hljs-comment">//ç‰¹æ®Šå­—ç¬¦ï¼š\tè¡¨ç¤ºåˆ¶è¡¨ç¬¦ \nè¡¨ç¤ºæ¢è¡Œ</span><br>        System.out.println(<span class="hljs-string">&#x27;\t&#x27;</span>); <span class="hljs-comment">//è¿™ç›¸å½“äºä¸€ä¸ªtabé”®ï¼Œä¸“ä¸šå«åšåˆ¶è¡¨ç¬¦</span><br>        System.out.println(<span class="hljs-string">&#x27;\n&#x27;</span>); <span class="hljs-comment">//è¿™æ˜¯æ¢è¡Œçš„æ„æ€</span><br>        <br>        <span class="hljs-comment">//4.å­—ç¬¦ä¸²ï¼šå­—ç¬¦ä¸²æ˜¯åŒå¼•å·å¼•èµ·æ¥çš„</span><br>        System.out.println(<span class="hljs-string">&quot;æˆ‘çˆ±ä½ ä¸­å›½abc&quot;</span>);<br>        <br>        <span class="hljs-comment">//5.å¸ƒå°”å€¼ï¼šåªæœ‰ä¸¤ä¸ªå€¼trueå’Œfalse</span><br>        System.out.println(<span class="hljs-literal">true</span>);<br>        System.out.println(<span class="hljs-literal">false</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><hr><h2 id="1-3-å˜é‡"><a href="#1-3-å˜é‡" class="headerlink" title="1.3 å˜é‡"></a>1.3 å˜é‡</h2><p>å˜é‡æ˜¯ç”¨æ¥è®°å½•ç¨‹åºä¸­çš„æ•°æ®çš„ã€‚å…¶æœ¬è´¨ä¸Šæ˜¯å†…å­˜ä¸­çš„ä¸€å—åŒºåŸŸ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> <span class="hljs-number">18</span>;<br>System.out.println(a);<br></code></pre></td></tr></table></figure><p>å½“æ‰§è¡Œ<code>int age = 18;</code> è¿™å¥ä»£ç æ—¶ï¼ŒJVMä¼šåœ¨å†…å­˜ä¸­ç”³è¯·ä¸€å—åŒºåŸŸï¼Œåœ¨è¿™ä¸ªåŒºåŸŸä¸­å­˜å‚¨äº†ä¸€ä¸ªæ•´æ•°18ï¼Œç»™è¿™ä¸ªåŒºåŸŸå–çš„åå­—å«ageï¼› ç›¸å½“äºåœ¨ç›’å­ä¸­å­˜äº†ä¸€ä¸ªæ•°æ®18ï¼Œè¿™ä¸ªç›’å­çš„åå­—æ˜¯ageï¼Œå½“æˆ‘ä»¬æ‰“å°ageæ—¶ï¼Œå°±æ˜¯ä»ç›’å­ä¸­æŠŠç›’å­ä¸­çš„æ•°æ®å–å‡ºæ¥å†æ‰“å°ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-number">1.</span>å˜é‡å®šä¹‰åœ¨å“ªä¸ª&#123;&#125;èŒƒå›´å†…ï¼Œå°±åªåœ¨å“ªä¸ªå¤§æ‹¬å·å†…æœ‰æ•ˆã€‚å˜é‡çš„æœ‰æ•ˆèŒƒå›´ç§°ä¹‹ä¸ºå˜é‡çš„ä½œç”¨åŸŸ<br>&#123;<br><span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br>System.out.println(a); <span class="hljs-comment">//è¿™æ˜¯æ˜¯å¯¹çš„</span><br>&#125;<br>System.out.println(a); <span class="hljs-comment">//è¿™é‡Œä¼šå‡ºé”™</span><br><br><span class="hljs-number">2.</span>åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸå†…ï¼Œä¸èƒ½æœ‰ä¸¤ä¸ªåŒåçš„å˜é‡<br>&#123;<br><span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">20</span>; <span class="hljs-comment">//è¿™é‡Œä¼šå‡ºé”™</span><br>&#125;<br><br><span class="hljs-number">3.</span>å˜é‡æ²¡æœ‰åˆå§‹åŒ–åªï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨<br><span class="hljs-type">int</span> a; <span class="hljs-comment">//ä»…ä»…å®šä¹‰äº†å˜é‡ï¼Œä½†æ˜¯æ²¡æœ‰åˆå§‹å€¼</span><br>System.out.println(a); <span class="hljs-comment">//è¿™é‡Œä¼šå‡ºé”™</span><br><br><span class="hljs-number">4.</span>å˜é‡å¯ä»¥å®šä¹‰åœ¨åŒä¸€è¡Œ<br>å¦‚ï¼š<span class="hljs-type">int</span> a=<span class="hljs-number">10</span>, b=<span class="hljs-number">20</span>; <span class="hljs-comment">//aå’Œbéƒ½æ˜¯intç±»å‹</span><br></code></pre></td></tr></table></figure><hr><h2 id="1-4-å…³é”®å­—"><a href="#1-4-å…³é”®å­—" class="headerlink" title="1.4 å…³é”®å­—"></a>1.4 å…³é”®å­—</h2><p>å…³é”®å­—æ˜¯javaè¯­è¨€ä¸­æœ‰ç‰¹æ®Šå«ä¹‰çš„å•è¯ã€‚æ¯”å¦‚ç”¨intè¡¨ç¤ºæ•´æ•°ï¼Œç”¨doubleè¡¨ç¤ºå°æ•°ï¼Œç­‰ç­‰</p><table><thead><tr><th><strong>abstract</strong></th><th><strong>assert</strong></th><th><strong>boolean</strong></th><th><strong>break</strong></th><th><strong>byte</strong></th></tr></thead><tbody><tr><td><strong>case</strong></td><td><strong>catch</strong></td><td><strong>char</strong></td><td><strong>class</strong></td><td><strong>const</strong></td></tr><tr><td><strong>continue</strong></td><td><strong>default</strong></td><td><strong>do</strong></td><td><strong>double</strong></td><td><strong>else</strong></td></tr><tr><td><strong>enum</strong></td><td><strong>extends</strong></td><td><strong>final</strong></td><td><strong>finally</strong></td><td><strong>float</strong></td></tr><tr><td><strong>for</strong></td><td><strong>goto</strong></td><td><strong>if</strong></td><td><strong>implements</strong></td><td><strong>import</strong></td></tr><tr><td><strong>instanceof</strong></td><td><strong>int</strong></td><td><strong>interface</strong></td><td><strong>long</strong></td><td><strong>native</strong></td></tr><tr><td><strong>new</strong></td><td><strong>package</strong></td><td><strong>private</strong></td><td><strong>protected</strong></td><td><strong>public</strong></td></tr><tr><td><strong>return</strong></td><td><strong>strictfp</strong></td><td><strong>short</strong></td><td><strong>static</strong></td><td><strong>super</strong></td></tr><tr><td><strong>switch</strong></td><td><strong>synchronized</strong></td><td><strong>this</strong></td><td><strong>throw</strong></td><td><strong>throws</strong></td></tr><tr><td><strong>transient</strong></td><td><strong>try</strong></td><td><strong>void</strong></td><td><strong>volatile</strong></td><td><strong>while</strong></td></tr></tbody></table><hr><h2 id="1-5-æ ‡è¯†ç¬¦"><a href="#1-5-æ ‡è¯†ç¬¦" class="headerlink" title="1.5 æ ‡è¯†ç¬¦"></a>1.5 æ ‡è¯†ç¬¦</h2><p>æ ‡å¿—ç¬¦å…¶å®å°±æ˜¯æˆ‘ä»¬è‡ªå·±å–çš„åå­—ã€‚åƒå‰é¢æˆ‘ä»¬å–çš„ç±»åï¼Œå˜é‡åå…¶å®éƒ½æ˜¯æ ‡å¿—ç¬¦</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java">å¼ºåˆ¶è¦æ±‚ï¼šå¿…é¡»éµå®ˆï¼Œä¸éµå®ˆå°±ä¼šæŠ¥é”™<br><span class="hljs-number">1.</span>æœ€å¥½æ˜¯å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€$ç»„æˆ<br><span class="hljs-number">2.</span>ä¸èƒ½ä»¥æ•°å­—å¼€å¤´<br><span class="hljs-number">3.</span>ä¸èƒ½æ˜¯Javaçš„å…³é”®å­—<br><br>å»ºè®®éµå®ˆï¼šæŒ‰ç…§ä¸‹é¢çš„æ–¹å¼å–åå­—ä¼šæ˜¾å¾—æ›´åŠ ä¸“ä¸š<br><span class="hljs-number">1.</span>æ‰€æœ‰çš„åå­—è¦è§åçŸ¥æ„ï¼Œä¾¿äºè‡ªå·±å’Œåˆ«äººé˜…è¯»<br>ä¸¾ä¾‹ï¼š <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>&#123;&#125; <span class="hljs-comment">//ä¸€çœ‹è¿™ä¸ªç±»å°±çŸ¥é“è¡¨ç¤ºä¸€ä¸ªå­¦ç”Ÿ</span><br>  <span class="hljs-type">int</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span><span class="hljs-number">10</span>;    <span class="hljs-comment">//ä¸€çœ‹è¿™ä¸ªå˜é‡å°±çŸ¥é“è¡¨ç¤ºå¹´é¾„</span><br><br><span class="hljs-number">2.</span>ç±»åï¼šé¦–å­—æ¯å¤§å†™ï¼ˆå¤§é©¼å³°å‘½åï¼‰<br>ä¸¾ä¾‹ï¼š <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>&#123;&#125;<br><br><span class="hljs-number">3.</span>å˜é‡åï¼šç¬¬äºŒä¸ªå•è¯å¼€å§‹é¦–å­—æ¯å¤§å†™ï¼ˆå°é©¼å³°å‘½åï¼‰<br>ä¸¾ä¾‹ï¼š <span class="hljs-type">double</span> <span class="hljs-variable">money</span> <span class="hljs-operator">=</span> <span class="hljs-number">6.88</span>;  <br>  <span class="hljs-type">double</span> <span class="hljs-variable">applePrice</span> <span class="hljs-operator">=</span> <span class="hljs-number">7.5</span>; <br></code></pre></td></tr></table></figure><hr><h1 id="ç±»å‹è½¬æ¢ã€è¿ç®—ç¬¦"><a href="#ç±»å‹è½¬æ¢ã€è¿ç®—ç¬¦" class="headerlink" title="ç±»å‹è½¬æ¢ã€è¿ç®—ç¬¦"></a>ç±»å‹è½¬æ¢ã€è¿ç®—ç¬¦</h1>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æµç¨‹æ§åˆ¶</tag>
      
      <tag>æ•°ç»„</tag>
      
      <tag>æ–¹æ³•</tag>
      
      <tag>åŸºç¡€è¯­æ³•</tag>
      
      <tag>Java SE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2025/12/08/hello-world/"/>
    <url>/2025/12/08/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
