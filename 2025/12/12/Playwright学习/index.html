

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="æµ‹å¼€æ±‚èŒè€…">
  <meta name="keywords" content="">
  
    <meta name="description" content="playwright æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ï¼Œé€‚ç”¨äº Web åº”ç”¨ç¨‹åºçš„è‡ªåŠ¨åŒ–æµ‹è¯•å’Œå…¶ä»–æµè§ˆå™¨è‡ªåŠ¨åŒ–ä»»åŠ¡">
<meta property="og:type" content="article">
<meta property="og:title" content="Playwrightå­¦ä¹ ">
<meta property="og:url" content="https://lilpear2002.github.io/2025/12/12/Playwright%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="æµ‹å¼€å­¦ä¹ ä¹‹è·¯">
<meta property="og:description" content="playwright æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ï¼Œé€‚ç”¨äº Web åº”ç”¨ç¨‹åºçš„è‡ªåŠ¨åŒ–æµ‹è¯•å’Œå…¶ä»–æµè§ˆå™¨è‡ªåŠ¨åŒ–ä»»åŠ¡">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://lilpear2002.github.io/img/playwright.png">
<meta property="article:published_time" content="2025-12-12T13:27:43.000Z">
<meta property="article:modified_time" content="2025-12-12T15:32:25.524Z">
<meta property="article:author" content="æµ‹å¼€æ±‚èŒè€…">
<meta property="article:tag" content="Webè‡ªåŠ¨åŒ–æµ‹è¯•">
<meta property="article:tag" content="playwright">
<meta property="article:tag" content="python">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://lilpear2002.github.io/img/playwright.png">
  
  
  
  <title>Playwrightå­¦ä¹  - æµ‹å¼€å­¦ä¹ ä¹‹è·¯</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"lilpear2002.github.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 8.1.1"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Fluid</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>é¦–é¡µ</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/Java/" target="_self">
                <i class="iconfont icon-code-fill"></i>
                <span>JavaåŸºç¡€</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/Python/" target="_self">
                <i class="iconfont icon-code-fill"></i>
                <span>PythonåŸºç¡€</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/Testing/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>æµ‹è¯•åŸºç¡€</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/Java%E9%A1%B9%E7%9B%AE/" target="_self">
                <i class="iconfont icon-bookmark-fill"></i>
                <span>Javaé¡¹ç›®</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/%E6%B5%8B%E5%BC%80%E9%A1%B9%E7%9B%AE/" target="_self">
                <i class="iconfont icon-bookmark-fill"></i>
                <span>æµ‹å¼€é¡¹ç›®</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/%E7%A7%91%E7%A0%94%E7%BB%8F%E5%8E%86/" target="_self">
                <i class="iconfont icon-lab-fill"></i>
                <span>ç§‘ç ”ç»å†</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/LLM/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>å¤§æ¨¡å‹</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>å…³äº</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Playwrightå­¦ä¹ "></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-12-12 21:27" pubdate>
          2025å¹´12æœˆ12æ—¥ æ™šä¸Š
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          6.7k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          56 åˆ†é’Ÿ
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">Playwrightå­¦ä¹ </h1>
            
            
              <div class="markdown-body">
                
                <h1 id="å…ƒç´ å®šä½"><a href="#å…ƒç´ å®šä½" class="headerlink" title="å…ƒç´ å®šä½"></a>å…ƒç´ å®šä½</h1><p>åœ¨ Playwright ä¸­ï¼Œå®šä½å…ƒç´ ä¸»è¦åˆ†ä¸º<strong>ä¸¤æ´¾</strong>ï¼š</p>
<ol>
<li><strong>ä¼ ç»Ÿæ´¾ï¼ˆå…¼å®¹ Selenium æ€ç»´ï¼‰</strong>ï¼šä½¿ç”¨ CSS å’Œ XPathã€‚</li>
<li><strong>æ–°æ½®æ´¾ï¼ˆå®˜æ–¹æ¨èï¼‰</strong>ï¼šä½¿ç”¨â€œç”¨æˆ·çœ‹åˆ°ä»€ä¹ˆå°±æ‰¾ä»€ä¹ˆâ€çš„æ–¹å¼ã€‚</li>
</ol>
<hr>
<h3 id="ç¬¬ä¸€æ­¥ï¼šä¼ ç»Ÿæ´¾-â€”â€”-page-locator"><a href="#ç¬¬ä¸€æ­¥ï¼šä¼ ç»Ÿæ´¾-â€”â€”-page-locator" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šä¼ ç»Ÿæ´¾ â€”â€” page.locator()"></a>ç¬¬ä¸€æ­¥ï¼šä¼ ç»Ÿæ´¾ â€”â€” <code>page.locator()</code></h3><p>åœ¨ Playwright é‡Œï¼Œä¸éœ€è¦åƒ Selenium é‚£æ ·è®° By.ID, By.XPATH, By.CSS_SELECTOR è¿™ä¹ˆå¤šåˆ†ç±»ã€‚</p>
<p>ä½ åªéœ€è¦è®°ä½ä¸€ä¸ªä¸‡èƒ½æ–¹æ³•ï¼špage.locator(â€œå†™åœ¨è¿™é‡Œâ€)ã€‚</p>
<p>å®ƒä¼šè‡ªåŠ¨è¯†åˆ«ä½ å†™çš„æ˜¯ CSS è¿˜æ˜¯ XPathã€‚</p>
<h4 id="1-ID-å®šä½"><a href="#1-ID-å®šä½" class="headerlink" title="1. ID å®šä½"></a>1. ID å®šä½</h4><ul>
<li><p><strong>Selenium</strong>: <code>driver.find_element(By.ID, &quot;kw&quot;)</code></p>
</li>
<li><p><strong>Playwright</strong>: ä½¿ç”¨ CSS çš„ <code>#</code> è¯­æ³•ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">page.locator(<span class="hljs-string">&quot;#kw&quot;</span>)<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="2-Class-å®šä½"><a href="#2-Class-å®šä½" class="headerlink" title="2. Class å®šä½"></a>2. Class å®šä½</h4><ul>
<li><p><strong>Selenium</strong>: <code>driver.find_element(By.CLASS_NAME, &quot;s_ipt&quot;)</code></p>
</li>
<li><p><strong>Playwright</strong>: ä½¿ç”¨ CSS çš„ <code>.</code> è¯­æ³•ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">page.locator(<span class="hljs-string">&quot;.s_ipt&quot;</span>)<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="3-XPath-å®šä½"><a href="#3-XPath-å®šä½" class="headerlink" title="3. XPath å®šä½"></a>3. XPath å®šä½</h4><ul>
<li><p><strong>Selenium</strong>: <code>driver.find_element(By.XPATH, &quot;//input[@id=&#39;kw&#39;]&quot;)</code></p>
</li>
<li><p><strong>Playwright</strong>: ç›´æ¥å†™ XPath å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">page.locator(<span class="hljs-string">&quot;//input[@id=&#x27;kw&#x27;]&quot;</span>)<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="4-CSS-é€‰æ‹©å™¨-æœ€å¸¸ç”¨"><a href="#4-CSS-é€‰æ‹©å™¨-æœ€å¸¸ç”¨" class="headerlink" title="4. CSS é€‰æ‹©å™¨ (æœ€å¸¸ç”¨)"></a>4. CSS é€‰æ‹©å™¨ (æœ€å¸¸ç”¨)</h4><ul>
<li><p><strong>Selenium</strong>: <code>driver.find_element(By.CSS_SELECTOR, &quot;input[name=&#39;wd&#39;]&quot;)</code></p>
</li>
<li><p><strong>Playwright</strong>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">page.locator(<span class="hljs-string">&quot;input[name=&#x27;wd&#x27;]&quot;</span>)<br></code></pre></td></tr></table></figure></li>
</ul>
<blockquote>
<p><strong>ğŸŸ¢ æ€»ç»“ï¼š</strong> åªè¦ä¼šå†™ CSS æˆ– XPathï¼Œç›´æ¥å¾€ <code>page.locator()</code> é‡Œå¡å°±è¡Œäº†ï¼Œä¸éœ€è¦æŒ‡å®šç±»å‹ã€‚</p>
</blockquote>
<hr>
<h3 id="ç¬¬äºŒæ­¥ï¼šæ–°æ½®æ´¾-â€”â€”-å®˜æ–¹æ¨èçš„â€œè¯­ä¹‰åŒ–å®šä½â€"><a href="#ç¬¬äºŒæ­¥ï¼šæ–°æ½®æ´¾-â€”â€”-å®˜æ–¹æ¨èçš„â€œè¯­ä¹‰åŒ–å®šä½â€" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šæ–°æ½®æ´¾ â€”â€” å®˜æ–¹æ¨èçš„â€œè¯­ä¹‰åŒ–å®šä½â€"></a>ç¬¬äºŒæ­¥ï¼šæ–°æ½®æ´¾ â€”â€” å®˜æ–¹æ¨èçš„â€œè¯­ä¹‰åŒ–å®šä½â€</h3><p>Playwright è®¤ä¸ºï¼šCSS å’Œ XPath æ˜¯ç»™ç¨‹åºå‘˜çœ‹çš„ï¼Œä¸æ˜¯ç»™ç”¨æˆ·çœ‹çš„ã€‚</p>
<p>å¦‚æœç¨‹åºå‘˜æ”¹äº†ä»£ç ï¼ˆæ¯”å¦‚æŠŠ id&#x3D;â€submit-btnâ€ æ”¹æˆäº† id&#x3D;â€login-btnâ€ï¼‰ï¼ŒCSS å®šä½å°±æŒ‚äº†ã€‚ä½†**æŒ‰é’®ä¸Šçš„æ–‡å­—â€œç™»å½•â€**é€šå¸¸ä¸ä¼šå˜ã€‚</p>
<p>æ‰€ä»¥ï¼ŒPlaywright æ¨å‡ºäº†ä¸€å¥—<strong>æ ¹æ®é¡µé¢å†…å®¹</strong>å®šä½çš„æ–¹æ³•ã€‚</p>
<h4 id="1-æ‰¾æ–‡å­—-â€”â€”-get-by-text"><a href="#1-æ‰¾æ–‡å­—-â€”â€”-get-by-text" class="headerlink" title="1. æ‰¾æ–‡å­— â€”â€” get_by_text()"></a>1. æ‰¾æ–‡å­— â€”â€” <code>get_by_text()</code></h4><p>å¯¹åº” Selenium çš„ <code>By.LINK_TEXT</code> æˆ– XPath çš„ <code>text()=</code>ã€‚</p>
<ul>
<li><p><strong>åœºæ™¯</strong>ï¼šé¡µé¢ä¸Šæœ‰ä¸ª <code>&lt;span&gt;æ¬¢è¿å›æ¥&lt;/span&gt;</code> æˆ– <code>&lt;a&gt;æ–°é—»&lt;/a&gt;</code>ã€‚</p>
</li>
<li><p><strong>ä»£ç </strong>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ¨¡ç³ŠåŒ¹é…ï¼ˆåŒ…å«å³å¯ï¼‰</span><br>page.get_by_text(<span class="hljs-string">&quot;æ¬¢è¿&quot;</span>) <br><br><span class="hljs-comment"># ç²¾ç¡®åŒ¹é…</span><br>page.get_by_text(<span class="hljs-string">&quot;æ¬¢è¿å›æ¥&quot;</span>, exact=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="2-æ‰¾è¡¨å•è¾“å…¥æ¡†-â€”â€”-get-by-placeholder"><a href="#2-æ‰¾è¡¨å•è¾“å…¥æ¡†-â€”â€”-get-by-placeholder" class="headerlink" title="2. æ‰¾è¡¨å•è¾“å…¥æ¡† â€”â€” get_by_placeholder()"></a>2. æ‰¾è¡¨å•è¾“å…¥æ¡† â€”â€” <code>get_by_placeholder()</code></h4><ul>
<li><p><strong>åœºæ™¯</strong>ï¼šè¾“å…¥æ¡†é‡Œç°è‰²çš„æç¤ºå­—ï¼ˆPlaceholderï¼‰ã€‚</p>
</li>
<li><p><strong>ä»£ç </strong>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åªè¦è¾“å…¥æ¡†é‡Œå†™ç€ &quot;è¯·è¾“å…¥å¯†ç &quot;ï¼Œå°±èƒ½æ‰¾åˆ°</span><br>page.get_by_placeholder(<span class="hljs-string">&quot;è¯·è¾“å…¥å¯†ç &quot;</span>).fill(<span class="hljs-string">&quot;123456&quot;</span>)<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="3-æ‰¾è§’è‰²ï¼ˆæŒ‰é’®-é“¾æ¥-æ ‡é¢˜ï¼‰â€”â€”-get-by-role-æœ€æ ¸å¿ƒ"><a href="#3-æ‰¾è§’è‰²ï¼ˆæŒ‰é’®-é“¾æ¥-æ ‡é¢˜ï¼‰â€”â€”-get-by-role-æœ€æ ¸å¿ƒ" class="headerlink" title="3. æ‰¾è§’è‰²ï¼ˆæŒ‰é’®&#x2F;é“¾æ¥&#x2F;æ ‡é¢˜ï¼‰â€”â€” get_by_role() (æœ€æ ¸å¿ƒ)"></a>3. æ‰¾è§’è‰²ï¼ˆæŒ‰é’®&#x2F;é“¾æ¥&#x2F;æ ‡é¢˜ï¼‰â€”â€” <code>get_by_role()</code> <strong>(æœ€æ ¸å¿ƒ)</strong></h4><p>è¿™æ˜¯ Playwright æœ€å¼ºå¤§çš„åœ°æ–¹ï¼Œå®ƒé€šè¿‡ HTML çš„<strong>è¯­ä¹‰</strong>æ¥æ‰¾ã€‚</p>
<ul>
<li><p><strong>æ‰¾æŒ‰é’®</strong> (<code>&lt;button&gt;</code> æˆ– <code>input type=&quot;submit&quot;</code>):</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ‰¾åå­—å« &quot;ç™»å½•&quot; çš„æŒ‰é’®</span><br>page.get_by_role(<span class="hljs-string">&quot;button&quot;</span>, name=<span class="hljs-string">&quot;ç™»å½•&quot;</span>)<br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>æ‰¾é“¾æ¥</strong> (<code>&lt;a&gt;</code>):</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ‰¾åå­—å« &quot;é¦–é¡µ&quot; çš„é“¾æ¥</span><br>page.get_by_role(<span class="hljs-string">&quot;link&quot;</span>, name=<span class="hljs-string">&quot;é¦–é¡µ&quot;</span>)<br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>æ‰¾æ ‡é¢˜</strong> (<code>&lt;h1&gt;</code> - <code>&lt;h6&gt;</code>):</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ‰¾å†…å®¹æ˜¯ &quot;ç”¨æˆ·æ³¨å†Œ&quot; çš„ä¸€çº§æ ‡é¢˜</span><br>page.get_by_role(<span class="hljs-string">&quot;heading&quot;</span>, name=<span class="hljs-string">&quot;ç”¨æˆ·æ³¨å†Œ&quot;</span>)<br></code></pre></td></tr></table></figure></li>
</ul>
<hr>
<h3 id="ç¬¬ä¸‰æ­¥ï¼šå®æˆ˜ç»ƒä¹ ï¼ˆé€šè¿‡é«˜äº®æ¥éªŒè¯ï¼‰"><a href="#ç¬¬ä¸‰æ­¥ï¼šå®æˆ˜ç»ƒä¹ ï¼ˆé€šè¿‡é«˜äº®æ¥éªŒè¯ï¼‰" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šå®æˆ˜ç»ƒä¹ ï¼ˆé€šè¿‡é«˜äº®æ¥éªŒè¯ï¼‰"></a>ç¬¬ä¸‰æ­¥ï¼šå®æˆ˜ç»ƒä¹ ï¼ˆé€šè¿‡é«˜äº®æ¥éªŒè¯ï¼‰</h3><p>ä¸ºäº†è®©ä½ ç›´è§‚åœ°çœ‹åˆ°å®šä½å¯¹ä¸å¯¹ï¼Œæˆ‘ä»¬ä¸æ‰§è¡Œç‚¹å‡»ï¼Œè€Œæ˜¯ç”¨ <strong><code>.highlight()</code></strong> æ–¹æ³•ã€‚è¿™ä¼šåœ¨æµè§ˆå™¨é‡Œç»™å…ƒç´ ç”»ä¸ªçº¢æ¡†ï¼Œéå¸¸é€‚åˆå­¦ä¹ ï¼</p>
<p>æˆ‘ä»¬ä»¥ <strong>ç™¾åº¦ (baidu.com)</strong> ä¸ºä¾‹ã€‚</p>
<p>è¯·æ–°å»ºä¸€ä¸ª <code>demo_locator.py</code>ï¼ŒæŠŠä¸‹é¢çš„ä»£ç å¤åˆ¶è¿›å»è¿è¡Œï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><span class="hljs-keyword">import</span> time<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com&quot;</span>)<br><br>    <span class="hljs-comment"># --- ç»ƒä¹  1: ä½¿ç”¨ CSS ID å®šä½æœç´¢æ¡† ---</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;1. æ­£åœ¨é«˜äº®æœç´¢æ¡† (CSS ID)...&quot;</span>)<br>    <span class="hljs-comment"># å¯¹åº” Selenium: By.ID &quot;kw&quot;</span><br>    page.locator(<span class="hljs-string">&quot;#kw&quot;</span>).highlight()<br>    time.sleep(<span class="hljs-number">2</span>) <span class="hljs-comment"># åœé¡¿ 2 ç§’è®©ä½ çœ‹æ¸…æ¥šçº¢æ¡†</span><br><br>    <span class="hljs-comment"># --- ç»ƒä¹  2: ä½¿ç”¨ XPath å®šä½â€œç™¾åº¦ä¸€ä¸‹â€æŒ‰é’® ---</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;2. æ­£åœ¨é«˜äº®æŒ‰é’® (XPath)...&quot;</span>)<br>    <span class="hljs-comment"># å¯¹åº” Selenium: By.XPATH</span><br>    page.locator(<span class="hljs-string">&quot;//input[@id=&#x27;su&#x27;]&quot;</span>).highlight()<br>    time.sleep(<span class="hljs-number">2</span>)<br><br>    <span class="hljs-comment"># --- ç»ƒä¹  3: ä½¿ç”¨æ–°æ½®çš„ get_by_text å®šä½å³ä¸Šè§’çš„â€œæ–°é—»â€ ---</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;3. æ­£åœ¨é«˜äº®é“¾æ¥ (Text)...&quot;</span>)<br>    <span class="hljs-comment"># å¯¹åº” Selenium: By.LINK_TEXT &quot;æ–°é—»&quot;</span><br>    page.get_by_text(<span class="hljs-string">&quot;æ–°é—»&quot;</span>).highlight()<br>    time.sleep(<span class="hljs-number">2</span>)<br><br>    <span class="hljs-comment"># --- ç»ƒä¹  4: ä½¿ç”¨æ–°æ½®çš„ get_by_role å®šä½â€œç™¾åº¦ä¸€ä¸‹â€æŒ‰é’® ---</span><br>    <span class="hljs-comment"># æ³¨æ„ï¼šç™¾åº¦çš„æŒ‰é’®æœ‰æ—¶å€™è¯†åˆ«æœ‰ç‚¹æ€ªï¼Œè¿™é‡Œä½œä¸ºè¿›é˜¶å°è¯•</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;4. å°è¯•ç”¨ Role å®šä½æŒ‰é’®...&quot;</span>)<br>    page.get_by_role(<span class="hljs-string">&quot;button&quot;</span>, name=<span class="hljs-string">&quot;ç™¾åº¦ä¸€ä¸‹&quot;</span>).highlight()<br>    time.sleep(<span class="hljs-number">2</span>)<br><br>    browser.close()<br></code></pre></td></tr></table></figure>

<hr>
<h1 id="å…ƒç´ æ“ä½œ"><a href="#å…ƒç´ æ“ä½œ" class="headerlink" title="å…ƒç´ æ“ä½œ"></a>å…ƒç´ æ“ä½œ</h1><p>Playwright çš„æ“ä½œé€»è¾‘æ›´ç®€æ´ï¼Œè€Œä¸”è§£å†³äº†ä¸€ä¸ª Selenium çš„å¤§ç—›ç‚¹ï¼š<strong>å®ƒä¼šè‡ªåŠ¨ç­‰å¾…å…ƒç´ å‡†å¤‡å¥½</strong>ã€‚</p>
<hr>
<h3 id="1-å¯¼èˆªæ“ä½œ-Browser-Actions"><a href="#1-å¯¼èˆªæ“ä½œ-Browser-Actions" class="headerlink" title="1. å¯¼èˆªæ“ä½œ (Browser Actions)"></a>1. å¯¼èˆªæ“ä½œ (Browser Actions)</h3><p>Playwright çš„å¯¼èˆªæ–¹æ³•å’Œ Selenium éå¸¸åƒï¼Œåªæ˜¯åå­—ç¨å¾®å˜äº†ä¸€ç‚¹ç‚¹ã€‚</p>
<table>
<thead>
<tr>
<th><strong>æ“ä½œ</strong></th>
<th>**Selenium **</th>
<th><strong>Playwright</strong></th>
<th><strong>å¤‡æ³¨</strong></th>
</tr>
</thead>
<tbody><tr>
<td>æ‰“å¼€ç½‘é¡µ</td>
<td><code>driver.get(url)</code></td>
<td><code>page.goto(url)</code></td>
<td>Playwright é»˜è®¤ä¼šç­‰å¾…é¡µé¢åŠ è½½å®Œæˆ(loadçŠ¶æ€)</td>
</tr>
<tr>
<td>åé€€</td>
<td><code>driver.back()</code></td>
<td><code>page.go_back()</code></td>
<td>-</td>
</tr>
<tr>
<td>å‰è¿›</td>
<td><code>driver.forward()</code></td>
<td><code>page.go_forward()</code></td>
<td>-</td>
</tr>
<tr>
<td>åˆ·æ–°</td>
<td><code>driver.refresh()</code></td>
<td><code>page.reload()</code></td>
<td>-</td>
</tr>
<tr>
<td>è·å–æ ‡é¢˜</td>
<td><code>driver.title</code> (å±æ€§)</td>
<td><code>page.title()</code> (æ–¹æ³•)</td>
<td>æ³¨æ„ Playwright æ˜¯æ–¹æ³•ï¼Œè¦åŠ æ‹¬å· <code>()</code></td>
</tr>
<tr>
<td>è·å–URL</td>
<td><code>driver.current_url</code></td>
<td><code>page.url</code> (å±æ€§)</td>
<td>è¿™ä¸ªæ˜¯å±æ€§ï¼Œ<strong>ä¸åŠ </strong>æ‹¬å·</td>
</tr>
</tbody></table>
<hr>
<h3 id="2-å…ƒç´ æ ¸å¿ƒæ“ä½œ-Interaction"><a href="#2-å…ƒç´ æ ¸å¿ƒæ“ä½œ-Interaction" class="headerlink" title="2. å…ƒç´ æ ¸å¿ƒæ“ä½œ (Interaction)"></a>2. å…ƒç´ æ ¸å¿ƒæ“ä½œ (Interaction)</h3><p>è¿™æ˜¯è‡ªåŠ¨åŒ–æµ‹è¯•æœ€é«˜é¢‘çš„æ“ä½œï¼šè¾“å…¥å’Œç‚¹å‡»ã€‚</p>
<h4 id="A-è¾“å…¥æ¡†ï¼šfill-vs-send-keys"><a href="#A-è¾“å…¥æ¡†ï¼šfill-vs-send-keys" class="headerlink" title="A. è¾“å…¥æ¡†ï¼šfill vs send_keys"></a>A. è¾“å…¥æ¡†ï¼š<code>fill</code> vs <code>send_keys</code></h4><ul>
<li><p>Selenium:</p>
<p>ä½ éœ€è¦å…ˆ clear() æ¸…ç©ºï¼Œå† send_keys()ã€‚</p>
</li>
<li><p>Playwright:</p>
<p>åªæœ‰ä¸€ä¸ªç¥å™¨ fill(â€œå†…å®¹â€)ã€‚å®ƒä¼šè‡ªåŠ¨å…ˆæ¸…ç©ºè¾“å…¥æ¡†ï¼Œå†è¾“å…¥å†…å®¹ã€‚ä¸€æ­¥åˆ°ä½ã€‚</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Selenium</span><br>ele.clear()<br>ele.send_keys(<span class="hljs-string">&quot;test&quot;</span>)<br><br><span class="hljs-comment"># Playwright (æ¨è)</span><br>page.locator(<span class="hljs-string">&quot;#username&quot;</span>).fill(<span class="hljs-string">&quot;test&quot;</span>)<br><br><span class="hljs-comment"># Playwright (å¦‚æœä½ æƒ³æ¨¡æ‹Ÿé€ä¸ªæŒ‰é”®ï¼Œæ¯”å¦‚æµ‹è¯•æœç´¢è”æƒ³)</span><br>page.locator(<span class="hljs-string">&quot;#search&quot;</span>).press_sequentially(<span class="hljs-string">&quot;test&quot;</span>, delay=<span class="hljs-number">100</span>)<br></code></pre></td></tr></table></figure>

<h4 id="B-ç‚¹å‡»ï¼šclick"><a href="#B-ç‚¹å‡»ï¼šclick" class="headerlink" title="B. ç‚¹å‡»ï¼šclick"></a>B. ç‚¹å‡»ï¼š<code>click</code></h4><ul>
<li><p>Playwright: page.locator(â€œâ€¦â€).click()ã€‚</p>
<p>æœ€å¤§ä¼˜åŠ¿ï¼šå®ƒè‡ªå¸¦æ™ºèƒ½ç­‰å¾…ã€‚å®ƒä¼šæ£€æŸ¥å…ƒç´ æ˜¯å¦å¯è§ã€æ˜¯å¦åœæ­¢ç§»åŠ¨ã€æ˜¯å¦è¢«é®æŒ¡ã€‚å¦‚æœè¢«é®æŒ¡ï¼Œå®ƒä¼šç­‰å¾…é®æŒ¡ç‰©æ¶ˆå¤±å†ç‚¹ã€‚</p>
</li>
</ul>
<hr>
<h3 id="3-è·å–å…ƒç´ ä¿¡æ¯-Get-Info"><a href="#3-è·å–å…ƒç´ ä¿¡æ¯-Get-Info" class="headerlink" title="3. è·å–å…ƒç´ ä¿¡æ¯ (Get Info)"></a>3. è·å–å…ƒç´ ä¿¡æ¯ (Get Info)</h3><p>ç”¨äºåšæ–­è¨€ï¼ˆAssertï¼‰ï¼ŒéªŒè¯æµ‹è¯•ç»“æœã€‚</p>
<table>
<thead>
<tr>
<th><strong>è·å–å†…å®¹</strong></th>
<th><strong>Selenium</strong></th>
<th><strong>Playwright</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>è·å–æ–‡æœ¬</strong></td>
<td><code>ele.text</code></td>
<td><code>locator.inner_text()</code> (å¯è§æ–‡æœ¬) <code>locator.text_content()</code> (åŒ…å«éšè—æ–‡æœ¬)</td>
</tr>
<tr>
<td><strong>è·å–å±æ€§</strong></td>
<td><code>ele.get_attribute(&quot;type&quot;)</code></td>
<td><code>locator.get_attribute(&quot;type&quot;)</code></td>
</tr>
<tr>
<td><strong>æ˜¯å¦å¯è§</strong></td>
<td><code>ele.is_displayed()</code></td>
<td><code>locator.is_visible()</code></td>
</tr>
<tr>
<td><strong>æ˜¯å¦å¯ç”¨</strong></td>
<td><code>ele.is_enabled()</code></td>
<td><code>locator.is_enabled()</code></td>
</tr>
</tbody></table>
<hr>
<h3 id="ğŸ’»-å®æˆ˜æ¼”ç»ƒ"><a href="#ğŸ’»-å®æˆ˜æ¼”ç»ƒ" class="headerlink" title="ğŸ’» å®æˆ˜æ¼”ç»ƒ"></a>ğŸ’» å®æˆ˜æ¼”ç»ƒ</h3><p>åœºæ™¯ï¼šç½‘ç«™ the-internet.herokuapp.comã€‚</p>
<ol>
<li>æ‰“å¼€ç™»å½•é¡µã€‚</li>
<li>è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼ˆä½¿ç”¨ <code>fill</code>ï¼‰ã€‚</li>
<li>ç‚¹å‡»ç™»å½•ã€‚</li>
<li>è·å–æç¤ºæ–‡å­—ï¼ˆä½¿ç”¨ <code>inner_text</code>ï¼‰ã€‚</li>
<li>åˆ·æ–°é¡µé¢ã€‚</li>
</ol>
<p>æ–°å»ºæ–‡ä»¶ <code>demo_action.py</code>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><span class="hljs-keyword">import</span> time<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    <span class="hljs-comment"># 1. å¯åŠ¨</span><br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">1000</span>) <span class="hljs-comment"># slow_mo è®©ä½ çœ‹æ¸…æ“ä½œ</span><br>    page = browser.new_page()<br><br>    <span class="hljs-comment"># 2. å¯¼èˆª</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; æ­£åœ¨æ‰“å¼€ç½‘é¡µ...&quot;</span>)<br>    page.goto(<span class="hljs-string">&quot;https://the-internet.herokuapp.com/login&quot;</span>)<br>    <br>    <span class="hljs-comment"># æ‰“å°å½“å‰æ ‡é¢˜</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å½“å‰æ ‡é¢˜: <span class="hljs-subst">&#123;page.title()&#125;</span>&quot;</span>)<br><br>    <span class="hljs-comment"># 3. å…ƒç´ æ“ä½œï¼šè¾“å…¥ (ä½¿ç”¨ fillï¼Œè‡ªåŠ¨æ¸…ç©º + è¾“å…¥)</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; æ­£åœ¨è¾“å…¥è´¦å·å¯†ç ...&quot;</span>)<br>    <span class="hljs-comment"># è¿™é‡Œæ¼”ç¤ºç”¨ CSS é€‰æ‹©å™¨å®šä½</span><br>    page.locator(<span class="hljs-string">&quot;#username&quot;</span>).fill(<span class="hljs-string">&quot;tomsmith&quot;</span>)<br>    page.locator(<span class="hljs-string">&quot;#password&quot;</span>).fill(<span class="hljs-string">&quot;SuperSecretPassword!&quot;</span>)<br><br>    <span class="hljs-comment"># 4. å…ƒç´ æ“ä½œï¼šç‚¹å‡»</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; ç‚¹å‡»ç™»å½•æŒ‰é’®...&quot;</span>)<br>    <span class="hljs-comment"># ä½¿ç”¨è¯­ä¹‰åŒ–å®šä½ï¼šæ‰¾ä¸€ä¸ª type=&quot;submit&quot; çš„æŒ‰é’® (æˆ–è€…ç”¨ class=&quot;radius&quot;)</span><br>    page.locator(<span class="hljs-string">&quot;button[type=&#x27;submit&#x27;]&quot;</span>).click()<br><br>    <span class="hljs-comment"># 5. è·å–ä¿¡æ¯ï¼šæ–­è¨€</span><br>    <span class="hljs-comment"># ç™»å½•æˆåŠŸåä¼šå‡ºç°ä¸€ä¸ª id=&quot;flash&quot; çš„æç¤ºæ¡</span><br>    flash_message = page.locator(<span class="hljs-string">&quot;#flash&quot;</span>).inner_text()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;&gt;&gt;&gt; è·å–åˆ°çš„æç¤ºä¿¡æ¯: \n<span class="hljs-subst">&#123;flash_message&#125;</span>&quot;</span>)<br><br>    <span class="hljs-comment"># ç®€å•æ–­è¨€</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-string">&quot;You logged into a secure area&quot;</span> <span class="hljs-keyword">in</span> flash_message:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;âœ… æµ‹è¯•é€šè¿‡ï¼šç™»å½•æˆåŠŸï¼&quot;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;âŒ æµ‹è¯•å¤±è´¥&quot;</span>)<br><br>    <span class="hljs-comment"># 6. é¢å¤–æ“ä½œï¼šåˆ·æ–°</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; åˆ·æ–°é¡µé¢...&quot;</span>)<br>    page.reload()<br><br>    <span class="hljs-comment"># æˆªå›¾ç•™å¿µ (Selenium æ˜¯ get_screenshot_as_file)</span><br>    page.screenshot(path=<span class="hljs-string">&quot;login_result.png&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; å·²æˆªå›¾ä¿å­˜ä¸º login_result.png&quot;</span>)<br><br>    time.sleep(<span class="hljs-number">2</span>)<br>    browser.close()<br></code></pre></td></tr></table></figure>

<hr>
<h1 id="çª—å£å’Œæ ‡ç­¾é¡µæ“ä½œ"><a href="#çª—å£å’Œæ ‡ç­¾é¡µæ“ä½œ" class="headerlink" title="çª—å£å’Œæ ‡ç­¾é¡µæ“ä½œ"></a>çª—å£å’Œæ ‡ç­¾é¡µæ“ä½œ</h1><p>è¿™éƒ¨åˆ†æ˜¯ Playwright å¯¹æ¯” Selenium <strong>æœ€çˆ½</strong>çš„æ”¹è¿›ä¹‹ä¸€ï¼ğŸ¤¯</p>
<p>åœ¨ä½ çš„ Selenium ç¬”è®°ä¸­ï¼Œå¤„ç†æ–°çª—å£ï¼ˆTabï¼‰éå¸¸ç—›è‹¦ï¼š</p>
<ol>
<li>å…ˆè·å– <code>window_handles</code>ï¼ˆä¸€å †çœ‹ä¸æ‡‚çš„å­—ç¬¦ä¸² IDï¼‰ã€‚</li>
<li>å¿…é¡»å†™ä¸ªå¾ªç¯åˆ¤æ–­å“ªä¸ªæ˜¯æ–°çª—å£ã€‚</li>
<li><strong>æ ¸å¿ƒç—›ç‚¹</strong>ï¼šDriver æ˜¯â€œå•çº¿ç¨‹â€çš„ï¼Œå¿…é¡» <code>switch_to</code> è¿‡å»æ‰èƒ½æ“ä½œæ–°çª—å£ï¼Œæ“ä½œå®Œè¿˜å¾— <code>switch_to</code> å›æ¥ã€‚ä¸€æ—¦å¿˜äº†åˆ‡å›æ¥ï¼Œä»£ç ç«‹é©¬æŠ¥é”™ã€‚</li>
</ol>
<h3 id="Playwright-çš„é€»è¾‘ï¼šå¤šçº¿æ“ä½œ"><a href="#Playwright-çš„é€»è¾‘ï¼šå¤šçº¿æ“ä½œ" class="headerlink" title="Playwright çš„é€»è¾‘ï¼šå¤šçº¿æ“ä½œ"></a>Playwright çš„é€»è¾‘ï¼šå¤šçº¿æ“ä½œ</h3><p>Playwright ä¸éœ€è¦åˆ‡æ¢å¥æŸ„ï¼ˆSwitchï¼‰ã€‚</p>
<p>å®ƒæŠŠæ¯ä¸€ä¸ªæ ‡ç­¾é¡µéƒ½çœ‹ä½œä¸€ä¸ªç‹¬ç«‹çš„å¯¹è±¡ (Page Object)ã€‚</p>
<ul>
<li>ä¸»çª—å£æ˜¯ <code>page1</code>ã€‚</li>
<li>æ–°çª—å£æ˜¯ <code>page2</code>ã€‚</li>
<li>æ‰‹é‡Œæ‹¿ç€ä¸¤ä¸ªé¥æ§å™¨ï¼Œ<strong>åŒæ—¶</strong>æ§åˆ¶ä¸¤ä¸ªçª—å£ï¼Œå®Œå…¨ä¸éœ€è¦åˆ‡æ¥åˆ‡å»ï¼</li>
</ul>
<hr>
<h3 id="1-æ•è·æ–°çª—å£"><a href="#1-æ•è·æ–°çª—å£" class="headerlink" title="1. æ•è·æ–°çª—å£"></a>1. æ•è·æ–°çª—å£</h3><p>åœ¨ Selenium é‡Œæ˜¯â€œç‚¹å‡» -&gt; ç„¶åæ‰¾çª—å£â€ã€‚</p>
<p>åœ¨ Playwright é‡Œæ˜¯â€œè®¾ç½®é™·é˜± (ç›‘å¬å™¨) -&gt; ç‚¹å‡» -&gt; æ•è·çª—å£â€ã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨ Python çš„ <code>with</code> è¯­æ³•æ¥æ•è·å¼¹å‡ºçš„æ–°é¡µï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># è®¾ç½®ç›‘å¬å™¨ï¼šå½“æœ‰æ–°é¡µé¢å¼¹å‡º(popup)æ—¶ï¼ŒæŠŠä¿¡æ¯å­˜åˆ° popup_info é‡Œ</span><br><span class="hljs-keyword">with</span> page.expect_popup() <span class="hljs-keyword">as</span> popup_info:<br>    page.get_by_text(<span class="hljs-string">&quot;æ‰“å¼€æ–°çª—å£&quot;</span>).click()<br><br><span class="hljs-comment"># æ‹¿åˆ°æ–°çª—å£å¯¹è±¡ï¼Œå‘½åä¸º page2</span><br>page2 = popup_info.value<br></code></pre></td></tr></table></figure>

<p>ç°åœ¨ï¼Œ<code>page</code> å˜é‡æ§åˆ¶è€çª—å£ï¼Œ<code>page2</code> å˜é‡æ§åˆ¶æ–°çª—å£ã€‚å°±è¿™ä¹ˆç®€å•ã€‚</p>
<hr>
<h3 id="ğŸ’»-å®æˆ˜æ¼”ç¤º"><a href="#ğŸ’»-å®æˆ˜æ¼”ç¤º" class="headerlink" title="ğŸ’» å®æˆ˜æ¼”ç¤º"></a>ğŸ’» å®æˆ˜æ¼”ç¤º</h3><p>æˆ‘ä»¬ç»§ç»­ä½¿ç”¨ä½ ç¬”è®°é‡Œçš„ <strong>The Internet</strong> é¶åœº è¿›è¡Œæ¼”ç¤ºã€‚</p>
<p>æ–°å»ºæ–‡ä»¶ <code>demo_window.py</code>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><span class="hljs-keyword">import</span> time<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    <span class="hljs-comment"># 1. å¯åŠ¨</span><br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    context = browser.new_context()<br>    <br>    <span class="hljs-comment"># page1 ä»£è¡¨ä¸»çª—å£ (è€å®¶)</span><br>    page1 = context.new_page()<br>    page1.goto(<span class="hljs-string">&quot;https://the-internet.herokuapp.com/windows&quot;</span>)<br>    <br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ä¸»çª—å£æ ‡é¢˜: <span class="hljs-subst">&#123;page1.title()&#125;</span>&quot;</span>)<br><br>    <span class="hljs-comment"># --- 2. æ ¸å¿ƒï¼šç‚¹å‡»é“¾æ¥å¹¶æ•è·æ–°çª—å£ ---</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; å‡†å¤‡ç‚¹å‡»é“¾æ¥...&quot;</span>)<br>    <br>    <span class="hljs-comment"># è¯­æ³•å«ä¹‰ï¼šåœ¨è¿™ä¸ªä»£ç å—æ‰§è¡ŒæœŸé—´ï¼Œå¦‚æœå¼¹å‡ºäº†æ–°çª—å£ï¼Œå°±æŠ“ç»™æˆ‘ï¼</span><br>    <span class="hljs-keyword">with</span> page1.expect_popup() <span class="hljs-keyword">as</span> popup_info:<br>        page1.get_by_text(<span class="hljs-string">&quot;Click Here&quot;</span>).click()<br>    <br>    <span class="hljs-comment"># è·å–æ–°çª—å£å¯¹è±¡ï¼Œè¿™æ‰æ˜¯æˆ‘ä»¬è¦æ“ä½œçš„æ–°é¡µé¢</span><br>    page2 = popup_info.value<br>    <br>    <span class="hljs-comment"># ç­‰å¾…æ–°é¡µé¢åŠ è½½å®Œæˆ (Playwright è‡ªåŠ¨å¤„ç†ï¼Œä½†æ˜¾å¼ç­‰ä¸€ä¸‹æ›´ç¨³)</span><br>    page2.wait_for_load_state()<br><br>    <span class="hljs-comment"># --- 3. åŒæ—¶æ“ä½œä¸¤ä¸ªçª—å£ (æ— éœ€ Switch!) ---</span><br>    <br>    <span class="hljs-comment"># æ“ä½œæ–°çª—å£</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;æ–°çª—å£æ ‡é¢˜: <span class="hljs-subst">&#123;page2.title()&#125;</span>&quot;</span>)<br>    heading_text = page2.locator(<span class="hljs-string">&quot;h3&quot;</span>).inner_text()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;æ–°çª—å£å†…å®¹: <span class="hljs-subst">&#123;heading_text&#125;</span>&quot;</span>)<br>    <br>    <span class="hljs-comment"># æ“ä½œè€çª—å£ (ç›´æ¥ç”¨ page1 å³å¯ï¼Œå®Œå…¨ä¸ç”¨åˆ‡å›å»)</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; å›å»æ“ä½œè€çª—å£ (æ²¡åˆ‡å¥æŸ„å“¦)...&quot;</span>)<br>    original_heading = page1.locator(<span class="hljs-string">&quot;h3&quot;</span>).inner_text()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;è€çª—å£å†…å®¹: <span class="hljs-subst">&#123;original_heading&#125;</span>&quot;</span>)<br><br>    <span class="hljs-comment"># --- 4. å…³é—­ ---</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; å…³é—­æ–°çª—å£&quot;</span>)<br>    page2.close()<br>    <br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; å…³é—­ä¸»çª—å£&quot;</span>)<br>    page1.close()<br>    <br>    browser.close()<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="2-Iframe"><a href="#2-Iframe" class="headerlink" title="2. Iframe"></a>2. Iframe</h3><p>ä½ ç¬”è®°é‡Œä¹Ÿæåˆ°äº† <strong>Iframe</strong> çš„ç—›ç‚¹ï¼šéœ€è¦ <code>switch_to.frame()</code> è¿›å»ï¼Œæ“ä½œå®Œå¿…é¡» <code>switch_to.default_content()</code> å‡ºæ¥ã€‚</p>
<p>Playwright åŒæ ·ä¸éœ€è¦åˆ‡è¿›åˆ‡å‡ºï¼å®ƒå¼•å…¥äº†ä¸€ä¸ª frame_locator çš„æ¦‚å¿µã€‚</p>
<p>ä½ å°±æŠŠå®ƒå½“æˆæ˜¯â€œè·¯å¾„â€çš„ä¸€éƒ¨åˆ†ï¼Œä¸€å±‚å±‚ç‚¹ä¸‹å»å°±è¡Œã€‚</p>
<p><strong>è¯­æ³•å¯¹æ¯”ï¼š</strong></p>
<ul>
<li><p><strong>Selenium (åˆ‡è¿›åˆ‡å‡º):</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">driver.switch_to.frame(<span class="hljs-string">&quot;frame_id&quot;</span>)<br>driver.find_element(By.ID, <span class="hljs-string">&quot;btn&quot;</span>).click()<br>driver.switch_to.default_content() <span class="hljs-comment"># å¿…é¡»è®°å¾—å‡ºæ¥ï¼</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>Playwright (ç›´æ¥é’»å–):</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ„æ€æ˜¯ï¼šæ‰¾åˆ° id ä¸º frame_id çš„æ¡†ï¼Œå†åœ¨é‡Œé¢æ‰¾ id ä¸º btn çš„æŒ‰é’®ï¼Œç‚¹å‡»ã€‚</span><br>page.frame_locator(<span class="hljs-string">&quot;#frame_id&quot;</span>).locator(<span class="hljs-string">&quot;#btn&quot;</span>).click()<br></code></pre></td></tr></table></figure>

<p><em>å®ƒåªæ˜¯å®šä½é“¾æ¡å˜é•¿äº†ï¼Œä¸éœ€è¦æ”¹å˜ä¸Šä¸‹æ–‡çŠ¶æ€ã€‚</em></p>
</li>
</ul>
<hr>
<h1 id="ç­‰å¾…æœºåˆ¶"><a href="#ç­‰å¾…æœºåˆ¶" class="headerlink" title="ç­‰å¾…æœºåˆ¶"></a>ç­‰å¾…æœºåˆ¶</h1><p>è¿™æ˜¯ Playwright å¯¹æ¯” Selenium <strong>é™ç»´æ‰“å‡»</strong>æœ€ç‹ çš„åœ°æ–¹ã€‚</p>
<hr>
<h3 id="1-å¼ºåˆ¶ç­‰å¾…-Forced-Wait"><a href="#1-å¼ºåˆ¶ç­‰å¾…-Forced-Wait" class="headerlink" title="1. å¼ºåˆ¶ç­‰å¾… (Forced Wait)"></a>1. å¼ºåˆ¶ç­‰å¾… (Forced Wait)</h3><ul>
<li><strong>Selenium</strong>: <code>time.sleep(3)</code> (å•ä½ï¼šç§’)</li>
<li><strong>Playwright</strong>: <code>page.wait_for_timeout(3000)</code> (å•ä½ï¼š<strong>æ¯«ç§’</strong>)<ul>
<li><strong>æ³¨æ„</strong>: å’Œ Selenium ä¸€æ ·ï¼Œå®˜æ–¹<strong>å¼ºçƒˆä¸æ¨è</strong>åœ¨ç”Ÿäº§ä»£ç é‡Œç”¨ã€‚å®ƒåªé€‚åˆåœ¨è°ƒè¯•æ—¶æƒ³è®©æµè§ˆå™¨åœä¸‹çœ‹ä¸€çœ¼ã€‚</li>
</ul>
</li>
</ul>
<hr>
<h3 id="2-éšå¼ç­‰å¾…-Implicit-Wait"><a href="#2-éšå¼ç­‰å¾…-Implicit-Wait" class="headerlink" title="2. éšå¼ç­‰å¾… (Implicit Wait)"></a>2. éšå¼ç­‰å¾… (Implicit Wait)</h3><ul>
<li><strong>Selenium</strong>: <code>driver.implicitly_wait(10)</code><ul>
<li>è®¾ç½®ä¸€ä¸ªå…¨å±€æŸ¥æ‰¾è¶…æ—¶æ—¶é—´ã€‚</li>
</ul>
</li>
<li><strong>Playwright</strong>: <strong>å…¨å±€è¶…æ—¶ (Global Timeout)</strong><ul>
<li>Playwright é»˜è®¤å°±æœ‰ <strong>30ç§’</strong> çš„è¶…æ—¶æ—¶é—´ã€‚</li>
<li>ä¸éœ€è¦åƒ Selenium é‚£æ ·æ‰‹åŠ¨å†™ä¸€è¡Œä»£ç å»å¼€å¯å®ƒã€‚</li>
<li>å¦‚æœæƒ³æ”¹ï¼Œå¯ä»¥ç”¨ <code>page.set_default_timeout(5000)</code>ã€‚</li>
</ul>
</li>
</ul>
<hr>
<h3 id="3-æ˜¾å¼ç­‰å¾…-Explicit-Wait-â€”â€”-æ ¸å¿ƒåŒºåˆ«ï¼"><a href="#3-æ˜¾å¼ç­‰å¾…-Explicit-Wait-â€”â€”-æ ¸å¿ƒåŒºåˆ«ï¼" class="headerlink" title="3. æ˜¾å¼ç­‰å¾… (Explicit Wait) â€”â€” æ ¸å¿ƒåŒºåˆ«ï¼"></a>3. æ˜¾å¼ç­‰å¾… (Explicit Wait) â€”â€” æ ¸å¿ƒåŒºåˆ«ï¼</h3><p>è¿™æ˜¯é‡ç‚¹ã€‚åœ¨ Selenium é‡Œï¼Œå¿…é¡»æ‰‹åŠ¨å†™ <code>WebDriverWait</code> + <code>EC.element_to_be_clickable</code>ã€‚</p>
<p><strong>åœ¨ Playwright ä¸­ï¼Œæ˜¾å¼ç­‰å¾…èå…¥åˆ°äº†æ¯ä¸€ä¸ªæ“ä½œé‡Œã€‚</strong></p>
<h4 id="A-åŠ¨ä½œè‡ªåŠ¨ç­‰å¾…-Auto-Wait-for-Actions"><a href="#A-åŠ¨ä½œè‡ªåŠ¨ç­‰å¾…-Auto-Wait-for-Actions" class="headerlink" title="A. åŠ¨ä½œè‡ªåŠ¨ç­‰å¾… (Auto-Wait for Actions)"></a>A. åŠ¨ä½œè‡ªåŠ¨ç­‰å¾… (Auto-Wait for Actions)</h4><p>å½“ä½ æ‰§è¡Œ <code>.click()</code>, <code>.fill()</code>, <code>.check()</code> ç­‰æ“ä½œæ—¶ï¼ŒPlaywright ä¼š<strong>è‡ªåŠ¨</strong>æ‰§è¡Œä¸€ç³»åˆ—æ£€æŸ¥ï¼ˆç›¸å½“äºå†…ç½®äº†æœ€ä¸¥æ ¼çš„æ˜¾å¼ç­‰å¾…ï¼‰ï¼š</p>
<ol>
<li><strong>Attached</strong>: å…ƒç´ æ˜¯å¦å·²ç»è¿æ¥åˆ° DOMï¼Ÿ</li>
<li><strong>Visible</strong>: å…ƒç´ æ˜¯å¦å¯è§ï¼ˆæ²¡æœ‰ <code>display: none</code>ï¼‰ï¼Ÿ</li>
<li><strong>Stable</strong>: å…ƒç´ æ˜¯å¦åœæ­¢äº†åŠ¨ç”»ï¼ˆä½ç½®ä¸å†é£˜ç§»ï¼‰ï¼Ÿ</li>
<li><strong>Receives Events</strong>: å…ƒç´ æ˜¯å¦è¢«å…¶ä»–å±‚ï¼ˆæ¯”å¦‚é®ç½©ï¼‰æŒ¡ä½äº†ï¼Ÿ</li>
<li><strong>Enabled</strong>: å…ƒç´ æ˜¯å¦å¯ç”¨ï¼ˆæ²¡æœ‰ <code>disabled</code> å±æ€§ï¼‰ï¼Ÿ</li>
</ol>
<p><strong>ç»“è®ºï¼š</strong> å†ä¹Ÿä¸ç”¨å†™ <code>wait_until_clickable</code> äº†ã€‚ç›´æ¥ <code>click()</code>ï¼Œå¦‚æœä¸æ»¡è¶³æ¡ä»¶ï¼Œå®ƒè‡ªå·±ä¼šç­‰ã€‚</p>
<h4 id="B-æ–­è¨€è‡ªåŠ¨ç­‰å¾…-Web-First-Assertions"><a href="#B-æ–­è¨€è‡ªåŠ¨ç­‰å¾…-Web-First-Assertions" class="headerlink" title="B. æ–­è¨€è‡ªåŠ¨ç­‰å¾… (Web-First Assertions)"></a>B. æ–­è¨€è‡ªåŠ¨ç­‰å¾… (Web-First Assertions)</h4><p>å¯¹åº” Selenium çš„ WebDriverWait(driver).until(EC.visibility_of(â€¦))ã€‚</p>
<p>Playwright ä½¿ç”¨ expect æ–­è¨€åº“æ¥å®ç°æ™ºèƒ½ç­‰å¾…ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># è¿™ä¸€è¡Œä»£ç ä¼šè‡ªåŠ¨é‡è¯•ï¼ˆé»˜è®¤ 5 ç§’ï¼‰ï¼Œç›´åˆ°æ–‡å­—å˜æˆ &quot;Success&quot;</span><br><span class="hljs-comment"># å¦‚æœ 5 ç§’åè¿˜ä¸æ˜¯è¿™ä¸ªå­—ï¼Œæ‰ä¼šæŠ¥é”™</span><br>expect(page.locator(<span class="hljs-string">&quot;#status&quot;</span>)).to_have_text(<span class="hljs-string">&quot;Success&quot;</span>)<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="âš”ï¸-å®æˆ˜ï¼šåŠ¨æ€åŠ è½½é¡µé¢-VS-Selenium"><a href="#âš”ï¸-å®æˆ˜ï¼šåŠ¨æ€åŠ è½½é¡µé¢-VS-Selenium" class="headerlink" title="âš”ï¸ å®æˆ˜ï¼šåŠ¨æ€åŠ è½½é¡µé¢ (VS Selenium)"></a>âš”ï¸ å®æˆ˜ï¼šåŠ¨æ€åŠ è½½é¡µé¢ (VS Selenium)</h3><p>The Internet - Dynamic Loadingã€‚</p>
<p>åœºæ™¯ï¼šç‚¹å‡» â€œStartâ€ æŒ‰é’®ï¼Œç­‰ 5 ç§’ loading æ¡æ¶ˆå¤±ï¼Œå‡ºç° â€œHello World!â€ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright, expect<br><span class="hljs-keyword">import</span> time<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    page = browser.new_page()<br>    <br>    <span class="hljs-comment"># 1. æ‰“å¼€åŠ¨æ€åŠ è½½é¡µé¢</span><br>    page.goto(<span class="hljs-string">&quot;https://the-internet.herokuapp.com/dynamic_loading/1&quot;</span>)<br>    <br>    <span class="hljs-comment"># 2. ç‚¹å‡» Start</span><br>    <span class="hljs-comment"># Playwright ä¼šè‡ªåŠ¨ç­‰å¾…æŒ‰é’®å‡†å¤‡å¥½å†ç‚¹</span><br>    page.get_by_role(<span class="hljs-string">&quot;button&quot;</span>, name=<span class="hljs-string">&quot;Start&quot;</span>).click()<br>    <br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; å·²ç‚¹å‡» Startï¼Œæ­£åœ¨ç­‰å¾… Hello World å‡ºç°...&quot;</span>)<br>    <br>    <span class="hljs-comment"># --- æ ¸å¿ƒå¯¹æ¯” ---</span><br>    <br>    <span class="hljs-comment"># Selenium éœ€è¦å†™: </span><br>    <span class="hljs-comment"># WebDriverWait(driver, 10).until(EC.visibility_of_element_located(...))</span><br>    <br>    <span class="hljs-comment"># Playwright åªéœ€è¦å†™æ–­è¨€:</span><br>    <span class="hljs-comment"># expect ä¼šè‡ªåŠ¨ç­‰å¾…(é»˜è®¤5ç§’)ç›´åˆ°å…ƒç´ å¯è§ã€‚</span><br>    <span class="hljs-comment"># æ³¨æ„ï¼šè¿™ä¸ªç½‘é¡µåŠ è½½ç‰¹åˆ«æ…¢(è¶…5ç§’)ï¼Œæˆ‘ä»¬å¯ä»¥å•ç‹¬ç»™è¿™ä¸€æ­¥åŠ é•¿è¶…æ—¶æ—¶é—´</span><br>    target_text = page.get_by_text(<span class="hljs-string">&quot;Hello World!&quot;</span>)<br>    expect(target_text).to_be_visible(timeout=<span class="hljs-number">10000</span>)<br>    <br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;âœ… æˆåŠŸï¼æ–‡å­—å‡ºç°äº†ã€‚&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;è·å–åˆ°çš„æ–‡å­—: <span class="hljs-subst">&#123;target_text.inner_text()&#125;</span>&quot;</span>)<br>    <br>    browser.close()<br></code></pre></td></tr></table></figure>

<h3 id="ğŸ§ -å¦‚æœéè¦ç­‰å‘¢ï¼Ÿ"><a href="#ğŸ§ -å¦‚æœéè¦ç­‰å‘¢ï¼Ÿ" class="headerlink" title="ğŸ§  å¦‚æœéè¦ç­‰å‘¢ï¼Ÿ"></a>ğŸ§  å¦‚æœéè¦ç­‰å‘¢ï¼Ÿ</h3><p>è™½ç„¶ <code>expect</code> å’Œ <code>auto-wait</code> è¦†ç›–äº† 99% çš„åœºæ™¯ï¼Œä½†æœ‰æ—¶å€™ä½ å°±æ˜¯æƒ³å•çº¯åœ°â€œç­‰æŸä¸ªå…ƒç´ å‡ºç°ï¼Œä½†ä¸æ“ä½œå®ƒï¼Œä¹Ÿä¸æ–­è¨€å®ƒâ€ã€‚</p>
<p>Playwright æä¾›äº†ç±»ä¼¼ Selenium <code>EC</code> çš„æ‰‹åŠ¨ç­‰å¾…æ–¹æ³•ï¼š</p>
<table>
<thead>
<tr>
<th><strong>Selenium</strong></th>
<th><strong>Playwright</strong></th>
</tr>
</thead>
<tbody><tr>
<td><code>wait.until(EC.visibility_of(...))</code></td>
<td><code>locator.wait_for(state=&quot;visible&quot;)</code></td>
</tr>
<tr>
<td><code>wait.until(EC.invisibility_of(...))</code></td>
<td><code>locator.wait_for(state=&quot;hidden&quot;)</code></td>
</tr>
<tr>
<td><code>wait.until(EC.presence_of(...))</code></td>
<td><code>locator.wait_for(state=&quot;attached&quot;)</code></td>
</tr>
</tbody></table>
<p><strong>ä¾‹å­</strong>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ç­‰å¾… loading æ¡æ¶ˆå¤± (detached / hidden)</span><br>page.locator(<span class="hljs-string">&quot;#loading&quot;</span>).wait_for(state=<span class="hljs-string">&quot;hidden&quot;</span>)<br></code></pre></td></tr></table></figure>

<hr>
<h1 id="ä¸‹æ‹‰æ¡†"><a href="#ä¸‹æ‹‰æ¡†" class="headerlink" title="ä¸‹æ‹‰æ¡†"></a>ä¸‹æ‹‰æ¡†</h1><p>ä¸‹æ‹‰æ¡†è¢«åˆ†ä¸ºäº†â€œæ ‡å‡†â€å’Œâ€œéæ ‡å‡†â€ä¸¤ç±»ã€‚Playwright å¯¹è¿™ä¸¤ç±»çš„å¤„ç†æ–¹å¼å’Œ Selenium é€»è¾‘ä¸€è‡´ï¼Œä½†åœ¨ API ä¸Šåšåˆ°äº†<strong>æç®€</strong>ã€‚</p>
<hr>
<h3 id="ç¬¬ä¸€ç±»ï¼šæ ‡å‡†ä¸‹æ‹‰æ¡†-æ ‡ç­¾"><a href="#ç¬¬ä¸€ç±»ï¼šæ ‡å‡†ä¸‹æ‹‰æ¡†-æ ‡ç­¾" class="headerlink" title="ç¬¬ä¸€ç±»ï¼šæ ‡å‡†ä¸‹æ‹‰æ¡† (&lt;select&gt; æ ‡ç­¾)"></a>ç¬¬ä¸€ç±»ï¼šæ ‡å‡†ä¸‹æ‹‰æ¡† (<code>&lt;select&gt;</code> æ ‡ç­¾)</h3><p>åœ¨ Selenium ä¸­ï¼Œå¿…é¡»å¼•å…¥ <code>Select</code> ç±»ï¼Œå®ä¾‹åŒ–å®ƒï¼Œç„¶åè°ƒç”¨ <code>select_by_visible_text</code> ç­‰æ–¹æ³•ã€‚</p>
<p>Playwright ä¸éœ€è¦å¼•å…¥é¢å¤–çš„ç±»ã€‚å®ƒç›´æ¥åœ¨ locator ä¸Šæä¾›äº†ä¸€ä¸ª select_option() æ–¹æ³•ï¼ŒæŠŠ Selenium çš„ä¸‰ç§é€‰æ‹©æ–¹å¼åˆä¸‰ä¸ºä¸€äº†ã€‚</p>
<h4 id="æ ¸å¿ƒè¯­æ³•"><a href="#æ ¸å¿ƒè¯­æ³•" class="headerlink" title="æ ¸å¿ƒè¯­æ³•"></a>æ ¸å¿ƒè¯­æ³•</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 1. é€šè¿‡ value å±æ€§é€‰ (å¯¹åº” select_by_value)</span><br>page.locator(<span class="hljs-string">&quot;#dropdown&quot;</span>).select_option(value=<span class="hljs-string">&quot;1&quot;</span>)<br><br><span class="hljs-comment"># 2. é€šè¿‡å¯è§æ–‡æœ¬é€‰ (å¯¹åº” select_by_visible_text) â€”â€” æœ€å¸¸ç”¨</span><br>page.locator(<span class="hljs-string">&quot;#dropdown&quot;</span>).select_option(label=<span class="hljs-string">&quot;Option 1&quot;</span>)<br><br><span class="hljs-comment"># 3. é€šè¿‡ç´¢å¼•é€‰ (å¯¹åº” select_by_index)</span><br>page.locator(<span class="hljs-string">&quot;#dropdown&quot;</span>).select_option(index=<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure>

<h4 id="ğŸ’»-å®æˆ˜æ¼”ç¤º-1"><a href="#ğŸ’»-å®æˆ˜æ¼”ç¤º-1" class="headerlink" title="ğŸ’» å®æˆ˜æ¼”ç¤º"></a>ğŸ’» å®æˆ˜æ¼”ç¤º</h4><p><code>the-internet.herokuapp.com/dropdown</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><span class="hljs-keyword">import</span> time<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">&quot;https://the-internet.herokuapp.com/dropdown&quot;</span>)<br><br>    <span class="hljs-comment"># å®šä½åˆ° select å…ƒç´ </span><br>    dropdown = page.locator(<span class="hljs-string">&quot;#dropdown&quot;</span>)<br><br>    <span class="hljs-comment"># --- æ–¹å¼ 1: é€šè¿‡ Label (æ–‡æœ¬) é€‰æ‹© ---</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; æ­£åœ¨é€‰æ‹© Option 1 (by Label)...&quot;</span>)<br>    <span class="hljs-comment"># è¿™ç›¸å½“äº Selenium çš„ select_by_visible_text(&quot;Option 1&quot;)</span><br>    dropdown.select_option(label=<span class="hljs-string">&quot;Option 1&quot;</span>)<br>    time.sleep(<span class="hljs-number">1</span>)<br><br>    <span class="hljs-comment"># --- æ–¹å¼ 2: é€šè¿‡ Value å±æ€§é€‰æ‹© ---</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; æ­£åœ¨é€‰æ‹© Option 2 (by Value)...&quot;</span>)<br>    <span class="hljs-comment"># HTML: &lt;option value=&quot;2&quot;&gt;Option 2&lt;/option&gt;</span><br>    dropdown.select_option(value=<span class="hljs-string">&quot;2&quot;</span>)<br>    time.sleep(<span class="hljs-number">1</span>)<br>    <br>    <span class="hljs-comment"># --- éªŒè¯ç»“æœ ---</span><br>    <span class="hljs-comment"># æ€ä¹ˆè·å–å½“å‰é€‰ä¸­çš„å€¼ï¼Ÿ</span><br>    <span class="hljs-comment"># åœ¨ Playwright ä¸­ï¼Œç›´æ¥çœ‹ value å±æ€§å³å¯</span><br>    current_value = dropdown.input_value()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å½“å‰é€‰ä¸­çš„ value æ˜¯: <span class="hljs-subst">&#123;current_value&#125;</span>&quot;</span>)<br>    <br>    browser.close()<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="ç¬¬äºŒç±»ï¼šéæ ‡å‡†ä¸‹æ‹‰æ¡†-Div-Ul-æ¨¡æ‹Ÿ"><a href="#ç¬¬äºŒç±»ï¼šéæ ‡å‡†ä¸‹æ‹‰æ¡†-Div-Ul-æ¨¡æ‹Ÿ" class="headerlink" title="ç¬¬äºŒç±»ï¼šéæ ‡å‡†ä¸‹æ‹‰æ¡† (Div&#x2F;Ul æ¨¡æ‹Ÿ)"></a>ç¬¬äºŒç±»ï¼šéæ ‡å‡†ä¸‹æ‹‰æ¡† (Div&#x2F;Ul æ¨¡æ‹Ÿ)</h3><p>è¿™æ˜¯ç°åœ¨å‰ç«¯æ¡†æ¶ï¼ˆReact, Vueï¼‰æœ€å–œæ¬¢çš„å†™æ³•ã€‚å®ƒä»¬çœ‹èµ·æ¥åƒä¸‹æ‹‰æ¡†ï¼Œä½† HTML é‡Œæ ¹æœ¬æ²¡æœ‰ <code>&lt;select&gt;</code> æ ‡ç­¾ï¼Œå…¨æ˜¯ä¸€å † <code>&lt;div&gt;</code> å’Œ <code>&lt;li&gt;</code>ã€‚</p>
<p>Playwright çš„å¤„ç†é€»è¾‘ï¼šæŠŠå®ƒå½“æˆæ™®é€šçš„ç‚¹å‡»æ“ä½œã€‚</p>
<p>å‡è®¾æœ‰ä¸€ä¸ªç”¨ Div åšçš„ä¸‹æ‹‰æ¡†ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 1. ç‚¹å‡»ä¸‹æ‹‰æ¡†ï¼Œè®©å®ƒå±•å¼€</span><br>page.locator(<span class="hljs-string">&quot;#custom-dropdown-trigger&quot;</span>).click()<br><br><span class="hljs-comment"># 2. ç‚¹å‡»é‡Œé¢çš„é€‰é¡¹</span><br><span class="hljs-comment"># Playwright ä¼šè‡ªåŠ¨ç­‰å¾… &quot;é«˜çº§æ•™ç¨‹&quot; è¿™ä¸ªé€‰é¡¹å‡ºç°åœ¨å±å¹•ä¸Šå†ç‚¹å‡»</span><br>page.get_by_text(<span class="hljs-string">&quot;é«˜çº§æ•™ç¨‹&quot;</span>).click()<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="ğŸ’¡-æ¨¡ç³ŠåŒ¹é…é€‰é¡¹"><a href="#ğŸ’¡-æ¨¡ç³ŠåŒ¹é…é€‰é¡¹" class="headerlink" title="ğŸ’¡ æ¨¡ç³ŠåŒ¹é…é€‰é¡¹"></a>ğŸ’¡ æ¨¡ç³ŠåŒ¹é…é€‰é¡¹</h3><p>æœ‰æ—¶å€™ä¸‹æ‹‰æ¡†é‡Œçš„å­—å¾ˆé•¿ï¼Œæˆ–è€…æœ‰ç©ºæ ¼ï¼Œæ¯”å¦‚ â€œ Option 1 â€œã€‚</p>
<p>åœ¨ Selenium é‡Œå¦‚æœä½ ç”¨ select_by_visible_textï¼Œå·®ä¸€ä¸ªç©ºæ ¼éƒ½ä¼šæŠ¥é”™ã€‚</p>
<p>åœ¨ Playwright ä¸­ï¼Œå¯ä»¥ç»“åˆ <code>match</code> å‚æ•°ï¼ˆæ”¯æŒæ­£åˆ™ï¼‰æˆ– <code>contains</code> é€»è¾‘æ¥é€‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åªè¦åŒ…å« &quot;Option 1&quot; å°±èƒ½é€‰ä¸­ï¼Œä¸ç”¨ç®¡æœ‰æ²¡æœ‰ç©ºæ ¼</span><br>page.locator(<span class="hljs-string">&quot;#dropdown&quot;</span>).select_option(label=<span class="hljs-string">&quot;Option 1&quot;</span>) <br></code></pre></td></tr></table></figure>

<hr>
<h1 id="å¼¹çª—"><a href="#å¼¹çª—" class="headerlink" title="å¼¹çª—"></a>å¼¹çª—</h1><h3 id="æ ¸å¿ƒåŒºåˆ«ï¼šç›‘å¬å™¨-Event-Listener"><a href="#æ ¸å¿ƒåŒºåˆ«ï¼šç›‘å¬å™¨-Event-Listener" class="headerlink" title="æ ¸å¿ƒåŒºåˆ«ï¼šç›‘å¬å™¨ (Event Listener)"></a>æ ¸å¿ƒåŒºåˆ«ï¼šç›‘å¬å™¨ (Event Listener)</h3><ul>
<li><strong>Selenium</strong>: â€œå‡ºäº†äº‹å†å¤„ç†â€ã€‚ï¼ˆå¿…é¡»ç­‰å¼¹çª—å‡ºæ¥ï¼Œè„šæœ¬æ‰èƒ½å»åˆ‡æ¢ã€æ“ä½œï¼‰ã€‚</li>
<li><strong>Playwright</strong>: â€œå…ˆç«‹å¥½è§„çŸ©â€ã€‚ï¼ˆåœ¨ç‚¹å‡»æŒ‰é’®<strong>ä¹‹å‰</strong>ï¼Œå…ˆå‘Šè¯‰æµè§ˆå™¨ï¼šâ€œå¾…ä¼šå„¿å¦‚æœæœ‰å¼¹çª—å‡ºæ¥ï¼Œä½ å°±å¸®æˆ‘ç‚¹ç¡®å®šâ€ï¼‰ã€‚</li>
</ul>
<blockquote>
<p><strong>âš ï¸ é»˜è®¤è¡Œä¸ºï¼š</strong> å¦‚æœä½ ä¸å†™ä»»ä½•ç›‘å¬ä»£ç ï¼ŒPlaywright ä¼š<strong>è‡ªåŠ¨å…³é—­ (Dismiss)</strong> æ‰€æœ‰å¼¹å‡ºçš„ Dialogï¼Œé˜²æ­¢è„šæœ¬å¡æ­»ã€‚è¿™è™½ç„¶å®‰å…¨ï¼Œä½†å¦‚æœä½ æƒ³æµ‹è¯•â€œç‚¹å‡»ç¡®å®šåçš„æ•ˆæœâ€ï¼Œå°±å¿…é¡»æ‰‹åŠ¨è®¾ç½®ç›‘å¬å™¨ã€‚</p>
</blockquote>
<hr>
<h3 id="1-æ€ä¹ˆå†™ç›‘å¬å™¨ï¼Ÿ"><a href="#1-æ€ä¹ˆå†™ç›‘å¬å™¨ï¼Ÿ" class="headerlink" title="1. æ€ä¹ˆå†™ç›‘å¬å™¨ï¼Ÿ"></a>1. æ€ä¹ˆå†™ç›‘å¬å™¨ï¼Ÿ</h3><p>éœ€è¦ä½¿ç”¨ <strong><code>page.on(&quot;dialog&quot;, å¤„ç†å‡½æ•°)</code></strong>ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å®šä¹‰ä¸€ä¸ªå¤„ç†å‡½æ•°</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_dialog</span>(<span class="hljs-params">dialog</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å¼¹çª—å†…å®¹: <span class="hljs-subst">&#123;dialog.message&#125;</span>&quot;</span>)<br>    dialog.accept() <span class="hljs-comment"># ç‚¹å‡»ç¡®å®š</span><br><br><span class="hljs-comment"># 1. å…ˆæ³¨å†Œç›‘å¬å™¨ (åŸ‹ä¼å¥½)</span><br>page.on(<span class="hljs-string">&quot;dialog&quot;</span>, handle_dialog)<br><br><span class="hljs-comment"># 2. å†è§¦å‘å¼¹çª— (è¸©é›·)</span><br>page.get_by_text(<span class="hljs-string">&quot;ç‚¹å‡»å¼¹å‡ºAlert&quot;</span>).click()<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="2-å®æˆ˜æ¼”ç»ƒï¼šAlert-Confirm-Prompt"><a href="#2-å®æˆ˜æ¼”ç»ƒï¼šAlert-Confirm-Prompt" class="headerlink" title="2. å®æˆ˜æ¼”ç»ƒï¼šAlert &#x2F; Confirm &#x2F; Prompt"></a>2. å®æˆ˜æ¼”ç»ƒï¼šAlert &#x2F; Confirm &#x2F; Prompt</h3><p>the-internet.herokuapp.com&#x2F;javascript_alertsã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><span class="hljs-keyword">import</span> time<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>():<br>    <span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>        browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>        page = browser.new_page()<br>        page.goto(<span class="hljs-string">&quot;https://the-internet.herokuapp.com/javascript_alerts&quot;</span>)<br><br>        <span class="hljs-comment"># --- åœºæ™¯ 1: Alert (åªæœ‰ç¡®å®š) ---</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n&gt;&gt;&gt; 1. æµ‹è¯• JS Alert&quot;</span>)<br>        <br>        <span class="hljs-comment"># æ­¥éª¤ A: è®¾ç½®ç›‘å¬å™¨</span><br>        <span class="hljs-comment"># è¿™é‡Œçš„ lambda d: d.accept() æ„æ€æ˜¯ï¼šåªè¦æœ‰å¼¹çª—ï¼Œå°±ç‚¹ç¡®å®š</span><br>        page.once(<span class="hljs-string">&quot;dialog&quot;</span>, <span class="hljs-keyword">lambda</span> d: d.accept()) <br>        <br>        <span class="hljs-comment"># æ­¥éª¤ B: ç‚¹å‡»æŒ‰é’®è§¦å‘</span><br>        page.get_by_text(<span class="hljs-string">&quot;Click for JS Alert&quot;</span>).click()<br>        <br>        <span class="hljs-comment"># éªŒè¯ç»“æœ</span><br>        result = page.locator(<span class="hljs-string">&quot;#result&quot;</span>).inner_text()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ç»“æœ: <span class="hljs-subst">&#123;result&#125;</span>&quot;</span>) <span class="hljs-comment"># åº”è¯¥æ˜¯ You successfully clicked an alert</span><br><br>        <span class="hljs-comment"># --- åœºæ™¯ 2: Confirm (ç¡®å®š/å–æ¶ˆ) ---</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n&gt;&gt;&gt; 2. æµ‹è¯• JS Confirm (ç‚¹å‡»å–æ¶ˆ)&quot;</span>)<br>        <br>        <span class="hljs-comment"># æ­¥éª¤ A: è®¾ç½®ç›‘å¬å™¨</span><br>        <span class="hljs-comment"># è¿™æ¬¡æˆ‘ä»¬å®šä¹‰ç¨å¾®å¤æ‚ç‚¹çš„é€»è¾‘ï¼šæ‰“å°å†…å®¹å¹¶ç‚¹å‡»å–æ¶ˆ</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_confirm</span>(<span class="hljs-params">dialog</span>):<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;æ•è·åˆ°å¼¹çª—: <span class="hljs-subst">&#123;dialog.message&#125;</span>&quot;</span>)<br>            dialog.dismiss() <span class="hljs-comment"># ç‚¹å‡»å–æ¶ˆ (Selenium çš„ dismiss)</span><br><br>        page.once(<span class="hljs-string">&quot;dialog&quot;</span>, handle_confirm)<br>        <br>        <span class="hljs-comment"># æ­¥éª¤ B: è§¦å‘</span><br>        page.get_by_text(<span class="hljs-string">&quot;Click for JS Confirm&quot;</span>).click()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ç»“æœ: <span class="hljs-subst">&#123;page.locator(<span class="hljs-string">&#x27;#result&#x27;</span>).inner_text()&#125;</span>&quot;</span>)<br><br>        <span class="hljs-comment"># --- åœºæ™¯ 3: Prompt (è¾“å…¥ + ç¡®å®š) ---</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n&gt;&gt;&gt; 3. æµ‹è¯• JS Prompt (è¾“å…¥å†…å®¹)&quot;</span>)<br>        <br>        <span class="hljs-comment"># æ­¥éª¤ A: è®¾ç½®ç›‘å¬å™¨</span><br>        <span class="hljs-comment"># åœ¨ Playwright ä¸­ï¼Œaccept() å¯ä»¥ç›´æ¥ä¼ å‚æ•°ç”¨æ¥è¾“å…¥ï¼</span><br>        <span class="hljs-comment"># Selenium éœ€è¦å…ˆ send_keys å† acceptï¼ŒPlaywright åˆäºŒä¸ºä¸€äº†</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_prompt</span>(<span class="hljs-params">dialog</span>):<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;æ•è·åˆ° Prompt: <span class="hljs-subst">&#123;dialog.message&#125;</span>&quot;</span>)<br>            dialog.accept(<span class="hljs-string">&quot;Playwright ç»ƒä¹ ç”Ÿ&quot;</span>) <span class="hljs-comment"># è¾“å…¥å¹¶ç¡®å®š</span><br><br>        page.once(<span class="hljs-string">&quot;dialog&quot;</span>, handle_prompt)<br>        <br>        <span class="hljs-comment"># æ­¥éª¤ B: è§¦å‘</span><br>        page.get_by_text(<span class="hljs-string">&quot;Click for JS Prompt&quot;</span>).click()<br>        <br>        <span class="hljs-comment"># éªŒè¯</span><br>        final_result = page.locator(<span class="hljs-string">&quot;#result&quot;</span>).inner_text()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;æœ€ç»ˆç»“æœ: <span class="hljs-subst">&#123;final_result&#125;</span>&quot;</span>)<br>        <br>        time.sleep(<span class="hljs-number">2</span>)<br>        browser.close()<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    run()<br></code></pre></td></tr></table></figure>

<h3 id="3-ä»£ç è§£æ"><a href="#3-ä»£ç è§£æ" class="headerlink" title="3. ä»£ç è§£æ"></a>3. ä»£ç è§£æ</h3><table>
<thead>
<tr>
<th><strong>æ“ä½œ</strong></th>
<th><strong>Selenium</strong></th>
<th><strong>Playwright</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>åˆ‡æ¢</strong></td>
<td><code>driver.switch_to.alert</code></td>
<td><code>page.on(&quot;dialog&quot;, handler)</code></td>
</tr>
<tr>
<td><strong>ç‚¹ç¡®å®š</strong></td>
<td><code>alert.accept()</code></td>
<td><code>dialog.accept()</code></td>
</tr>
<tr>
<td><strong>ç‚¹å–æ¶ˆ</strong></td>
<td><code>alert.dismiss()</code></td>
<td><code>dialog.dismiss()</code></td>
</tr>
<tr>
<td><strong>è¾“å…¥</strong></td>
<td><code>alert.send_keys(&quot;abc&quot;)</code></td>
<td><code>dialog.accept(&quot;abc&quot;)</code> <strong>(æ³¨æ„åŒºåˆ«)</strong></td>
</tr>
<tr>
<td><strong>è·å–æ–‡å­—</strong></td>
<td><code>alert.text</code></td>
<td><code>dialog.message</code></td>
</tr>
</tbody></table>
<blockquote>
<ul>
<li><code>page.on</code>: <strong>æ°¸ä¹…</strong>ç›‘å¬ã€‚åªè¦æœ‰å¼¹çª—ï¼Œä¸€ç›´ç”¨è¿™ä¸ªé€»è¾‘å¤„ç†ã€‚</li>
<li><code>page.once</code>: <strong>ä¸€æ¬¡æ€§</strong>ç›‘å¬ã€‚å¤„ç†å®Œè¿™ä¸€ä¸ªå¼¹çª—åï¼Œç›‘å¬å™¨å°±å¤±æ•ˆäº†ã€‚</li>
<li>åœ¨æµ‹è¯•ä¸­ï¼Œé€šå¸¸ç”¨ <code>once</code>ï¼Œå› ä¸ºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹å¯¹å¼¹çª—çš„å¤„ç†è¦æ±‚å¯èƒ½ä¸ä¸€æ ·ï¼ˆæœ‰çš„è¦ç‚¹ç¡®å®šï¼Œæœ‰çš„è¦ç‚¹å–æ¶ˆï¼‰ã€‚</li>
</ul>
</blockquote>
<hr>
<h1 id="é¼ æ ‡é”®ç›˜æ“ä½œ"><a href="#é¼ æ ‡é”®ç›˜æ“ä½œ" class="headerlink" title="é¼ æ ‡é”®ç›˜æ“ä½œ"></a>é¼ æ ‡é”®ç›˜æ“ä½œ</h1><h3 id="1-é¼ æ ‡æ“ä½œ-Mouse"><a href="#1-é¼ æ ‡æ“ä½œ-Mouse" class="headerlink" title="1. é¼ æ ‡æ“ä½œ (Mouse)"></a>1. é¼ æ ‡æ“ä½œ (Mouse)</h3><p>ä¸éœ€è¦åˆå§‹åŒ– <code>ActionChains</code>ï¼Œç›´æ¥è°ƒç”¨æ–¹æ³•å³å¯ã€‚</p>
<table>
<thead>
<tr>
<th><strong>æ“ä½œ</strong></th>
<th><strong>Selenium (ActionChains)</strong></th>
<th><strong>Playwright</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>æ‚¬åœ (Hover)</strong></td>
<td><code>.move_to_element(ele).perform()</code></td>
<td><strong><code>locator.hover()</code></strong></td>
</tr>
<tr>
<td><strong>åŒå‡»</strong></td>
<td><code>.double_click(ele).perform()</code></td>
<td><strong><code>locator.dblclick()</code></strong></td>
</tr>
<tr>
<td><strong>å³é”®</strong></td>
<td><code>.context_click(ele).perform()</code></td>
<td><strong><code>locator.click(button=&quot;right&quot;)</code></strong></td>
</tr>
<tr>
<td><strong>æ‹–æ‹½</strong></td>
<td><code>.drag_and_drop(src, dst).perform()</code></td>
<td><strong><code>page.drag_and_drop(src, dst)</code></strong></td>
</tr>
</tbody></table>
<h4 id="ğŸ’»-å®æˆ˜-Aï¼šé¼ æ ‡æ‚¬åœ-Baidu-Settings"><a href="#ğŸ’»-å®æˆ˜-Aï¼šé¼ æ ‡æ‚¬åœ-Baidu-Settings" class="headerlink" title="ğŸ’» å®æˆ˜ Aï¼šé¼ æ ‡æ‚¬åœ (Baidu Settings)"></a>ğŸ’» å®æˆ˜ Aï¼šé¼ æ ‡æ‚¬åœ (Baidu Settings)</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><span class="hljs-keyword">import</span> time<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com&quot;</span>)<br><br>    <span class="hljs-comment"># 1. å®šä½â€œè®¾ç½®â€</span><br>    settings_btn = page.locator(<span class="hljs-string">&quot;#s-usersetting-top&quot;</span>)<br><br>    <span class="hljs-comment"># 2. é¼ æ ‡æ‚¬åœ (Selenium éœ€è¦ ActionChainsï¼Œè¿™é‡Œç›´æ¥ hover)</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; æ­£åœ¨æ‚¬åœé¼ æ ‡...&quot;</span>)<br>    settings_btn.hover()<br>    <br>    <span class="hljs-comment"># 3. æ‚¬åœåï¼Œèœå•æµ®ç°ï¼Œç‚¹å‡»â€œé«˜çº§æœç´¢â€</span><br>    <span class="hljs-comment"># æ³¨æ„ï¼šPlaywright ä¼šè‡ªåŠ¨ç­‰å¾…èœå•å˜æˆå¯è§çŠ¶æ€å†ç‚¹å‡»</span><br>    page.get_by_text(<span class="hljs-string">&quot;é«˜çº§æœç´¢&quot;</span>).click()<br>    <br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;âœ… å·²ç‚¹å‡»é«˜çº§æœç´¢&quot;</span>)<br>    time.sleep(<span class="hljs-number">2</span>)<br>    browser.close()<br></code></pre></td></tr></table></figure>

<h4 id="ğŸ’»-å®æˆ˜-Bï¼šæ‹–æ‹½-Drag-and-Drop"><a href="#ğŸ’»-å®æˆ˜-Bï¼šæ‹–æ‹½-Drag-and-Drop" class="headerlink" title="ğŸ’» å®æˆ˜ Bï¼šæ‹–æ‹½ (Drag and Drop)"></a>ğŸ’» å®æˆ˜ Bï¼šæ‹–æ‹½ (Drag and Drop)</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># page.drag_and_drop(æºå…ƒç´ é€‰æ‹©å™¨, ç›®æ ‡å…ƒç´ é€‰æ‹©å™¨)</span><br>page.drag_and_drop(<span class="hljs-string">&quot;#column-a&quot;</span>, <span class="hljs-string">&quot;#column-b&quot;</span>)<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="2-é”®ç›˜æ“ä½œ-Keyboard"><a href="#2-é”®ç›˜æ“ä½œ-Keyboard" class="headerlink" title="2. é”®ç›˜æ“ä½œ (Keyboard)"></a>2. é”®ç›˜æ“ä½œ (Keyboard)</h3><p>åœ¨ Selenium ä¸­ï¼Œä½ éœ€è¦ Keys ç±» (Keys.ENTER, Keys.CONTROL)ã€‚Playwright ç”¨å­—ç¬¦ä¸²æ¥è¡¨ç¤ºæŒ‰é”®ï¼Œæ›´åŠ ç›´è§‚ã€‚</p>
<h4 id="æ ¸å¿ƒæ–¹æ³•ï¼špress-æŒ‰é”®å"><a href="#æ ¸å¿ƒæ–¹æ³•ï¼špress-æŒ‰é”®å" class="headerlink" title="æ ¸å¿ƒæ–¹æ³•ï¼špress(&quot;æŒ‰é”®å&quot;)"></a>æ ¸å¿ƒæ–¹æ³•ï¼š<code>press(&quot;æŒ‰é”®å&quot;)</code></h4><ul>
<li><strong>å•é”®</strong>ï¼š<code>press(&quot;Enter&quot;)</code>, <code>press(&quot;ArrowDown&quot;)</code>, <code>press(&quot;Backspace&quot;)</code></li>
<li><strong>ç»„åˆé”®</strong>ï¼šç”¨ <code>+</code> è¿æ¥ã€‚<ul>
<li><code>press(&quot;Control+A&quot;)</code> (å…¨é€‰)</li>
<li><code>press(&quot;Control+C&quot;)</code> (å¤åˆ¶)</li>
<li><code>press(&quot;Shift+ArrowLeft&quot;)</code> (é€‰ä¸­å·¦è¾¹æ–‡å­—)</li>
</ul>
</li>
</ul>
<h4 id="ğŸ’»-å®æˆ˜-Cï¼šé”®ç›˜ç»„åˆé”®-Baidu-Search"><a href="#ğŸ’»-å®æˆ˜-Cï¼šé”®ç›˜ç»„åˆé”®-Baidu-Search" class="headerlink" title="ğŸ’» å®æˆ˜ Cï¼šé”®ç›˜ç»„åˆé”® (Baidu Search)"></a>ğŸ’» å®æˆ˜ Cï¼šé”®ç›˜ç»„åˆé”® (Baidu Search)</h4><p><strong>ç™¾åº¦æœç´¢ç»„åˆé”®</strong> æ¡ˆä¾‹ï¼šè¾“å…¥ -&gt; å…¨é€‰ -&gt; å‰ªåˆ‡ -&gt; ç²˜è´´ -&gt; å›è½¦ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright<br><span class="hljs-keyword">import</span> time<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">500</span>) <span class="hljs-comment"># æ…¢æ”¾åŠ¨ä½œ</span><br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">&quot;https://www.baidu.com&quot;</span>)<br><br>    search_input = page.locator(<span class="hljs-string">&quot;#kw&quot;</span>)<br><br>    <span class="hljs-comment"># 1. è¾“å…¥å†…å®¹</span><br>    search_input.fill(<span class="hljs-string">&quot;Playwright&quot;</span>)<br>    <br>    <span class="hljs-comment"># 2. æ¨¡æ‹Ÿå…¨é€‰ (Ctrl+A / Macä¸Šæ˜¯ Meta+A)</span><br>    <span class="hljs-comment"># Playwright æ™ºèƒ½ä¹‹å¤„ï¼šå®ƒçŸ¥é“ä½ æ˜¯ä»€ä¹ˆç³»ç»Ÿï¼Œå¯ä»¥ç”¨ &quot;Control+A&quot; é€šæ€</span><br>    <span class="hljs-comment"># æˆ–è€…æ˜¾å¼å†™ &quot;Meta+A&quot; (Mac Commandé”®)</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; å…¨é€‰...&quot;</span>)<br>    search_input.press(<span class="hljs-string">&quot;Control+A&quot;</span>)<br>    <br>    <span class="hljs-comment"># 3. æ¨¡æ‹Ÿå‰ªåˆ‡ (Ctrl+X)</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; å‰ªåˆ‡...&quot;</span>)<br>    search_input.press(<span class="hljs-string">&quot;Control+X&quot;</span>)<br>    <br>    <span class="hljs-comment"># 4. æ¨¡æ‹Ÿç²˜è´´ (Ctrl+V)</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; ç²˜è´´...&quot;</span>)<br>    search_input.press(<span class="hljs-string">&quot;Control+V&quot;</span>)<br>    <br>    <span class="hljs-comment"># 5. æ¨¡æ‹Ÿå›è½¦ (Enter) æäº¤æœç´¢</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&gt;&gt;&gt; å›è½¦æœç´¢...&quot;</span>)<br>    search_input.press(<span class="hljs-string">&quot;Enter&quot;</span>)<br>    <br>    <span class="hljs-comment"># éªŒè¯æ˜¯å¦è·³è½¬</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å½“å‰æ ‡é¢˜: <span class="hljs-subst">&#123;page.title()&#125;</span>&quot;</span>)<br>    <br>    browser.close()<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="3-ç‰¹æ®Šï¼šé€å­—è¾“å…¥-æ¨¡æ‹Ÿäººå·¥æ‰“å­—"><a href="#3-ç‰¹æ®Šï¼šé€å­—è¾“å…¥-æ¨¡æ‹Ÿäººå·¥æ‰“å­—" class="headerlink" title="3. ç‰¹æ®Šï¼šé€å­—è¾“å…¥ (æ¨¡æ‹Ÿäººå·¥æ‰“å­—)"></a>3. ç‰¹æ®Šï¼šé€å­—è¾“å…¥ (æ¨¡æ‹Ÿäººå·¥æ‰“å­—)</h3><p>è‡ªåŠ¨åŒ–æµ‹è¯•æœ‰æ—¶å€™è¾“å…¥å¤ªå¿«ï¼Œè§¦å‘ä¸äº†é¡µé¢ä¸Šçš„è”æƒ³æœç´¢ï¼ˆSuggestï¼‰ã€‚</p>
<p>Playwright æä¾›äº†ä¸€ä¸ªç¥å™¨ï¼špress_sequentially (æ—§ç‰ˆæœ¬å« type)ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ¯ä¸ªå­—ç¬¦é—´éš” 100 æ¯«ç§’ï¼Œæ¨¡æ‹ŸçœŸäººæ‰“å­—</span><br>page.locator(<span class="hljs-string">&quot;#kw&quot;</span>).press_sequentially(<span class="hljs-string">&quot;Selenium&quot;</span>, delay=<span class="hljs-number">100</span>)<br></code></pre></td></tr></table></figure>

<p>è¿™å¯¹åº” Selenium é‡Œ <strong>è”æƒ³è¾“å…¥æ¡†</strong> çš„éš¾ç‚¹ã€‚</p>
<hr>
<h1 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h1><h3 id="1-æ ‡å‡†ä¸Šä¼ "><a href="#1-æ ‡å‡†ä¸Šä¼ " class="headerlink" title="1. æ ‡å‡†ä¸Šä¼ "></a>1. æ ‡å‡†ä¸Šä¼ </h3><p>å¦‚æœé¡µé¢ä¸Šæœ‰ä¸€ä¸ª <code>&lt;input type=&quot;file&quot;&gt;</code> æ ‡ç­¾ï¼ˆå“ªæ€•å®ƒæ˜¯éšè—çš„ï¼‰ï¼Œå¯ä»¥ç›´æ¥æŠŠæ–‡ä»¶è·¯å¾„â€œå¡«â€è¿›å»ã€‚</p>
<ul>
<li><strong>Selenium</strong>: <code>ele.send_keys(&quot;è·¯å¾„&quot;)</code></li>
<li><strong>Playwright</strong>: <strong><code>locator.set_input_files(&quot;è·¯å¾„&quot;)</code></strong></li>
</ul>
<h4 id="ğŸ’»-å®æˆ˜ä»£ç "><a href="#ğŸ’»-å®æˆ˜ä»£ç " class="headerlink" title="ğŸ’» å®æˆ˜ä»£ç "></a>ğŸ’» å®æˆ˜ä»£ç </h4><p><code>the-internet.herokuapp.com/upload</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright, expect<br><span class="hljs-keyword">import</span> os<br><br><span class="hljs-comment"># å‡†å¤‡ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶ (åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»º test.txt)</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;test.txt&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>) <span class="hljs-keyword">as</span> f:<br>    f.write(<span class="hljs-string">&quot;Hello Playwright Upload!&quot;</span>)<br><br><span class="hljs-comment"># è·å–ç»å¯¹è·¯å¾„ (å’Œ Selenium ç¬”è®°é‡Œä¸€æ ·ï¼Œæ¨èç”¨ç»å¯¹è·¯å¾„)</span><br>file_path = os.path.abspath(<span class="hljs-string">&quot;test.txt&quot;</span>)<br><br><span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:<br>    browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)<br>    page = browser.new_page()<br>    page.goto(<span class="hljs-string">&quot;https://the-internet.herokuapp.com/upload&quot;</span>)<br><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;&gt;&gt;&gt; å‡†å¤‡ä¸Šä¼ æ–‡ä»¶: <span class="hljs-subst">&#123;file_path&#125;</span>&quot;</span>)<br><br>    <span class="hljs-comment"># --- æ–¹æ³• 1: ç›´æ¥è®¾ç½®æ–‡ä»¶ (æœ€ç¨³) ---</span><br>    <span class="hljs-comment"># æ‰¾åˆ° input æ ‡ç­¾ï¼Œç›´æ¥å¡å…¥æ–‡ä»¶</span><br>    <span class="hljs-comment"># æ³¨æ„ï¼šä¸è¦ç‚¹å‡»é‚£ä¸ª &quot;Choose File&quot; æŒ‰é’®ï¼Œç›´æ¥æ“ä½œ input</span><br>    page.locator(<span class="hljs-string">&quot;#file-upload&quot;</span>).set_input_files(file_path)<br><br>    <span class="hljs-comment"># ç‚¹å‡»ä¸Šä¼ æŒ‰é’®</span><br>    page.locator(<span class="hljs-string">&quot;#file-submit&quot;</span>).click()<br><br>    <span class="hljs-comment"># æ–­è¨€ç»“æœ</span><br>    expect(page.locator(<span class="hljs-string">&quot;#uploaded-files&quot;</span>)).to_have_text(<span class="hljs-string">&quot;test.txt&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;âœ… æ ‡å‡†ä¸Šä¼ æˆåŠŸï¼&quot;</span>)<br><br>    page.wait_for_timeout(<span class="hljs-number">2000</span>)<br>    browser.close()<br><br><span class="hljs-comment"># æ¸…ç†æµ‹è¯•æ–‡ä»¶</span><br>os.remove(<span class="hljs-string">&quot;test.txt&quot;</span>)<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="2-é«˜çº§ä¸Šä¼ -æ‹¦æˆªæ–‡ä»¶é€‰æ‹©å™¨"><a href="#2-é«˜çº§ä¸Šä¼ -æ‹¦æˆªæ–‡ä»¶é€‰æ‹©å™¨" class="headerlink" title="2. é«˜çº§ä¸Šä¼  (æ‹¦æˆªæ–‡ä»¶é€‰æ‹©å™¨)"></a>2. é«˜çº§ä¸Šä¼  (æ‹¦æˆªæ–‡ä»¶é€‰æ‹©å™¨)</h3><p>è¿™æ˜¯ Playwright çš„<strong>æ€æ‰‹é”</strong>ã€‚åœ¨ Selenium ä¸­ï¼Œå¦‚æœå¿…é¡»ç‚¹å‡»æŒ‰é’®æ‰èƒ½ä¸Šä¼ ï¼ˆæ¯”å¦‚ input æ ‡ç­¾è¢«å¤æ‚çš„ JS é€»è¾‘ç§»é™¤äº†ï¼‰ï¼Œä½ ä¼šé‡åˆ°ç³»ç»Ÿå¼¹çª—ï¼ŒSelenium å°±æŸæ‰‹æ— ç­–äº†ã€‚Playwright çš„é€»è¾‘ï¼šå®ƒä¸ç®¡ç³»ç»Ÿå¼¹çª—ï¼ˆå®ƒæ˜¯â€œæ— å¤´â€çš„æ€ç»´ï¼‰ï¼Œå®ƒæ‹¦æˆªçš„æ˜¯**â€œæµè§ˆå™¨è¯·æ±‚é€‰æ‹©æ–‡ä»¶â€**è¿™ä¸ªäº‹ä»¶ã€‚</p>
<p><strong>æ­¥éª¤ï¼š</strong></p>
<ol>
<li>è®¾ç½®ç›‘å¬å™¨ï¼š<code>expect_file_chooser()</code> (è¿™å°±å¥½æ¯”åˆšæ‰å­¦çš„ç›‘å¬å¼¹çª— <code>expect_popup</code>)ã€‚</li>
<li>ç‚¹å‡»æŒ‰é’®ï¼šè§¦å‘äº‹ä»¶ã€‚</li>
<li>åœ¨æ‹¦æˆªåˆ°çš„â€œé€‰æ‹©å™¨å¯¹è±¡â€ä¸­è®¾ç½®æ–‡ä»¶ã€‚</li>
</ol>
<h4 id="ğŸ’»-å®æˆ˜æ¼”ç¤º-å³ä½¿æ˜¯æ ‡å‡†æŒ‰é’®ä¹Ÿèƒ½ç”¨è¿™æ‹›"><a href="#ğŸ’»-å®æˆ˜æ¼”ç¤º-å³ä½¿æ˜¯æ ‡å‡†æŒ‰é’®ä¹Ÿèƒ½ç”¨è¿™æ‹›" class="headerlink" title="ğŸ’» å®æˆ˜æ¼”ç¤º (å³ä½¿æ˜¯æ ‡å‡†æŒ‰é’®ä¹Ÿèƒ½ç”¨è¿™æ‹›)"></a>ğŸ’» å®æˆ˜æ¼”ç¤º (å³ä½¿æ˜¯æ ‡å‡†æŒ‰é’®ä¹Ÿèƒ½ç”¨è¿™æ‹›)</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ... å‰é¢ä»£ç ä¸€æ · ...</span><br><br><span class="hljs-comment"># --- æ–¹æ³• 2: ç‚¹å‡»æŒ‰é’®è§¦å‘ä¸Šä¼  (Selenium åšä¸åˆ°ï¼ŒPlaywright èƒ½åš) ---</span><br><br><span class="hljs-comment"># 1. è®¾ç½®ç›‘å¬å™¨ (å½“æ–‡ä»¶é€‰æ‹©å™¨å¼¹å‡ºæ—¶...)</span><br><span class="hljs-keyword">with</span> page.expect_file_chooser() <span class="hljs-keyword">as</span> fc_info:<br>    <span class="hljs-comment"># 2. ç‚¹å‡»é‚£ä¸ªä¼šè§¦å‘å¼¹çª—çš„æŒ‰é’® (ç”šè‡³æ˜¯æ™®é€šçš„ div æˆ– span)</span><br>    page.locator(<span class="hljs-string">&quot;#drag-drop-upload&quot;</span>).click() <span class="hljs-comment"># è¿™é‡Œå‡è®¾æœ‰ä¸ªç‚¹å‡»ä¸Šä¼ åŒºåŸŸ</span><br><br><span class="hljs-comment"># 3. æ‹¿åˆ°æ‹¦æˆªåˆ°çš„é€‰æ‹©å™¨</span><br>file_chooser = fc_info.value<br><br><span class="hljs-comment"># 4. è®¾ç½®æ–‡ä»¶</span><br>file_chooser.set_files(file_path)<br><br><span class="hljs-comment"># ... åé¢ä¸€æ · ...</span><br></code></pre></td></tr></table></figure>

<hr>
<h3 id="æ€»ç»“å¯¹æ¯”"><a href="#æ€»ç»“å¯¹æ¯”" class="headerlink" title="æ€»ç»“å¯¹æ¯”"></a>æ€»ç»“å¯¹æ¯”</h3><table>
<thead>
<tr>
<th><strong>åœºæ™¯</strong></th>
<th>**Selenium **</th>
<th><strong>Playwright</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>æ ‡å‡† Input</strong></td>
<td><code>send_keys(&quot;path&quot;)</code></td>
<td><code>locator.set_input_files(&quot;path&quot;)</code></td>
</tr>
<tr>
<td><strong>æ¸…é™¤æ–‡ä»¶</strong></td>
<td><code>clear</code></td>
<td><code>locator.set_input_files([])</code> (ä¼ ç©ºåˆ—è¡¨)</td>
</tr>
<tr>
<td><strong>å¤šæ–‡ä»¶ä¸Šä¼ </strong></td>
<td><code>send_keys(&quot;a.txt \n b.txt&quot;)</code> (çœ‹æµè§ˆå™¨)</td>
<td><code>set_input_files([&quot;a.txt&quot;, &quot;b.txt&quot;])</code> (åŸç”Ÿæ”¯æŒåˆ—è¡¨)</td>
</tr>
<tr>
<td><strong>éæ ‡å‡†&#x2F;å¿…é¡»ç‚¹å‡»</strong></td>
<td><strong>PyAutoGUI &#x2F; AutoIt</strong></td>
<td><strong><code>expect_file_chooser()</code></strong> (åŸç”Ÿæ”¯æŒï¼Œæ— éœ€å¤–æŒ‚)</td>
</tr>
</tbody></table>
<hr>
<h1 id="PO"><a href="#PO" class="headerlink" title="PO"></a>PO</h1><p><strong>é¡µé¢ï¼ˆPageï¼‰ä¸æµ‹è¯•ï¼ˆTestï¼‰åˆ†ç¦»</strong>ã€‚</p>
<hr>
<h3 id="1-æ ¸å¿ƒåŒºåˆ«ï¼šBasePage-è¿˜éœ€è¦å—ï¼Ÿ"><a href="#1-æ ¸å¿ƒåŒºåˆ«ï¼šBasePage-è¿˜éœ€è¦å—ï¼Ÿ" class="headerlink" title="1. æ ¸å¿ƒåŒºåˆ«ï¼šBasePage è¿˜éœ€è¦å—ï¼Ÿ"></a>1. æ ¸å¿ƒåŒºåˆ«ï¼šBasePage è¿˜éœ€è¦å—ï¼Ÿ</h3><p>åœ¨Selenium ç¬”è®°ä¸­ï¼Œ<code>BasePage</code> éå¸¸é‡è¦ï¼Œå› ä¸ºä½ éœ€è¦å°è£… <code>find_element</code> æ¥å®ç°æ˜¾å¼ç­‰å¾…ï¼Œé˜²æ­¢æŠ¥é”™ã€‚</p>
<p>ä½†åœ¨ Playwright ä¸­ï¼šç”±äºå®ƒè‡ªå¸¦è‡ªåŠ¨ç­‰å¾…ï¼ˆAuto-waitï¼‰ï¼Œä¸éœ€è¦å†å°è£…ä¸€ä¸ªå¤æ‚çš„ find() æ–¹æ³•å»å†™ WebDriverWaitã€‚</p>
<ul>
<li><strong>Selenium BasePage</strong>: å¿…é¡»æœ‰ã€‚ç”¨æ¥â€œä¿å‘½â€ï¼ˆé˜²æŠ¥é”™ï¼‰ã€‚</li>
<li><strong>Playwright BasePage</strong>: å¯é€‰ã€‚ä¸»è¦ç”¨æ¥å­˜æ”¾å…¬å…±ä¸šåŠ¡é€»è¾‘ï¼ˆæ¯”å¦‚â€œå›åˆ°é¦–é¡µâ€ã€â€œæˆªå›¾â€ã€â€œå¤„ç†é€šç”¨å¼¹çª—â€ï¼‰ï¼Œè€Œä¸æ˜¯ä¸ºäº†å°è£…åº•å±‚ APIã€‚</li>
</ul>
<hr>
<h3 id="2-é¡¹ç›®ç»“æ„æ­å»º"><a href="#2-é¡¹ç›®ç»“æ„æ­å»º" class="headerlink" title="2. é¡¹ç›®ç»“æ„æ­å»º"></a>2. é¡¹ç›®ç»“æ„æ­å»º</h3><p>æŒ‰ç…§æ ‡å‡†çš„ Python å·¥ç¨‹ç»“æ„æ¥å»ºç«‹æ–‡ä»¶å¤¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Plaintext">Playwright_PO/<br>â”œâ”€â”€ pages/              # ã€èœå•ã€‘å­˜æ”¾é¡µé¢å¯¹è±¡<br>â”‚   â”œâ”€â”€ base_page.py    # çˆ¶ç±» (é€šç”¨æ–¹æ³•)<br>â”‚   â””â”€â”€ login_page.py   # ç™»å½•é¡µ<br>â”œâ”€â”€ tests/              # ã€é¡¾å®¢ã€‘å­˜æ”¾æµ‹è¯•ç”¨ä¾‹<br>â”‚   â””â”€â”€ test_login.py   <br>â”œâ”€â”€ conftest.py         # ã€å¨æˆ¿ç®¡å®¶ã€‘Pytest çš„é…ç½®æ–‡ä»¶ (æ ¸å¿ƒï¼)<br>â””â”€â”€ main.py             # è¿è¡Œå…¥å£<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="3-ç¬¬ä¸€æ­¥ï¼šç¼–å†™-BasePage-çˆ¶ç±»"><a href="#3-ç¬¬ä¸€æ­¥ï¼šç¼–å†™-BasePage-çˆ¶ç±»" class="headerlink" title="3. ç¬¬ä¸€æ­¥ï¼šç¼–å†™ BasePage (çˆ¶ç±»)"></a>3. ç¬¬ä¸€æ­¥ï¼šç¼–å†™ BasePage (çˆ¶ç±»)</h3><p>è™½ç„¶ Playwright ä¸éœ€è¦å°è£…ç­‰å¾…ï¼Œä½†ä¸ºäº†ä»£ç è§„èŒƒï¼Œè¿˜æ˜¯å†™ä¸€ä¸ªè½»é‡çº§çš„çˆ¶ç±»ã€‚</p>
<p>æ–°å»º <code>pages/base_page.py</code>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> Page<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">BasePage</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, page: Page</span>):<br>        <span class="hljs-variable language_">self</span>.page = page<br><br>    <span class="hljs-comment"># å°è£…ä¸€ä¸ªé€šç”¨çš„æ‰“å¼€ç½‘å€æ–¹æ³•</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">open</span>(<span class="hljs-params">self, url</span>):<br>        <span class="hljs-variable language_">self</span>.page.goto(url)<br><br>    <span class="hljs-comment"># å°è£…é€šç”¨çš„è·å–æ ‡é¢˜</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_title</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.page.title()<br>        <br>    <span class="hljs-comment"># å¦‚æœæœ‰é€šç”¨çš„å¼¹çª—å¤„ç†ã€Cookieä¿å­˜ï¼Œéƒ½å¯ä»¥å†™åœ¨è¿™é‡Œ</span><br></code></pre></td></tr></table></figure>

<hr>
<h3 id="4-ç¬¬äºŒæ­¥ï¼šç¼–å†™-LoginPage-é¡µé¢å±‚"><a href="#4-ç¬¬äºŒæ­¥ï¼šç¼–å†™-LoginPage-é¡µé¢å±‚" class="headerlink" title="4. ç¬¬äºŒæ­¥ï¼šç¼–å†™ LoginPage (é¡µé¢å±‚)"></a>4. ç¬¬äºŒæ­¥ï¼šç¼–å†™ LoginPage (é¡µé¢å±‚)</h3><p>æ³¨æ„å˜åŒ–ï¼š åœ¨ <strong>init</strong> é‡Œç›´æ¥å®šä¹‰å¥½ Locatorï¼ŒåŠ¨ä½œæ–¹æ³•é‡Œç›´æ¥è°ƒç”¨ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pages.base_page <span class="hljs-keyword">import</span> BasePage<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginPage</span>(<span class="hljs-title class_ inherited__">BasePage</span>):<br>    <span class="hljs-comment"># --- 1. å®šä¹‰ Locator (å†™åœ¨æ„é€ å‡½æ•°é‡Œï¼Œæ¸…æ™°æ˜äº†) ---</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, page</span>):<br>        <span class="hljs-built_in">super</span>().__init__(page)<br>        <span class="hljs-variable language_">self</span>.url = <span class="hljs-string">&quot;https://www.saucedemo.com/&quot;</span><br>        <span class="hljs-comment"># è¿™é‡Œçš„ locator åªæ˜¯å®šä¹‰ï¼Œä¸ä¼šç«‹å³æŸ¥æ‰¾ï¼Œæ‰€ä»¥ä¸ç”¨æ‹…å¿ƒé¡µé¢æ²¡åŠ è½½</span><br>        <span class="hljs-variable language_">self</span>.username_input = page.locator(<span class="hljs-string">&quot;#user-name&quot;</span>)<br>        <span class="hljs-variable language_">self</span>.password_input = page.locator(<span class="hljs-string">&quot;#password&quot;</span>)<br>        <span class="hljs-variable language_">self</span>.login_btn = page.locator(<span class="hljs-string">&quot;#login-button&quot;</span>)<br>        <span class="hljs-variable language_">self</span>.error_msg = page.locator(<span class="hljs-string">&quot;[data-test=&#x27;error&#x27;]&quot;</span>)<br><br>    <span class="hljs-comment"># --- 2. å®šä¹‰åŠ¨ä½œ (Action) ---</span><br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">navigate</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-variable language_">self</span>.<span class="hljs-built_in">open</span>(<span class="hljs-variable language_">self</span>.url)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">self, username, password</span>):<br>        <span class="hljs-comment"># Playwright çš„ fill å’Œ click è‡ªå¸¦ç­‰å¾…ï¼Œç›´æ¥å†™é€»è¾‘ï¼Œæå…¶å¹²å‡€</span><br>        <span class="hljs-variable language_">self</span>.username_input.fill(username)<br>        <span class="hljs-variable language_">self</span>.password_input.fill(password)<br>        <span class="hljs-variable language_">self</span>.login_btn.click()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_error_text</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.error_msg.inner_text()<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="5-ç¬¬ä¸‰æ­¥ï¼šç¼–å†™æµ‹è¯•ç”¨ä¾‹-ç»“åˆ-Pytest"><a href="#5-ç¬¬ä¸‰æ­¥ï¼šç¼–å†™æµ‹è¯•ç”¨ä¾‹-ç»“åˆ-Pytest" class="headerlink" title="5. ç¬¬ä¸‰æ­¥ï¼šç¼–å†™æµ‹è¯•ç”¨ä¾‹ (ç»“åˆ Pytest)"></a>5. ç¬¬ä¸‰æ­¥ï¼šç¼–å†™æµ‹è¯•ç”¨ä¾‹ (ç»“åˆ Pytest)</h3><p>è¿™é‡Œæ˜¯ Playwright æœ€èˆ’æœçš„åœ°æ–¹ã€‚ä½¿ç”¨ pytest-playwright æ’ä»¶ã€‚ä¸éœ€è¦æ‰‹åŠ¨åˆ›å»º browser å’Œ pageï¼ŒPytest ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª page å¯¹è±¡ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pytest<br><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> Page, expect<br><span class="hljs-keyword">from</span> pages.login_page <span class="hljs-keyword">import</span> LoginPage<br><br><span class="hljs-comment"># Pytest ä¼šè‡ªåŠ¨æŠŠ page å¤¹å…·æ³¨å…¥è¿›æ¥ï¼Œä¸éœ€è¦æˆ‘ä»¬è‡ªå·± launch browser</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_login_success</span>(<span class="hljs-params">page: Page</span>):<br>    <span class="hljs-comment"># 1. å®ä¾‹åŒ–é¡µé¢å¯¹è±¡</span><br>    login_page = LoginPage(page)<br>    <br>    <span class="hljs-comment"># 2. è°ƒç”¨é¡µé¢æ–¹æ³• (ä¸šåŠ¡é€»è¾‘)</span><br>    login_page.navigate()<br>    login_page.login(<span class="hljs-string">&quot;standard_user&quot;</span>, <span class="hljs-string">&quot;secret_sauce&quot;</span>)<br>    <br>    <span class="hljs-comment"># 3. æ–­è¨€ (Testå±‚è´Ÿè´£æ–­è¨€ï¼ŒPageå±‚ä¸è¦æœ‰ expect)</span><br>    expect(page).to_have_url(<span class="hljs-string">&quot;https://www.saucedemo.com/inventory.html&quot;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_login_failed</span>(<span class="hljs-params">page: Page</span>):<br>    login_page = LoginPage(page)<br>    <br>    login_page.navigate()<br>    login_page.login(<span class="hljs-string">&quot;locked_out_user&quot;</span>, <span class="hljs-string">&quot;wrong_pwd&quot;</span>)<br>    <br>    <span class="hljs-comment"># éªŒè¯é”™è¯¯æç¤º</span><br>    error_text = login_page.get_error_text()<br>    <span class="hljs-keyword">assert</span> <span class="hljs-string">&quot;Epic sadface&quot;</span> <span class="hljs-keyword">in</span> error_text<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="6-è¿›é˜¶ä¼˜åŒ–ï¼šä½¿ç”¨-conftest-py-ç®¡ç†å¯¹è±¡"><a href="#6-è¿›é˜¶ä¼˜åŒ–ï¼šä½¿ç”¨-conftest-py-ç®¡ç†å¯¹è±¡" class="headerlink" title="6. è¿›é˜¶ä¼˜åŒ–ï¼šä½¿ç”¨ conftest.py ç®¡ç†å¯¹è±¡"></a>6. è¿›é˜¶ä¼˜åŒ–ï¼šä½¿ç”¨ <code>conftest.py</code> ç®¡ç†å¯¹è±¡</h3><p>ä¸Šé¢çš„æµ‹è¯•ä»£ç é‡Œï¼Œæ¯ä¸ªç”¨ä¾‹éƒ½è¦å†™ä¸€å¥ login_page &#x3D; LoginPage(page)ï¼Œæœ‰ç‚¹å•°å—¦ã€‚å¯ä»¥ç”¨ Pytest çš„ fixture æŠŠé¡µé¢å¯¹è±¡çš„åˆå§‹åŒ–ä¹Ÿæå–å‡ºæ¥ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pytest<br><span class="hljs-keyword">from</span> pages.login_page <span class="hljs-keyword">import</span> LoginPage<br><br><span class="hljs-comment"># å®šä¹‰ä¸€ä¸ª fixtureï¼Œåå­—å°±å« login</span><br><span class="hljs-comment"># åªè¦æµ‹è¯•ç”¨ä¾‹å‚æ•°é‡Œå†™äº† loginï¼Œå°±ä¼šè‡ªåŠ¨æ‰§è¡Œè¿™ä¸ªå‡½æ•°</span><br><span class="hljs-meta">@pytest.fixture(<span class="hljs-params">scope=<span class="hljs-string">&quot;function&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">page</span>):<br>    <span class="hljs-keyword">return</span> LoginPage(page)<br></code></pre></td></tr></table></figure>

<p><strong>ä¼˜åŒ–åçš„æµ‹è¯•ç”¨ä¾‹ (<code>tests/test_login.py</code>)ï¼š</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> expect<br><br><span class="hljs-comment"># æ³¨æ„å‚æ•°å˜æˆäº† login (å¯¹åº”ä¸Šé¢çš„ fixture)ï¼Œpage éƒ½ä¸ç”¨ä¼ äº†</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_login_success</span>(<span class="hljs-params">login</span>): <br>    <span class="hljs-comment"># login å·²ç»æ˜¯å®ä¾‹åŒ–å¥½çš„ LoginPage å¯¹è±¡äº†</span><br>    login.navigate()<br>    login.login(<span class="hljs-string">&quot;standard_user&quot;</span>, <span class="hljs-string">&quot;secret_sauce&quot;</span>)<br>    <br>    <span class="hljs-comment"># è¿™é‡Œçš„ login.page æ˜¯æˆ‘ä»¬åœ¨ BasePage é‡Œå­˜çš„ self.page</span><br>    expect(login.page).to_have_url(<span class="hljs-string">&quot;https://www.saucedemo.com/inventory.html&quot;</span>)<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="7-æ€ä¹ˆè¿è¡Œï¼Ÿ"><a href="#7-æ€ä¹ˆè¿è¡Œï¼Ÿ" class="headerlink" title="7. æ€ä¹ˆè¿è¡Œï¼Ÿ"></a>7. æ€ä¹ˆè¿è¡Œï¼Ÿ</h3><p>åœ¨ç»ˆç«¯è¾“å…¥ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># è¿è¡Œæ‰€æœ‰æµ‹è¯•</span><br>pytest<br><br><span class="hljs-comment"># è¿è¡Œç‰¹å®šæ–‡ä»¶å¹¶æ˜¾ç¤ºæµè§ˆå™¨ (headed) å’Œæ…¢æ”¾ (slowmo)</span><br>pytest tests/test_login.py --headed --slowmo 1000<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="æ€»ç»“ï¼šSelenium-PO-vs-Playwright-PO"><a href="#æ€»ç»“ï¼šSelenium-PO-vs-Playwright-PO" class="headerlink" title="æ€»ç»“ï¼šSelenium PO vs Playwright PO"></a>æ€»ç»“ï¼šSelenium PO vs Playwright PO</h3><table>
<thead>
<tr>
<th><strong>ç‰¹æ€§</strong></th>
<th><strong>Selenium PO</strong></th>
<th><strong>Playwright PO</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>BasePage</strong></td>
<td><strong>å¿…é¡»ä¸”åšé‡</strong> (å°è£… WebDriverWait)</td>
<td><strong>å¯é€‰ä¸”è½»é‡</strong> (ä»…å­˜å…¬å…±é€»è¾‘)</td>
</tr>
<tr>
<td><strong>Locator å®šä¹‰</strong></td>
<td><code>(By.ID, &quot;val&quot;)</code> å…ƒç»„</td>
<td><code>page.locator(&quot;#val&quot;)</code> å¯¹è±¡</td>
</tr>
<tr>
<td><strong>æ“ä½œæ–¹æ³•</strong></td>
<td><code>find(*loc).click()</code></td>
<td><code>self.btn.click()</code></td>
</tr>
<tr>
<td><strong>Driver ä¼ é€’</strong></td>
<td>æ‰‹åŠ¨åˆå§‹åŒ– Driver å¹¶ä¼ é€’</td>
<td>Pytest <code>page</code> fixture è‡ªåŠ¨æ³¨å…¥</td>
</tr>
<tr>
<td><strong>ä»£ç é‡</strong></td>
<td>å¤šï¼Œå®¹æ˜“å‡ºé”™</td>
<td>å°‘ï¼Œé€»è¾‘æ¸…æ™°</td>
</tr>
</tbody></table>
<hr>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Testing/" class="category-chain-item">Testing</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/python/" class="print-no-link">#python</a>
      
        <a href="/tags/Web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/" class="print-no-link">#Webè‡ªåŠ¨åŒ–æµ‹è¯•</a>
      
        <a href="/tags/playwright/" class="print-no-link">#playwright</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Playwrightå­¦ä¹ </div>
      <div>https://lilpear2002.github.io/2025/12/12/Playwrightå­¦ä¹ /</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>æµ‹å¼€æ±‚èŒè€…</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2025å¹´12æœˆ12æ—¥</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>è®¸å¯åè®®</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/12/13/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E5%9F%BA%E7%A1%80%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95%E5%B0%8F%E6%A1%88%E4%BE%8B/" title="è½¯ä»¶æµ‹è¯•åŸºç¡€åŠŸèƒ½æµ‹è¯•å°æ¡ˆä¾‹">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">è½¯ä»¶æµ‹è¯•åŸºç¡€åŠŸèƒ½æµ‹è¯•å°æ¡ˆä¾‹</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/12/10/selenium%E5%AD%A6%E4%B9%A0/" title="seleniumå­¦ä¹ ">
                        <span class="hidden-mobile">seleniumå­¦ä¹ </span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>ç›®å½•</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>
